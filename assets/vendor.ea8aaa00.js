let e=p;const t={},r={owned:null,cleanups:null,context:null,owner:null};var n=null;let i=null,o=null,a=null,f=0;function s(e,t,i){d(function(e,t,i,o){const a={fn:e,state:1,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:n,context:null,pure:i};null===n||n!==r&&(n.owned?n.owned.push(a):n.owned=[a]);return a}(e,t,!1))}function u(e){let t;return t=e(),t}function c(e,r,n){return e.comparator&&e.comparator(e.value,r)?r:i?(e.pending===t&&i.push(e),e.pending=r,r):(e.value=r,!e.observers||o&&!e.observers.length||l((()=>{for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];null,r.observers&&2!==r.state&&y(r),r.state=1,r.pure?o.push(r):a.push(r)}if(o.length>1e6)throw o=[],new Error}),!1),r)}function d(e){if(!e.fn)return;v(e);const t=n,r=f;n=e,function(e,t,r){let n;try{n=e.fn(t)}catch(i){g(i)}(!e.updatedAt||e.updatedAt<=r)&&(e.observers&&e.observers.length?c(e,n):e.value=n,e.updatedAt=r)}(e,e.value,r),n=t}function h(e){if(1!==e.state)return;if(e.suspense&&u(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<f);)1!==e.state&&2!==e.state||t.push(e);for(let r=t.length-1;r>=0;r--)if(1===(e=t[r]).state)d(e);else if(2===e.state){const t=o;o=null,b(e),o=t}}function l(r,n){if(o)return r();let s=!1;n||(o=[]),a?s=!0:a=[],f++;try{r()}catch(u){g(u)}finally{!function(r){o&&(p(o),o=null);if(r)return;a.length?function(e){if(i)return e();let r;const n=i=[];try{r=e()}finally{i=null}l((()=>{for(let e=0;e<n.length;e+=1){const r=n[e];if(r.pending!==t){const e=r.pending;r.pending=t,c(r,e)}}}),!1)}((()=>{e(a),a=null})):a=null}(s)}}function p(e){for(let t=0;t<e.length;t++)h(e[t])}function b(e){e.state=0;for(let t=0;t<e.sources.length;t+=1){const r=e.sources[t];r.sources&&(1===r.state?h(r):2===r.state&&b(r))}}function y(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=2,r.observers&&y(r))}}function v(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),n=t.observers;if(n&&n.length){const e=n.pop(),i=t.observerSlots.pop();r<n.length&&(e.sourceSlots[i]=r,n[r]=e,t.observerSlots[r]=i)}}if(e.owned){for(t=0;t<e.owned.length;t++)v(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function g(e){throw e}function m(e,t){return u((()=>e(t)))}function w(e,t,r){let n=r.length,i=t.length,o=n,a=0,f=0,s=t[i-1].nextSibling,u=null;for(;a<i||f<o;)if(t[a]!==r[f]){for(;t[i-1]===r[o-1];)i--,o--;if(i===a){const t=o<n?f?r[f-1].nextSibling:r[o-f]:s;for(;f<o;)e.insertBefore(r[f++],t)}else if(o===f)for(;a<i;)u&&u.has(t[a])||e.removeChild(t[a]),a++;else if(t[a]===r[o-1]&&r[f]===t[i-1]){const n=t[--i].nextSibling;e.insertBefore(r[f++],t[a++].nextSibling),e.insertBefore(r[--o],n),t[i]=r[o]}else{if(!u){u=new Map;let e=f;for(;e<o;)u.set(r[e],e++)}const n=u.get(t[a]);if(null!=n)if(f<n&&n<o){let s,c=a,d=1;for(;++c<i&&c<o&&null!=(s=u.get(t[c]))&&s===n+d;)d++;if(d>n-f){const i=t[a];for(;f<n;)e.insertBefore(r[f++],i)}else e.replaceChild(r[f++],t[a++])}else a++;else e.removeChild(t[a++])}}else a++,f++}function _(e,t,i){let o;return function(e,t){t&&(n=t);const i=n,o=0===e.length?r:{owned:null,cleanups:null,context:null,owner:i};let a;n=o;try{l((()=>a=e((()=>v(o)))),!0)}finally{n=i}}((r=>{o=r,E(t,e(),t.firstChild?null:void 0,i)})),()=>{o(),t.textContent=""}}function S(e,t,r){const n=document.createElement("template");n.innerHTML=e;let i=n.content.firstChild;return r&&(i=i.firstChild),i}function A(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function E(e,t,r,n){if(void 0===r||n||(n=[]),"function"!=typeof t)return x(e,t,n,r);s((n=>x(e,t(),n,r)),n)}function x(e,t,r,n,i){for(;"function"==typeof r;)r=r();if(t===r)return r;const o=typeof t,a=void 0!==n;if(e=a&&r[0]&&r[0].parentNode||e,"string"===o||"number"===o)if("number"===o&&(t=t.toString()),a){let i=r[0];i&&3===i.nodeType?i.data=t:i=document.createTextNode(t),r=I(e,r,n,i)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===o)r=I(e,r,n);else{if("function"===o)return s((()=>{let i=t();for(;"function"==typeof i;)i=i();r=x(e,i,r,n)})),()=>r;if(Array.isArray(t)){const o=[];if(k(o,t,i))return s((()=>r=x(e,o,r,n,!0))),()=>r;if(0===o.length){if(r=I(e,r,n),a)return r}else Array.isArray(r)?0===r.length?M(e,o,n):w(e,r,o):null==r||""===r?M(e,o):w(e,a&&r||[e.firstChild],o);r=o}else if(t instanceof Node){if(Array.isArray(r)){if(a)return r=I(e,r,n,t);I(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}}return r}function k(e,t,r){let n=!1;for(let i=0,o=t.length;i<o;i++){let o,a=t[i];if(a instanceof Node)e.push(a);else if(null==a||!0===a||!1===a);else if(Array.isArray(a))n=k(e,a)||n;else if("string"==(o=typeof a))e.push(document.createTextNode(a));else if("function"===o)if(r){for(;"function"==typeof a;)a=a();n=k(e,Array.isArray(a)?a:[a])||n}else e.push(a),n=!0;else e.push(document.createTextNode(a.toString()))}return n}function M(e,t,r){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function I(e,t,r,n){if(void 0===r)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let n=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const t=a.parentNode===e;n||o?t&&e.removeChild(a):t?e.replaceChild(i,a):e.insertBefore(i,r)}else n=!0}}else e.insertBefore(i,r);return[i]}var O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function P(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var j,C,B,T,U,L,N,R,D,F,K,z,q,W,H,J,V,G,Z,X,Y,$,Q,ee,te,re={exports:{}},ne={exports:{}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
j=ne,function(e){var t="object"==typeof O?O:"object"==typeof self?self:"object"==typeof this?this:{};function r(e,r){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,n){return e[t]=r?r(t,n):n}}!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};C=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},B=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},U=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(i=e[f])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},L=function(e,t){return function(r,n){t(r,n,e)}},N=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{s(n.next(e))}catch(t){o(t)}}function f(e){try{s(n.throw(e))}catch(t){o(t)}}function s(e){e.done?r(e.value):i(e.value).then(a,f)}s((n=n.apply(e,t||[])).next())}))},D=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function f(e){return function(t){return s([e,t])}}function s(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(f){o=[6,f],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},F=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||te(t,e,r)},te=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},K=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},z=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(f){i={error:f}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},q=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z(arguments[t]));return e},W=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,f=o.length;a<f;a++,i++)n[i]=o[a];return n},H=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||t)},J=function(e){return this instanceof J?(this.v=e,this):new J(e)},V=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||f(e,t)}))})}function f(e,t){try{s(i[e](t))}catch(r){d(o[0][3],r)}}function s(e){e.value instanceof J?Promise.resolve(e.value.v).then(u,c):d(o[0][2],e)}function u(e){f("next",e)}function c(e){f("throw",e)}function d(e,t){e(t),o.shift(),o.length&&f(o[0][0],o[0][1])}},G=function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:J(e[n](t)),done:"return"===n}:i?i(t):t}:i}},Z=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=K(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){i(n,o,(t=e[r](t)).done,t.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}},X=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};Y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&te(t,e,n);return r(t,e),t},$=function(e){return e&&e.__esModule?e:{default:e}},Q=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},ee=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},e("__extends",C),e("__assign",B),e("__rest",T),e("__decorate",U),e("__param",L),e("__metadata",N),e("__awaiter",R),e("__generator",D),e("__exportStar",F),e("__createBinding",te),e("__values",K),e("__read",z),e("__spread",q),e("__spreadArrays",W),e("__spreadArray",H),e("__await",J),e("__asyncGenerator",V),e("__asyncDelegator",G),e("__asyncValues",Z),e("__makeTemplateObject",X),e("__importStar",Y),e("__importDefault",$),e("__classPrivateFieldGet",Q),e("__classPrivateFieldSet",ee)}(r(t,r(j.exports)))}();var ie={exports:{}};!function(e){var t,r;t=O,r=function(){var e=function e(t){function r(e,t){return e>>>t|e<<32-t}for(var n,i,o=Math.pow,a=o(2,32),f="",s=[],u=8*t.length,c=e.h=e.h||[],d=e.k=e.k||[],h=d.length,l={},p=2;h<64;p++)if(!l[p]){for(n=0;n<313;n+=p)l[n]=p;c[h]=o(p,.5)*a|0,d[h++]=o(p,1/3)*a|0}for(t+="Â€";t.length%64-56;)t+="\0";for(n=0;n<t.length;n++){if((i=t.charCodeAt(n))>>8)return;s[n>>2]|=i<<(3-n)%4*8}for(s[s.length]=u/a|0,s[s.length]=u,i=0;i<s.length;){var b=s.slice(i,i+=16),y=c;for(c=c.slice(0,8),n=0;n<64;n++){var v=b[n-15],g=b[n-2],m=c[0],w=c[4],_=c[7]+(r(w,6)^r(w,11)^r(w,25))+(w&c[5]^~w&c[6])+d[n]+(b[n]=n<16?b[n]:b[n-16]+(r(v,7)^r(v,18)^v>>>3)+b[n-7]+(r(g,17)^r(g,19)^g>>>10)|0);(c=[_+((r(m,2)^r(m,13)^r(m,22))+(m&c[1]^m&c[2]^c[1]&c[2]))|0].concat(c))[4]=c[4]+_|0}for(n=0;n<8;n++)c[n]=c[n]+y[n]|0}for(n=0;n<8;n++)for(i=3;i+1;i--){var S=c[n]>>8*i&255;f+=(S<16?0:"")+S.toString(16)}return f};return e.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',e},e.exports?e.exports=r():t.sha256=r()}(ie);var oe="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==oe&&oe,ae="URLSearchParams"in oe,fe="Symbol"in oe&&"iterator"in Symbol,se="FileReader"in oe&&"Blob"in oe&&function(){try{return new Blob,!0}catch(e){return!1}}(),ue="FormData"in oe,ce="ArrayBuffer"in oe;if(ce)var de=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],he=ArrayBuffer.isView||function(e){return e&&de.indexOf(Object.prototype.toString.call(e))>-1};function le(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function pe(e){return"string"!=typeof e&&(e=String(e)),e}function be(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return fe&&(t[Symbol.iterator]=function(){return t}),t}function ye(e){this.map={},e instanceof ye?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function ve(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function ge(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function me(e){var t=new FileReader,r=ge(t);return t.readAsArrayBuffer(e),r}function we(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _e(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:se&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ue&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:ae&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():ce&&se&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=we(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ce&&(ArrayBuffer.prototype.isPrototypeOf(e)||he(e))?this._bodyArrayBuffer=we(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ae&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},se&&(this.blob=function(){var e=ve(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=ve(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(me)}),this.text=function(){var e,t,r,n=ve(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=ge(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ue&&(this.formData=function(){return this.text().then(Ee)}),this.json=function(){return this.text().then(JSON.parse)},this}ye.prototype.append=function(e,t){e=le(e),t=pe(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},ye.prototype.delete=function(e){delete this.map[le(e)]},ye.prototype.get=function(e){return e=le(e),this.has(e)?this.map[e]:null},ye.prototype.has=function(e){return this.map.hasOwnProperty(le(e))},ye.prototype.set=function(e,t){this.map[le(e)]=pe(t)},ye.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},ye.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),be(e)},ye.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),be(e)},ye.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),be(e)},fe&&(ye.prototype[Symbol.iterator]=ye.prototype.entries);var Se=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ae(e,t){if(!(this instanceof Ae))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof Ae){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new ye(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new ye(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),Se.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Ee(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function xe(e,t){if(!(this instanceof xe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new ye(t.headers),this.url=t.url||"",this._initBody(e)}Ae.prototype.clone=function(){return new Ae(this,{body:this._bodyInit})},_e.call(Ae.prototype),_e.call(xe.prototype),xe.prototype.clone=function(){return new xe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ye(this.headers),url:this.url})},xe.error=function(){var e=new xe(null,{status:0,statusText:""});return e.type="error",e};var ke=[301,302,303,307,308];xe.redirect=function(e,t){if(-1===ke.indexOf(t))throw new RangeError("Invalid status code");return new xe(null,{status:t,headers:{location:e}})};var Me=oe.DOMException;try{new Me}catch(gh){(Me=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),Me.prototype.constructor=Me}function Ie(e,t){return new Promise((function(r,n){var i=new Ae(e,t);if(i.signal&&i.signal.aborted)return n(new Me("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new ye,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;setTimeout((function(){r(new xe(i,n))}),0)},o.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){n(new Me("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&oe.location.href?oe.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(se?o.responseType="blob":ce&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof ye?i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,pe(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}Ie.polyfill=!0,oe.fetch||(oe.fetch=Ie,oe.Headers=ye,oe.Request=Ae,oe.Response=xe);var Oe=P(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Headers:ye,Request:Ae,Response:xe,get DOMException(){return Me},fetch:Ie}));function Pe(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}function je(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){o(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0==--i&&t(n)}))}n[e]={status:"fulfilled",value:r},0==--i&&t(n)}for(var a=0;a<n.length;a++)o(a,n[a])}))}var Ce=setTimeout;function Be(e){return Boolean(e&&void 0!==e.length)}function Te(){}function Ue(e){if(!(this instanceof Ue))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ke(e,this)}function Le(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Ue._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(i){return void Re(t.promise,i)}Ne(t.promise,n)}else(1===e._state?Ne:Re)(t.promise,e._value)}))):e._deferreds.push(t)}function Ne(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof Ue)return e._state=3,e._value=t,void De(e);if("function"==typeof r)return void Ke((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,De(e)}catch(o){Re(e,o)}var n,i}function Re(e,t){e._state=2,e._value=t,De(e)}function De(e){2===e._state&&0===e._deferreds.length&&Ue._immediateFn((function(){e._handled||Ue._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)Le(e,e._deferreds[t]);e._deferreds=null}function Fe(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function Ke(e,t){var r=!1;try{e((function(e){r||(r=!0,Ne(t,e))}),(function(e){r||(r=!0,Re(t,e))}))}catch(n){if(r)return;r=!0,Re(t,n)}}Ue.prototype.catch=function(e){return this.then(null,e)},Ue.prototype.then=function(e,t){var r=new this.constructor(Te);return Le(this,new Fe(e,t,r)),r},Ue.prototype.finally=Pe,Ue.all=function(e){return new Ue((function(t,r){if(!Be(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var f=a.then;if("function"==typeof f)return void f.call(a,(function(t){o(e,t)}),r)}n[e]=a,0==--i&&t(n)}catch(s){r(s)}}for(var a=0;a<n.length;a++)o(a,n[a])}))},Ue.allSettled=je,Ue.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Ue?e:new Ue((function(t){t(e)}))},Ue.reject=function(e){return new Ue((function(t,r){r(e)}))},Ue.race=function(e){return new Ue((function(t,r){if(!Be(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)Ue.resolve(e[n]).then(t,r)}))},Ue._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Ce(e,0)},Ue._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ze=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof ze.Promise?ze.Promise=Ue:ze.Promise.prototype.finally?ze.Promise.allSettled||(ze.Promise.allSettled=je):ze.Promise.prototype.finally=Pe;var qe=P(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"})),We={},He={};var Je=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t};var Ve=function(e){return e&&e.__esModule?e:{default:e}},Ge={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(gh){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new I(n||[]);return o._invoke=function(e,t,r){var n=d;return function(i,o){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var f=x(a,r);if(f){if(f===b)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=l;var s=c(e,t,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(e,r,a),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(gh){return{type:"throw",arg:gh}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",l="executing",p="completed",b={};function y(){}function v(){}function g(){}var m={};s(m,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==r&&n.call(_,o)&&(m=_);var S=g.prototype=y.prototype=Object.create(m);function A(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,a,f){var s=c(e[i],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,f)}),(function(e){r("throw",e,a,f)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,f)}))}f(s.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function x(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method))return b;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=c(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=g,s(S,"constructor",g),s(g,"constructor",v),v.displayName=s(g,f,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,f,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},A(E.prototype),s(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),s(S,f,"Generator"),s(S,o,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return f.type="throw",f.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],f=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}(Ge.exports);try{regeneratorRuntime=t}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}();var Ze=Ge.exports;function Xe(e,t,r,n,i,o,a){try{var f=e[o](a),s=f.value}catch(u){return void r(u)}f.done?t(s):Promise.resolve(s).then(n,i)}var Ye=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Xe(o,n,i,a,f,"next",e)}function f(e){Xe(o,n,i,a,f,"throw",e)}a(void 0)}))}},$e={},Qe=P(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}}));Object.defineProperty($e,"__esModule",{value:!0}),$e.getRootWebCryptoAll=$e.getWebCryptoAll=$e.getMsCrypto=$e.getWebCrypto=$e.getNodeCrypto=$e.default=void 0;var et=function(){return"undefined"!=typeof window?void 0:Qe};$e.getNodeCrypto=et;var tt=function(){if("undefined"!=typeof window)return window.crypto?window.crypto.subtle:void 0};$e.getWebCrypto=tt;var rt=function(){if("undefined"!=typeof window)return window.msCrypto?window.msCrypto.subtle:window.crypto?window.crypto.subtle:void 0};$e.getWebCryptoAll=rt;var nt=function(){if("undefined"!=typeof window)return window.msCrypto?window.msCrypto:window.crypto?window.crypto:void 0};$e.getRootWebCryptoAll=nt;var it=function(){if("undefined"!=typeof window&&!window.crypto)return window.msCrypto?window.msCrypto.subtle:void 0};$e.getMsCrypto=it;var ot={getNodeCrypto:et,getWebCrypto:tt,getMsCrypto:it,getWebCryptoAll:rt,getRootWebCryptoAll:nt};$e.default=ot;var at={},ft={},st={},ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.getEnvBtoa=function(){return"undefined"!=typeof window?window.btoa:ct},ut.getEnvAtob=function(){return"undefined"!=typeof window?window.atob:dt};var ct=function(e){if("undefined"==typeof Buffer)throw new Error("UnsupportedEnvironment");var t=Object.prototype.toString.call(e).slice(8,-1);return(Buffer.isBuffer(e)?e:["ArrayBuffer","TypedArray","Uint8Array","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].indexOf(t)>=0?Buffer.from(e):Buffer.from(e.toString(),"binary")).toString("base64")},dt=function(e){if("undefined"==typeof Buffer)throw new Error("UnsupportedEnvironment");return Buffer.from(e,"base64").toString("binary")};!function(e){var t=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(e,"__esModule",{value:!0});var r=t(ut);e.encodeBase64=function(t){var n="";return n="string"==typeof t?t:e.arrayBufferToString(t),r.getEnvBtoa()(n)},e.decodeBase64=function(t){var n=r.getEnvAtob()(t),o=e.stringToArrayBuffer(n);return i(o)};var n=function(e){if(e instanceof Uint8Array)return e;if(ArrayBuffer.isView(e)&&void 0!==e.buffer)return new Uint8Array(e.buffer);if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new Error("Input must be an ArrayBuffer or a TypedArray")},i=function(e){for(var t=!0,r=0;r<e.length;r++)if(e[r]>126||e[r]<32&&13!==e[r]&&10!==e[r]){t=!1;break}var n=null;if(t){n="";for(r=0;r<e.length;r++)n+=String.fromCharCode(e[r])}else n=e;return n};e.encodeBase64Url=function(t){return e.encodeBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.decodeBase64Url=function(t){return t=t.replace(/-/g,"+").replace(/_/g,"/"),e.decodeBase64(t)},e.arrayBufferToHexString=function(e){for(var t=n(e),r="",i=0;i<t.length;i++){var o=(255&t[i]).toString(16);r+=o=1===o.length?"0"+o:o}return r},e.hexStringToArrayBuffer=function(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t.push(parseInt(e.substr(n,2),16));return new Uint8Array(t)},e.arrayBufferToString=function(e){var t=n(e),r=new Array(t.length);return t.forEach((function(e,t){r[t]=e})),String.fromCharCode.apply(null,r)},e.stringToArrayBuffer=function(e){return new Uint8Array(e.length).map((function(t,r){return e.charCodeAt(r)}))}}(st);var ht={},lt=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(ht,"__esModule",{value:!0});var pt=lt(st),bt={public:"PUBLIC KEY",private:"PRIVATE KEY",encryptedPrivate:"ENCRYPTED PRIVATE KEY",certificate:"CERTIFICATE",certRequest:"CERTIFICATE REQUEST"};ht.pemToBin=function(e){var t=vt(e);return pt.decodeBase64(t)},ht.binToPem=function(e,t){var r=pt.encodeBase64(e);return yt(r,t)};var yt=function(e,t){if(Object.keys(bt).indexOf(t)<0)throw new Error("Unsupported type");for(var r=bt[t],n="-----BEGIN "+r+"-----\n";e.length>0;)n+=e.substring(0,64)+"\n",e=e.substring(64);return n=n+"-----END "+r+"-----"},vt=function(e){var t=RegExp("^-----[s]*BEGIN[^-]*-----$","gm"),r=RegExp("^-----[s]*END[^-]*-----$","gm");try{var n=e.split(t)[1].split(r)[0];return n=n.replace(/\r?\n/g,"")}catch(i){throw new Error("Invalid format as PEM")}},gt=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(ft,"__esModule",{value:!0});var mt=gt(st);ft.encoder=mt;var wt=gt(ht);ft.formatter=wt,ft.default={encoder:mt,formatter:wt};var _t={},St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;St.default={namedCurves:{"P-256":{indutnyName:"p256",nodeName:"prime256v1",payloadSize:32},"P-384":{indutnyName:"p384",nodeName:"secp384r1",payloadSize:48},"P-521":{indutnyName:"p521",nodeName:"secp521r1",payloadSize:66},"P-256K":{indutnyName:"secp256k1",nodeName:"secp256k1",payloadSize:32}},hashes:{"SHA-256":{nodeName:"sha256"},"SHA-384":{nodeName:"sha384"},"SHA-512":{nodeName:"sha512"},"SHA-1":{nodeName:"sha1"}}};var At={},Et={exports:{}};!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Qe.Buffer}catch(E){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function f(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function s(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var f=e.charCodeAt(a)-48;i*=n,i+=f>=49?f-49+10:f>=17?f-17+10:f}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,f=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<f&67108863,this.words[o+1]=a>>>26-f&67108863,(f+=24)>=26&&(f-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<f&67108863,this.words[o+1]=a>>>26-f&67108863,(f+=24)>=26&&(f-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=f(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=f(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,f=Math.min(o,o-a)+r,u=0,c=r;c<f;c+=n)u=s(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=s(e,c,e.length,t),c=0;c<a;c++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,f=67108863&a,s=a/67108864|0;r.words[0]=f;for(var u=1;u<n;u++){for(var c=s>>>26,d=67108863&s,h=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=h;l++){var p=u-l|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[l])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,s=0|c}return 0!==s?r.words[u]=0|s:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var f=this.words[a],s=(16777215&(f<<i|o)).toString(16);n=0!=(o=f>>>24-i&16777215)||a!==this.length-1?u[6-s.length]+s+n:s+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=c[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);n=(p=p.idivn(l)).isZero()?b+n:u[h-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,f,s="le"===t,u=new e(o),c=this.clone();if(s){for(f=0;!c.isZero();f++)a=c.andln(255),c.iushrn(8),u[f]=a;for(;f<o;f++)u[f]=0}else{for(f=0;f<o-i;f++)u[f]=0;for(f=0;!c.isZero();f++)a=c.andln(255),c.iushrn(8),u[o-f-1]=a}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,o,a=e.words,f=t.words,s=r.words,u=0,c=0|a[0],d=8191&c,h=c>>>13,l=0|a[1],p=8191&l,b=l>>>13,y=0|a[2],v=8191&y,g=y>>>13,m=0|a[3],w=8191&m,_=m>>>13,S=0|a[4],A=8191&S,E=S>>>13,x=0|a[5],k=8191&x,M=x>>>13,I=0|a[6],O=8191&I,P=I>>>13,j=0|a[7],C=8191&j,B=j>>>13,T=0|a[8],U=8191&T,L=T>>>13,N=0|a[9],R=8191&N,D=N>>>13,F=0|f[0],K=8191&F,z=F>>>13,q=0|f[1],W=8191&q,H=q>>>13,J=0|f[2],V=8191&J,G=J>>>13,Z=0|f[3],X=8191&Z,Y=Z>>>13,$=0|f[4],Q=8191&$,ee=$>>>13,te=0|f[5],re=8191&te,ne=te>>>13,ie=0|f[6],oe=8191&ie,ae=ie>>>13,fe=0|f[7],se=8191&fe,ue=fe>>>13,ce=0|f[8],de=8191&ce,he=ce>>>13,le=0|f[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,K))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(h,K)|0))<<13)|0;u=((o=Math.imul(h,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,z))+Math.imul(b,K)|0,o=Math.imul(b,z);var ve=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(h,W)|0))<<13)|0;u=((o=o+Math.imul(h,H)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,K),i=(i=Math.imul(v,z))+Math.imul(g,K)|0,o=Math.imul(g,z),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,H)|0;var ge=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,K),i=(i=Math.imul(w,z))+Math.imul(_,K)|0,o=Math.imul(_,z),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,G)|0;var me=(u+(n=n+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(h,X)|0))<<13)|0;u=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(A,K),i=(i=Math.imul(A,z))+Math.imul(E,K)|0,o=Math.imul(E,z),n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,Y)|0;var we=(u+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(k,K),i=(i=Math.imul(k,z))+Math.imul(M,K)|0,o=Math.imul(M,z),n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,X)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,K),i=(i=Math.imul(O,z))+Math.imul(P,K)|0,o=Math.imul(P,z),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,H)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,G)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(C,K),i=(i=Math.imul(C,z))+Math.imul(B,K)|0,o=Math.imul(B,z),n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,H)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var Ae=(u+(n=n+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,se)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,z))+Math.imul(L,K)|0,o=Math.imul(L,z),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,H)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,se)|0,o=o+Math.imul(b,ue)|0;var Ee=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,K),i=(i=Math.imul(R,z))+Math.imul(D,K)|0,o=Math.imul(D,z),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,H)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,H)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(v,se)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(g,se)|0,o=o+Math.imul(g,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,he)|0;var xe=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,W),i=(i=Math.imul(R,H))+Math.imul(D,W)|0,o=Math.imul(D,H),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,se)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(v,de)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(g,de)|0,o=o+Math.imul(g,he)|0;var ke=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,V),i=(i=Math.imul(R,G))+Math.imul(D,V)|0,o=Math.imul(D,G),n=n+Math.imul(U,X)|0,i=(i=i+Math.imul(U,Y)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Y)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,n=n+Math.imul(A,se)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(E,se)|0,o=o+Math.imul(E,ue)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,he)|0;var Me=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,be)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(R,X),i=(i=Math.imul(R,Y))+Math.imul(D,X)|0,o=Math.imul(D,Y),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(k,se)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(M,se)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(A,de)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,he)|0;var Ie=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(R,Q),i=(i=Math.imul(R,ee))+Math.imul(D,Q)|0,o=Math.imul(D,ee),n=n+Math.imul(U,re)|0,i=(i=i+Math.imul(U,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(O,se)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(P,se)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,he)|0;var Oe=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(R,re),i=(i=Math.imul(R,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul(U,oe)|0,i=(i=i+Math.imul(U,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(B,se)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(O,de)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(P,de)|0,o=o+Math.imul(P,he)|0;var Pe=(u+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(R,oe),i=(i=Math.imul(R,ae))+Math.imul(D,oe)|0,o=Math.imul(D,ae),n=n+Math.imul(U,se)|0,i=(i=i+Math.imul(U,ue)|0)+Math.imul(L,se)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,he)|0;var je=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(R,se),i=(i=Math.imul(R,ue))+Math.imul(D,se)|0,o=Math.imul(D,ue),n=n+Math.imul(U,de)|0,i=(i=i+Math.imul(U,he)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,he)|0;var Ce=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(R,de),i=(i=Math.imul(R,he))+Math.imul(D,de)|0,o=Math.imul(D,he);var Be=(u+(n=n+Math.imul(U,pe)|0)|0)+((8191&(i=(i=i+Math.imul(U,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Te=(u+(n=Math.imul(R,pe))|0)+((8191&(i=(i=Math.imul(R,be))+Math.imul(D,pe)|0))<<13)|0;return u=((o=Math.imul(D,be))+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,s[0]=ye,s[1]=ve,s[2]=ge,s[3]=me,s[4]=we,s[5]=_e,s[6]=Se,s[7]=Ae,s[8]=Ee,s[9]=xe,s[10]=ke,s[11]=Me,s[12]=Ie,s[13]=Oe,s[14]=Pe,s[15]=je,s[16]=Ce,s[17]=Be,s[18]=Te,0!==u&&(s[19]=u,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?h(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var f=67108863&n,s=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=s;u++){var c=o-u,d=(0|e.words[c])*(0|t.words[u]),h=67108863&d;f=67108863&(h=h+f|0),i+=(a=(a=a+(d/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=f,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var f=a<<1,s=Math.cos(2*Math.PI/f),u=Math.sin(2*Math.PI/f),c=0;c<i;c+=f)for(var d=s,h=u,l=0;l<a;l++){var p=r[c+l],b=n[c+l],y=r[c+l+a],v=n[c+l+a],g=d*y-h*v;v=d*v+h*y,y=g,r[c+l]=p+y,n[c+l]=b+v,r[c+l+a]=p-y,n[c+l+a]=b-v,l!==f&&(g=s*d-u*h,h=s*h+u*d,d=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),f=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,f,s,n,i),this.transform(u,o,c,d,n,i);for(var l=0;l<n;l++){var p=f[l]*c[l]-s[l]*d[l];s[l]=f[l]*d[l]+s[l]*c[l],f[l]=p}return this.conjugate(f,s,n),this.transform(f,s,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var f=this.words[t]&o,s=(0|this.words[t])-f<<n;this.words[t]=s|a,a=f>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),f=67108863^67108863>>>o<<o,s=n;if(i-=a,i=Math.max(0,i),s){for(var u=0;u<a;u++)s.words[u]=this.words[u];s.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var d=0|this.words[u];this.words[u]=c<<26-o|d>>>o,c=d&f}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var f=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+f;var s=(0|e.words[i])*t;f=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)f=(o=(0|this.words[i+n])+f)>>26,this.words[i+n]=67108863&o;if(0===f)return this.strip();for(r(-1===f),f=0,i=0;i<this.length;i++)f=(o=-(0|this.words[i])+f)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,a=0|o.words[o.length-1];0!=(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var f,s=n.length-o.length;if("mod"!==t){(f=new i(null)).length=s+1,f.words=new Array(f.length);for(var u=0;u<f.length;u++)f.words[u]=0}var c=n.clone()._ishlnsubmul(o,1,s);0===c.negative&&(n=c,f&&(f.words[s]=1));for(var d=s-1;d>=0;d--){var h=67108864*(0|n.words[o.length+d])+(0|n.words[o.length+d-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(o,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,d),n.isZero()||(n.negative^=1);f&&(f.words[d]=h)}return f&&f.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:f||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(f=this.neg().divmod(e,t),"mod"!==t&&(o=f.div.neg()),"div"!==t&&(a=f.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:o,mod:a}):0===this.negative&&0!==e.negative?(f=this.divmod(e.neg(),t),"mod"!==t&&(o=f.div.neg()),{div:o,mod:f.mod}):0!=(this.negative&e.negative)?(f=this.neg().divmod(e.neg(),t),"div"!==t&&(a=f.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:f.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,a,f},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),a=new i(0),f=new i(0),s=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(c),a.isub(d)),o.iushrn(1),a.iushrn(1);for(var p=0,b=1;0==(n.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(f.isOdd()||s.isOdd())&&(f.iadd(c),s.isub(d)),f.iushrn(1),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(f),a.isub(s)):(n.isub(t),f.isub(o),s.isub(a))}return{a:f,b:s,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,a=new i(1),f=new i(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)f.isOdd()&&f.iadd(s),f.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(f)):(n.isub(t),f.isub(a))}return(o=0===t.cmpn(1)?a:f).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var f=0|this.words[a];o=(f+=o)>>>26,f&=67108863,this.words[a]=f}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new S(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(g,v),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(m,v),n(w,v),n(_,v),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new m;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return y[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var f=new i(1).toRed(this),s=f.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(s);)c.redIAdd(s);for(var d=this.pow(c,o),h=this.pow(e,o.addn(1).iushrn(1)),l=this.pow(e,o),p=a;0!==l.cmp(f);){for(var b=l,y=0;0!==b.cmp(f);y++)b=b.redSqr();r(y<p);var v=this.pow(d,new i(1).iushln(p-y-1));h=h.redMul(v),d=v.redSqr(),l=l.redMul(d),p=y}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],a=0,f=0,s=t.bitLength()%26;for(0===s&&(s=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],c=s-1;c>=0;c--){var d=u>>c&1;o!==r[0]&&(o=this.sqr(o)),0!==d||0!==a?(a<<=1,a|=d,(4==++f||0===n&&0===c)&&(o=this.mul(o,r[a]),f=0,a=0)):f=0}s=26}return o},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(Et,O);var xt={},kt={},Mt={exports:{}};"function"==typeof Object.create?Mt.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Mt.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};for(var It={},Ot={byteLength:function(e){var t=Lt(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=Lt(e),i=n[0],o=n[1],a=new Ct(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),f=0,s=o>0?i-4:i;for(r=0;r<s;r+=4)t=jt[e.charCodeAt(r)]<<18|jt[e.charCodeAt(r+1)]<<12|jt[e.charCodeAt(r+2)]<<6|jt[e.charCodeAt(r+3)],a[f++]=t>>16&255,a[f++]=t>>8&255,a[f++]=255&t;2===o&&(t=jt[e.charCodeAt(r)]<<2|jt[e.charCodeAt(r+1)]>>4,a[f++]=255&t);1===o&&(t=jt[e.charCodeAt(r)]<<10|jt[e.charCodeAt(r+1)]<<4|jt[e.charCodeAt(r+2)]>>2,a[f++]=t>>8&255,a[f++]=255&t);return a},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,f=r-n;a<f;a+=o)i.push(Nt(e,a,a+o>f?f:a+o));1===n?(t=e[r-1],i.push(Pt[t>>2]+Pt[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(Pt[t>>10]+Pt[t>>4&63]+Pt[t<<2&63]+"="));return i.join("")}},Pt=[],jt=[],Ct="undefined"!=typeof Uint8Array?Uint8Array:Array,Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tt=0,Ut=Bt.length;Tt<Ut;++Tt)Pt[Tt]=Bt[Tt],jt[Bt.charCodeAt(Tt)]=Tt;function Lt(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function Nt(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(Pt[(i=n)>>18&63]+Pt[i>>12&63]+Pt[i>>6&63]+Pt[63&i]);return o.join("")}jt["-".charCodeAt(0)]=62,jt["_".charCodeAt(0)]=63;var Rt={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,r,n,i){var o,a,f=8*i-n-1,s=(1<<f)-1,u=s>>1,c=-7,d=r?i-1:0,h=r?-1:1,l=e[t+d];for(d+=h,o=l&(1<<-c)-1,l>>=-c,c+=f;c>0;o=256*o+e[t+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===s)return a?NaN:1/0*(l?-1:1);a+=Math.pow(2,n),o-=u}return(l?-1:1)*a*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var a,f,s,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+d>=1?h/s:h*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=c?(f=0,a=c):a+d>=1?(f=(t*s-1)*Math.pow(2,i),a+=d):(f=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+l]=255&f,l+=p,f/=256,i-=8);for(a=a<<i|f,u+=i;u>0;e[r+l]=255&a,l+=p,a/=256,u-=8);e[r+l-p]|=128*b}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(e){var t=Ot,r=Rt,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return f(e,t,r)}function f(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return Object.setPrototypeOf(n,a.prototype),n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||F(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),o(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(i)return n?-1:L(e).length;t=(""+t).toLowerCase(),i=!0}}function l(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,a=1,f=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,f/=2,s/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<f;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+s>f&&(r=f-s),o=r;o>=0;o--){for(var d=!0,h=0;h<s;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var f=parseInt(t.substr(2*a,2),16);if(F(f))return a;e[r+a]=f}return a}function g(e,t,r,n){return R(L(t,e.length-r),e,r,n)}function m(e,t,r,n){return R(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return m(e,t,r,n)}function _(e,t,r,n){return R(N(t),e,r,n)}function S(e,t,r,n){return R(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,f,s,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&u)<<6|63&o)>127&&(c=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&u)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:o=e[i+1],a=e[i+2],f=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&f)&&(s=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&f)>65535&&s<1114112&&(c=s)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return f(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return s(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(D(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):l.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),f=(r>>>=0)-(t>>>=0),s=Math.min(o,f),u=this.slice(n,i),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],f=c[d];break}return o<f?-1:f<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return m(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=K[e[o]];return i}function O(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function T(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=0,a=1,f=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===f&&0!==this[t+o-1]&&(f=1),this[t+o]=(e/a>>0)-f&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=r-1,a=1,f=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===f&&0!==this[t+o+1]&&(f=1),this[t+o]=(e/a>>0)-f&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var f=a.isBuffer(e)?e:a.from(e,n),s=f.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=f[o%s]}return this};var U=/[^+/0-9A-Za-z-_]/g;function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function N(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}var K=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()}(It);var Dt={};const Ft=Mt.exports;function Kt(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function zt(e,t){this.path=e,this.rethrow(t)}Dt.Reporter=Kt,Kt.prototype.isError=function(e){return e instanceof zt},Kt.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},Kt.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},Kt.prototype.enterKey=function(e){return this._reporterState.path.push(e)},Kt.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},Kt.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},Kt.prototype.path=function(){return this._reporterState.path.join("/")},Kt.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},Kt.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},Kt.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof zt;if(t=n?e:new zt(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},Kt.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},Ft(zt,Error),zt.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,zt),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};var qt={};const Wt=Mt.exports,Ht=Dt.Reporter,Jt=It.Buffer;function Vt(e,t){Ht.call(this,t),Jt.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function Gt(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return Gt.isEncoderBuffer(e)||(e=new Gt(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=Jt.byteLength(e);else{if(!Jt.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}Wt(Vt,Ht),qt.DecoderBuffer=Vt,Vt.isDecoderBuffer=function(e){if(e instanceof Vt)return!0;return"object"==typeof e&&Jt.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},Vt.prototype.save=function(){return{offset:this.offset,reporter:Ht.prototype.save.call(this)}},Vt.prototype.restore=function(e){const t=new Vt(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,Ht.prototype.restore.call(this,e.reporter),t},Vt.prototype.isEmpty=function(){return this.offset===this.length},Vt.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},Vt.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new Vt(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},Vt.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},qt.EncoderBuffer=Gt,Gt.isEncoderBuffer=function(e){if(e instanceof Gt)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},Gt.prototype.join=function(e,t){return e||(e=new Jt(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):Jt.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e};var Zt=Xt;function Xt(e,t){if(!e)throw new Error(t||"Assertion failed")}Xt.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};const Yt=Dt.Reporter,$t=qt.EncoderBuffer,Qt=qt.DecoderBuffer,er=Zt,tr=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],rr=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tr);function nr(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var ir=nr;const or=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];nr.prototype.clone=function(){const e=this._baseState,t={};or.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},nr.prototype._wrap=function(){const e=this._baseState;rr.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},nr.prototype._init=function(e){const t=this._baseState;er(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),er.equal(t.children.length,1,"Root node can have only one child")},nr.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(er(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(er(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){nr.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),tr.forEach((function(e){nr.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return er(null===t.tag),t.tag=e,this._useArgs(r),this}})),nr.prototype.use=function(e){er(e);const t=this._baseState;return er(null===t.use),t.use=e,this},nr.prototype.optional=function(){return this._baseState.optional=!0,this},nr.prototype.def=function(e){const t=this._baseState;return er(null===t.default),t.default=e,t.optional=!0,this},nr.prototype.explicit=function(e){const t=this._baseState;return er(null===t.explicit&&null===t.implicit),t.explicit=e,this},nr.prototype.implicit=function(e){const t=this._baseState;return er(null===t.explicit&&null===t.implicit),t.implicit=e,this},nr.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},nr.prototype.key=function(e){const t=this._baseState;return er(null===t.key),t.key=e,this},nr.prototype.any=function(){return this._baseState.any=!0,this},nr.prototype.choice=function(e){const t=this._baseState;return er(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},nr.prototype.contains=function(e){const t=this._baseState;return er(null===t.use),t.contains=e,this},nr.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(e,n,r.any),e.isError(o))return o}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),o=!0}catch(f){o=!1}e.restore(n)}}if(r.obj&&o&&(n=e.enterObject()),o){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?i=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new Qt(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&o&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},nr.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},nr.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),er(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},nr.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){const a=e.save(),f=r.choice[o];try{const r=f._decode(e,t);if(e.isError(r))return!1;n={type:o,value:r},i=!0}catch(s){return e.restore(a),!1}return!0}),this),i?n:e.error("Choice not matched")},nr.prototype._createEncoderBuffer=function(e){return new $t(e,this.reporter)},nr.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},nr.prototype._encodeValue=function(e,t,r){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new Yt);let i=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n.default)return;e=n.default}let o=null,a=!1;if(n.any)i=this._createEncoderBuffer(e);else if(n.choice)i=this._encodeChoice(e,t);else if(n.contains)o=this._getUse(n.contains,r)._encode(e,t),a=!0;else if(n.children)o=n.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(r){const n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==n.use?i=this._getUse(n.use,r)._encode(e,t):(o=this._encodePrimitive(n.tag,e),a=!0);if(!n.any&&null===n.choice){const e=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===e?null===n.use&&t.error("Tag could be omitted only for .use()"):null===n.use&&(i=this._encodeComposite(e,a,r,o))}return null!==n.explicit&&(i=this._encodeComposite(n.explicit,!1,"context",i)),i},nr.prototype._encodeChoice=function(e,t){const r=this._baseState,n=r.choice[e.type];return n||er(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},nr.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},nr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},nr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var ar={};!function(e){function t(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)}(ar);const fr=Mt.exports,sr=It.Buffer,ur=ir,cr=ar;function dr(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new lr,this.tree._init(e.body)}var hr=dr;function lr(e){ur.call(this,"der",e)}function pr(e){return e<10?"0"+e:e}dr.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},fr(lr,ur),lr.prototype._encodeComposite=function(e,t,r,n){const i=function(e,t,r,n){let i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(cr.tagByName.hasOwnProperty(e))i=cr.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=cr.tagClassByName[r||"universal"]<<6,i}(e,t,r,this.reporter);if(n.length<128){const e=new sr(2);return e[0]=i,e[1]=n.length,this._createEncoderBuffer([e,n])}let o=1;for(let f=n.length;f>=256;f>>=8)o++;const a=new sr(2+o);a[0]=i,a[1]=128|o;for(let f=1+o,s=n.length;s>0;f--,s>>=8)a[f]=255&s;return this._createEncoderBuffer([a,n])},lr.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=new sr(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},lr.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let a=0;a<e.length;a++){let t=e[a];for(n++;t>=128;t>>=7)n++}const i=new sr(n);let o=i.length-1;for(let a=e.length-1;a>=0;a--){let t=e[a];for(i[o--]=127&t;(t>>=7)>0;)i[o--]=128|127&t}return this._createEncoderBuffer(i)},lr.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[pr(n.getUTCFullYear()),pr(n.getUTCMonth()+1),pr(n.getUTCDate()),pr(n.getUTCHours()),pr(n.getUTCMinutes()),pr(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[pr(n.getUTCFullYear()%100),pr(n.getUTCMonth()+1),pr(n.getUTCDate()),pr(n.getUTCHours()),pr(n.getUTCMinutes()),pr(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},lr.prototype._encodeNull=function(){return this._createEncoderBuffer("")},lr.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!sr.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=new sr(t)}if(sr.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=new sr(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let i=e;i>=256;i>>=8)r++;const n=new Array(r);for(let i=n.length-1;i>=0;i--)n[i]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new sr(n))},lr.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},lr.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},lr.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0};const br=Mt.exports,yr=hr;function vr(e){yr.call(this,e),this.enc="pem"}br(vr,yr);var gr=vr;vr.prototype.encode=function(e,t){const r=yr.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"];for(let i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")},function(e){const t=kt;t.der=hr,t.pem=gr}();var mr={};const wr=Mt.exports,_r=Et.exports,Sr=qt.DecoderBuffer,Ar=ir,Er=ar;function xr(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new Mr,this.tree._init(e.body)}var kr=xr;function Mr(e){Ar.call(this,"der",e)}function Ir(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=Er.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:Er.tag[r]}}function Or(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let o=0;o<i;o++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}xr.prototype.decode=function(e,t){return Sr.isDecoderBuffer(e)||(e=new Sr(e,t)),this.tree._decode(e,t)},wr(Mr,Ar),Mr.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),i=Ir(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},Mr.prototype._decodeTag=function(e,t,r){const n=Ir(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=Or(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},Mr.prototype._skipUntilEnd=function(e,t){for(;;){const r=Ir(e,t);if(e.isError(r))return r;const n=Or(e,r.primitive,t);if(e.isError(n))return n;let i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},Mr.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=r.decode(e,"der",n);if(e.isError(o)&&t)break;i.push(o)}return i},Mr.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},Mr.prototype._decodeObjid=function(e,t,r){let n;const i=[];let o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0);128&a&&i.push(o);const f=i[0]/40|0,s=i[0]%40;if(n=r?i:[f,s].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},Mr.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,o,a,f,s;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),f=0|r.slice(10,12),s=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),f=0|r.slice(8,10),s=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,f,s,0)},Mr.prototype._decodeNull=function(){return null},Mr.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},Mr.prototype._decodeInt=function(e,t){const r=e.raw();let n=new _r(r);return t&&(n=t[n.toString(10)]||n),n},Mr.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree};const Pr=Mt.exports,jr=It.Buffer,Cr=kr;function Br(e){Cr.call(this,e),this.enc="pem"}Pr(Br,Cr);var Tr=Br;Br.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,a=-1;for(let u=0;u<r.length;u++){const e=r[u].match(i);if(null!==e&&e[2]===n){if(-1!==o){if("END"!==e[1])break;a=u;break}if("BEGIN"!==e[1])break;o=u}}if(-1===o||-1===a)throw new Error("PEM section not found for: "+n);const f=r.slice(o+1,a).join("");f.replace(/[^a-z0-9+/=]+/gi,"");const s=new jr(f,"base64");return Cr.prototype.decode.call(this,s,t)},function(e){const t=mr;t.der=kr,t.pem=Tr}(),function(e){const t=kt,r=mr,n=Mt.exports;function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return n(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},i.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(t[e])),this.encoders[e]},i.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}}(xt);var Ur={};!function(e){const t=Ur;t.Reporter=Dt.Reporter,t.DecoderBuffer=qt.DecoderBuffer,t.EncoderBuffer=qt.EncoderBuffer,t.Node=ir}();var Lr={};!function(e){const t=Lr;t._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},t.der=ar}(),function(e){const t=At;t.bignum=Et.exports,t.define=xt.define,t.base=Ur,t.constants=Lr,t.decoders=mr,t.encoders=kt}();var Nr=Ve;Object.defineProperty(_t,"__esModule",{value:!0}),_t.encodeAsn1Signature=_t.decodeAsn1Signature=void 0;var Rr=Nr(St),Dr=Nr(At),Fr=Nr(It).default.Buffer,Kr=Dr.default.bignum;_t.decodeAsn1Signature=function(e,t){var r=Fr.from(e),n=zr.decode(r,"der"),i=Rr.default.namedCurves[t].payloadSize,o=new Uint8Array(n.r.toArray("be",i)),a=new Uint8Array(n.s.toArray("be",i)),f=new Uint8Array(2*i);return f.set(o),f.set(a,i),f};_t.encodeAsn1Signature=function(e,t){var r=Rr.default.namedCurves[t].payloadSize,n=e.slice(0,r),i=e.slice(r,e.length),o=zr.encode({r:new Kr(n),s:new Kr(i)},"der");return new Uint8Array(o)};var zr=Dr.default.define("ECDSASignature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})),qr=Je,Wr=Ve;Object.defineProperty(at,"__esModule",{value:!0}),at.deriveSecret=at.verify=at.sign=at.generateKey=void 0;var Hr=Wr(Ze),Jr=Wr(Ye),Vr=Wr(ft),Gr=qr(_t),Zr=function(){var e=(0,Jr.default)(Hr.default.mark((function e(t,r){var n,i,o;return Hr.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.generateKey({name:"ECDSA",namedCurve:t,hash:{name:"SHA-256"}},!0,["sign","verify"]);case 2:return n=e.sent,e.next=5,r.exportKey("jwk",n.publicKey);case 5:return i=e.sent,e.next=8,r.exportKey("jwk",n.privateKey);case 8:return o=e.sent,["key_ops","alg","ext"].forEach((function(e){delete i[e],delete o[e]})),e.abrupt("return",{publicKey:i,privateKey:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();at.generateKey=Zr;var Xr=function(){var e=(0,Jr.default)(Hr.default.mark((function e(t,r,n,i,o){var a,f,s;return Hr.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:"ECDSA",namedCurve:r.crv,hash:{name:n}},e.next=3,o.importKey("jwk",r,a,!1,["sign"]);case 3:return f=e.sent,e.next=6,o.sign(a,f,t);case 6:return s=e.sent,e.abrupt("return","raw"===i?new Uint8Array(s):Gr.encodeAsn1Signature(new Uint8Array(s),r.crv));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();at.sign=Xr;var Yr=function(){var e=(0,Jr.default)(Hr.default.mark((function e(t,r,n,i,o,a){var f,s,u;return Hr.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f={name:"ECDSA",namedCurve:n.crv,hash:{name:i}},e.next=3,a.importKey("jwk",n,f,!1,["verify"]);case 3:return s=e.sent,u="raw"===o?r:Gr.decodeAsn1Signature(r,n.crv),e.next=7,a.verify(f,s,u,t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,a){return e.apply(this,arguments)}}();at.verify=Yr;var $r=function(){var e=(0,Jr.default)(Hr.default.mark((function e(t,r,n){var i,o,a,f;return Hr.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:"ECDH",namedCurve:r.crv},e.next=3,n.importKey("jwk",r,i,!1,["deriveBits"]);case 3:return o=e.sent,e.next=6,n.importKey("jwk",t,i,!1,[]);case 6:return a=e.sent,f=function(){return 8*Vr.default.encoder.decodeBase64Url(r.x).length},e.t0=Uint8Array,e.next=11,n.deriveBits(Object.assign(i,{public:a}),o,f());case 11:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();at.deriveSecret=$r;var Qr={},en={},tn={};var rn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var on=function(e,t,r){return t&&nn(e.prototype,t),r&&nn(e,r),e},an={};function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e){return un=sn="function"==typeof Symbol&&"symbol"===fn(Symbol.iterator)?function(e){return fn(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fn(e)},sn(e)}var un=sn,cn={},dn={},hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.getAlgorithmFromOid=ln,hn.getAlgorithmFromOidStrict=hn.default=void 0;function ln(e,t){return Object.keys(t).filter((function(r){return t[r].oid.toString()===e.toString()}))}hn.default={namedCurves:{"P-256":{indutnyName:"p256",payloadSize:32,oid:[1,2,840,10045,3,1,7]},"P-384":{indutnyName:"p384",payloadSize:48,oid:[1,3,132,0,34]},"P-521":{indutnyName:"p521",payloadSize:66,oid:[1,3,132,0,35]},"P-256K":{indutnyName:"secp256k1",payloadSize:32,oid:[1,3,132,0,10]}},publicKeyAlgorithms:{EC:{oid:[1,2,840,10045,2,1]},RSA:{oid:[1,2,840,113549,1,1,1]}},passwordBasedEncryptionSchemes:{"pbeWithMD5AndDES-CBC":{oid:[1,2,840,113549,1,5,3],hash:"MD5",encrypt:"DES-CBC"},"pbeWithSHA1AndDES-CBC":{oid:[1,2,840,113549,1,5,10],hash:"SHA-1",encrypt:"DES-CBC"},pbes2:{oid:[1,2,840,113549,1,5,13]}},keyDerivationFunctions:{pbkdf2:{oid:[1,2,840,113549,1,5,12],defaultSaltLen:8}},pbkdf2Prfs:{hmacWithSHA1:{oid:[1,2,840,113549,2,7],hash:"SHA-1"},hmacWithSHA256:{oid:[1,2,840,113549,2,9],hash:"SHA-256"},hmacWithSHA384:{oid:[1,2,840,113549,2,10],hash:"SHA-384"},hmacWithSHA512:{oid:[1,2,840,113549,2,11],hash:"SHA-512"}},encryptionSchemes:{"des-ede3-cbc":{oid:[1,2,840,113549,3,7],keyLength:24,ivLength:8},"aes128-cbc":{oid:[2,16,840,1,101,3,4,1,2],keyLength:16,ivLength:16},"aes192-cbc":{oid:[2,16,840,1,101,3,4,1,22],keyLength:24,ivLength:16},"aes256-cbc":{oid:[2,16,840,1,101,3,4,1,42],keyLength:32,ivLength:16}},hashes:{"SHA-256":{hashSize:32},"SHA-384":{hashSize:48},"SHA-512":{hashSize:64},"SHA-1":{hashSize:20},MD5:{hashSize:16}}};hn.getAlgorithmFromOidStrict=function(e,t){var r=ln(e,t);if(0===r.length)throw new Error("UnsupportedAlgorithm");return r[0]};var pn={},bn={};var yn,vn,gn,mn="6.5.4",wn={},_n={};!function(e){var t=_n;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(),vn=Et.exports,gn=_n,(yn=wn).assert=Zt,yn.toArray=gn.toArray,yn.zero2=gn.zero2,yn.toHex=gn.toHex,yn.encode=gn.encode,yn.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var f,s=o.andln(i-1);o.isOdd()?(f=s>(i>>1)-1?(i>>1)-s:s,o.isubn(f)):f=0,n[a]=f,o.iushrn(1)}return n},yn.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,f,s=e.andln(3)+i&3,u=t.andln(3)+o&3;3===s&&(s=-1),3===u&&(u=-1),a=0==(1&s)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?s:-s,r[0].push(a),f=0==(1&u)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==s?u:-u,r[1].push(f),2*i===a+1&&(i=1-i),2*o===f+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},yn.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},yn.parseBytes=function(e){return"string"==typeof e?yn.toArray(e,"hex"):e},yn.intFromLE=function(e){return new vn(e,"hex","le")};var Sn,An={exports:{}};function En(e){this.rand=e}if(An.exports=function(e){return Sn||(Sn=new En(null)),Sn.generate(e)},An.exports.Rand=En,En.prototype.generate=function(e){return this._rand(e)},En.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?En.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?En.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(En.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var xn=Qe;if("function"!=typeof xn.randomBytes)throw new Error("Not supported");En.prototype._rand=function(e){return xn.randomBytes(e)}}catch(mh){}var kn={},Mn=Et.exports,In=wn,On=In.getNAF,Pn=In.getJSF,jn=In.assert;function Cn(e,t){this.type=e,this.p=new Mn(t.p,16),this.red=t.prime?Mn.red(t.prime):Mn.mont(this.p),this.zero=new Mn(0).toRed(this.red),this.one=new Mn(1).toRed(this.red),this.two=new Mn(2).toRed(this.red),this.n=t.n&&new Mn(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Bn=Cn;function Tn(e,t){this.curve=e,this.type=t,this.precomputed=null}Cn.prototype.point=function(){throw new Error("Not implemented")},Cn.prototype.validate=function(){throw new Error("Not implemented")},Cn.prototype._fixedNafMul=function(e,t){jn(e.precomputed);var r=e._getDoubles(),n=On(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,a,f=[];for(o=0;o<n.length;o+=r.step){a=0;for(var s=o+r.step-1;s>=o;s--)a=(a<<1)+n[s];f.push(a)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<f.length;o++)(a=f[o])===d?c=c.mixedAdd(r.points[o]):a===-d&&(c=c.mixedAdd(r.points[o].neg()));u=u.add(c)}return u.toP()},Cn.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=On(t,r,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var s=0;f>=0&&0===o[f];f--)s++;if(f>=0&&s++,a=a.dblp(s),f<0)break;var u=o[f];jn(0!==u),a="affine"===e.type?u>0?a.mixedAdd(i[u-1>>1]):a.mixedAdd(i[-u-1>>1].neg()):u>0?a.add(i[u-1>>1]):a.add(i[-u-1>>1].neg())}return"affine"===e.type?a.toP():a},Cn.prototype._wnafMulAdd=function(e,t,r,n,i){var o,a,f,s=this._wnafT1,u=this._wnafT2,c=this._wnafT3,d=0;for(o=0;o<n;o++){var h=(f=t[o])._getNAFPoints(e);s[o]=h.wnd,u[o]=h.points}for(o=n-1;o>=1;o-=2){var l=o-1,p=o;if(1===s[l]&&1===s[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=Pn(r[l],r[p]);for(d=Math.max(v[0].length,d),c[l]=new Array(d),c[p]=new Array(d),a=0;a<d;a++){var g=0|v[0][a],m=0|v[1][a];c[l][a]=y[3*(g+1)+(m+1)],c[p][a]=0,u[l]=b}}else c[l]=On(r[l],s[l],this._bitLength),c[p]=On(r[p],s[p],this._bitLength),d=Math.max(c[l].length,d),d=Math.max(c[p].length,d)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=d;o>=0;o--){for(var S=0;o>=0;){var A=!0;for(a=0;a<n;a++)_[a]=0|c[a][o],0!==_[a]&&(A=!1);if(!A)break;S++,o--}if(o>=0&&S++,w=w.dblp(S),o<0)break;for(a=0;a<n;a++){var E=_[a];0!==E&&(E>0?f=u[a][E-1>>1]:E<0&&(f=u[a][-E-1>>1].neg()),w="affine"===f.type?w.mixedAdd(f):w.add(f))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},Cn.BasePoint=Tn,Tn.prototype.eq=function(){throw new Error("Not implemented")},Tn.prototype.validate=function(){return this.curve.validate(this)},Cn.prototype.decodePoint=function(e,t){e=In.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?jn(e[e.length-1]%2==0):7===e[0]&&jn(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Tn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Tn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Tn.prototype.encode=function(e,t){return In.encode(this._encode(t),e)},Tn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Tn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Tn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},Tn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Tn.prototype._getBeta=function(){return null},Tn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Un={exports:{}};"function"==typeof Object.create?Un.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Un.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Ln=wn,Nn=Et.exports,Rn=Un.exports,Dn=Bn,Fn=Ln.assert;function Kn(e){Dn.call(this,"short",e),this.a=new Nn(e.a,16).toRed(this.red),this.b=new Nn(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Rn(Kn,Dn);var zn=Kn;function qn(e,t,r,n){Dn.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Nn(t,16),this.y=new Nn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Wn(e,t,r,n){Dn.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Nn(0)):(this.x=new Nn(t,16),this.y=new Nn(r,16),this.z=new Nn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Kn.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Nn(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Nn(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Fn(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Nn(e.a,16),b:new Nn(e.b,16)}})):this._getEndoBasis(r)}}},Kn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Nn.mont(e),r=new Nn(2).toRed(t).redInvm(),n=r.redNeg(),i=new Nn(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Kn.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,f,s,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),l=new Nn(1),p=new Nn(0),b=new Nn(0),y=new Nn(1),v=0;0!==d.cmpn(0);){var g=h.div(d);s=h.sub(g.mul(d)),u=b.sub(g.mul(l));var m=y.sub(g.mul(p));if(!n&&s.cmp(c)<0)t=f.neg(),r=l,n=s.neg(),i=u;else if(n&&2==++v)break;f=s,h=d,d=s,b=l,l=u,y=p,p=m}o=s.neg(),a=u;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},Kn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),f=o.mul(n.a),s=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(f),k2:s.add(u).neg()}},Kn.prototype.pointFromX=function(e,t){(e=new Nn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Kn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Kn.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),f=e[o],s=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),s=s.neg(!0)),n[2*o]=f,n[2*o+1]=s,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},Rn(qn,Dn.BasePoint),Kn.prototype.point=function(e,t,r){return new qn(this,e,t,r)},Kn.prototype.pointFromJSON=function(e,t){return qn.fromJSON(this,e,t)},qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},qn.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},qn.prototype.isInfinity=function(){return this.inf},qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},qn.prototype.getX=function(){return this.x.fromRed()},qn.prototype.getY=function(){return this.y.fromRed()},qn.prototype.mul=function(e){return e=new Nn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},qn.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},qn.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},qn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},qn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Rn(Wn,Dn.BasePoint),Kn.prototype.jpoint=function(e,t,r){return new Wn(this,e,t,r)},Wn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Wn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Wn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),f=n.redSub(i),s=o.redSub(a);if(0===f.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),c=u.redMul(f),d=n.redMul(u),h=s.redSqr().redIAdd(c).redISub(d).redISub(d),l=s.redMul(d.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(h,l,p)},Wn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),f=i.redSub(o);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var s=a.redSqr(),u=s.redMul(a),c=r.redMul(s),d=f.redSqr().redIAdd(u).redISub(c).redISub(c),h=f.redMul(c.redISub(d)).redISub(i.redMul(u)),l=this.z.redMul(a);return this.curve.jpoint(d,h,l)},Wn.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,f=this.z,s=f.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var c=o.redSqr(),d=u.redSqr(),h=d.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(s)),p=o.redMul(d),b=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),v=l.redMul(y);v=v.redIAdd(v).redISub(h);var g=u.redMul(f);t+1<e&&(s=s.redMul(h)),o=b,f=g,u=v}return this.curve.jpoint(o,u.redMul(i),f)},Wn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Wn.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n),s=f.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=s,t=f.redMul(a.redISub(s)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),l=this.x.redAdd(d).redSqr().redISub(c).redISub(h);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),y=h.redIAdd(h);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Wn.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),s=f.redSqr().redISub(a).redISub(a);e=s;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=f.redMul(a.redISub(s)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=l.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},Wn.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),s=t.redAdd(t),u=(s=s.redIAdd(s)).redMul(a),c=f.redSqr().redISub(u.redAdd(u)),d=u.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=f.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,l,p)},Wn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),f=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),s=n.redIAdd(n);s=(s=(s=s.redIAdd(s)).redIAdd(s)).redIAdd(s);var u=i.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(s),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(f).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(s.redISub(u)).redISub(a.redMul(f)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(a).redSqr().redISub(r).redISub(f);return this.curve.jpoint(d,h,l)},Wn.prototype.mul=function(e,t){return e=new Nn(e,t),this.curve._wnafMul(this,e)},Wn.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Wn.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Wn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Wn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Hn=Et.exports,Jn=Un.exports,Vn=Bn,Gn=wn;function Zn(e){Vn.call(this,"mont",e),this.a=new Hn(e.a,16).toRed(this.red),this.b=new Hn(e.b,16).toRed(this.red),this.i4=new Hn(4).toRed(this.red).redInvm(),this.two=new Hn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Jn(Zn,Vn);var Xn=Zn;function Yn(e,t,r){Vn.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Hn(t,16),this.z=new Hn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Zn.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},Jn(Yn,Vn.BasePoint),Zn.prototype.decodePoint=function(e,t){return this.point(Gn.toArray(e,t),1)},Zn.prototype.point=function(e,t){return new Yn(this,e,t)},Zn.prototype.pointFromJSON=function(e){return Yn.fromJSON(this,e)},Yn.prototype.precompute=function(){},Yn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Yn.fromJSON=function(e,t){return new Yn(e,t[0],t[1]||e.one)},Yn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Yn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Yn.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Yn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Yn.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),f=t.z.redMul(o.redAdd(a).redSqr()),s=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(f,s)},Yn.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Yn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Yn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Yn.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Yn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Yn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var $n=wn,Qn=Et.exports,ei=Un.exports,ti=Bn,ri=$n.assert;function ni(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,ti.call(this,"edwards",e),this.a=new Qn(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Qn(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Qn(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ri(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}ei(ni,ti);var ii,oi=ni;function ai(e,t,r,n,i){ti.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Qn(t,16),this.y=new Qn(r,16),this.z=n?new Qn(n,16):this.curve.one,this.t=i&&new Qn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ni.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},ni.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},ni.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},ni.prototype.pointFromX=function(e,t){(e=new Qn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var f=a.fromRed().isOdd();return(t&&!f||!t&&f)&&(a=a.redNeg()),this.point(e,a)},ni.prototype.pointFromY=function(e,t){(e=new Qn(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},ni.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},ei(ai,ti.BasePoint),ni.prototype.pointFromJSON=function(e){return ai.fromJSON(this,e)},ni.prototype.point=function(e,t,r,n){return new ai(this,e,t,r,n)},ai.fromJSON=function(e,t){return new ai(e,t[0],t[1],t[2])},ai.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ai.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},ai.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),f=n.redSub(t),s=i.redMul(a),u=o.redMul(f),c=i.redMul(f),d=a.redMul(o);return this.curve.point(s,u,d,c)},ai.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),f=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(f)).redAdd(s);this.zOne?(e=a.redSub(f).redSub(s).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(s)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(f).redISub(s).redMul(o),t=u.redMul(n.redSub(s)),r=u.redMul(o))}else n=f.redAdd(s),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(f.redISub(s)),r=n.redMul(o);return this.curve.point(e,t,r)},ai.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},ai.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),f=i.redAdd(n),s=r.redAdd(t),u=o.redMul(a),c=f.redMul(s),d=o.redMul(s),h=a.redMul(f);return this.curve.point(u,c,h,d)},ai.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),f=this.curve.d.redMul(o).redMul(a),s=i.redSub(f),u=i.redAdd(f),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(s).redMul(c);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=s.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(s).redMul(u)),this.curve.point(d,t,r)},ai.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},ai.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},ai.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},ai.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},ai.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},ai.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},ai.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ai.prototype.getY=function(){return this.normalize(),this.y.fromRed()},ai.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},ai.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},ai.prototype.toP=ai.prototype.normalize,ai.prototype.mixedAdd=ai.prototype.add,(ii=kn).base=Bn,ii.short=zn,ii.mont=Xn,ii.edwards=oi;var fi={},si={},ui={},ci=Zt,di=Mt.exports;function hi(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function li(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function pi(e){return 1===e.length?"0"+e:e}function bi(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}ui.inherits=di,ui.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):hi(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},ui.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=pi(e[r].toString(16));return t},ui.htonl=li,ui.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=li(i)),r+=bi(i.toString(16))}return r},ui.zero2=pi,ui.zero8=bi,ui.join32=function(e,t,r,n){var i=r-t;ci(i%4==0);for(var o=new Array(i/4),a=0,f=t;a<o.length;a++,f+=4){var s;s="big"===n?e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+3]:e[f+3]<<24|e[f+2]<<16|e[f+1]<<8|e[f],o[a]=s>>>0}return o},ui.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},ui.rotr32=function(e,t){return e>>>t|e<<32-t},ui.rotl32=function(e,t){return e<<t|e>>>32-t},ui.sum32=function(e,t){return e+t>>>0},ui.sum32_3=function(e,t,r){return e+t+r>>>0},ui.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},ui.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},ui.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},ui.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},ui.sum64_lo=function(e,t,r,n){return t+n>>>0},ui.sum64_4_hi=function(e,t,r,n,i,o,a,f){var s=0,u=t;return s+=(u=u+n>>>0)<t?1:0,s+=(u=u+o>>>0)<o?1:0,e+r+i+a+(s+=(u=u+f>>>0)<f?1:0)>>>0},ui.sum64_4_lo=function(e,t,r,n,i,o,a,f){return t+n+o+f>>>0},ui.sum64_5_hi=function(e,t,r,n,i,o,a,f,s,u){var c=0,d=t;return c+=(d=d+n>>>0)<t?1:0,c+=(d=d+o>>>0)<o?1:0,c+=(d=d+f>>>0)<f?1:0,e+r+i+a+s+(c+=(d=d+u>>>0)<u?1:0)>>>0},ui.sum64_5_lo=function(e,t,r,n,i,o,a,f,s,u){return t+n+o+f+u>>>0},ui.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},ui.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},ui.shr64_hi=function(e,t,r){return e>>>r},ui.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var yi={},vi=ui,gi=Zt;function mi(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}yi.BlockHash=mi,mi.prototype.update=function(e,t){if(e=vi.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=vi.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},mi.prototype.digest=function(e){return this.update(this._pad()),gi(null===this.pending),this._digest(e)},mi.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var wi={},_i={},Si=ui.rotr32;function Ai(e,t,r){return e&t^~e&r}function Ei(e,t,r){return e&t^e&r^t&r}function xi(e,t,r){return e^t^r}_i.ft_1=function(e,t,r,n){return 0===e?Ai(t,r,n):1===e||3===e?xi(t,r,n):2===e?Ei(t,r,n):void 0},_i.ch32=Ai,_i.maj32=Ei,_i.p32=xi,_i.s0_256=function(e){return Si(e,2)^Si(e,13)^Si(e,22)},_i.s1_256=function(e){return Si(e,6)^Si(e,11)^Si(e,25)},_i.g0_256=function(e){return Si(e,7)^Si(e,18)^e>>>3},_i.g1_256=function(e){return Si(e,17)^Si(e,19)^e>>>10};var ki=ui,Mi=yi,Ii=_i,Oi=ki.rotl32,Pi=ki.sum32,ji=ki.sum32_5,Ci=Ii.ft_1,Bi=Mi.BlockHash,Ti=[1518500249,1859775393,2400959708,3395469782];function Ui(){if(!(this instanceof Ui))return new Ui;Bi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ki.inherits(Ui,Bi);var Li=Ui;Ui.blockSize=512,Ui.outSize=160,Ui.hmacStrength=80,Ui.padLength=64,Ui.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Oi(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],s=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=ji(Oi(i,5),Ci(u,o,a,f),s,r[n],Ti[u]);s=f,f=a,a=Oi(o,30),o=i,i=c}this.h[0]=Pi(this.h[0],i),this.h[1]=Pi(this.h[1],o),this.h[2]=Pi(this.h[2],a),this.h[3]=Pi(this.h[3],f),this.h[4]=Pi(this.h[4],s)},Ui.prototype._digest=function(e){return"hex"===e?ki.toHex32(this.h,"big"):ki.split32(this.h,"big")};var Ni=ui,Ri=yi,Di=_i,Fi=Zt,Ki=Ni.sum32,zi=Ni.sum32_4,qi=Ni.sum32_5,Wi=Di.ch32,Hi=Di.maj32,Ji=Di.s0_256,Vi=Di.s1_256,Gi=Di.g0_256,Zi=Di.g1_256,Xi=Ri.BlockHash,Yi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $i(){if(!(this instanceof $i))return new $i;Xi.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Yi,this.W=new Array(64)}Ni.inherits($i,Xi);var Qi=$i;$i.blockSize=512,$i.outSize=256,$i.hmacStrength=192,$i.padLength=64,$i.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=zi(Zi(r[n-2]),r[n-7],Gi(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],d=this.h[7];for(Fi(this.k.length===r.length),n=0;n<r.length;n++){var h=qi(d,Vi(s),Wi(s,u,c),this.k[n],r[n]),l=Ki(Ji(i),Hi(i,o,a));d=c,c=u,u=s,s=Ki(f,h),f=a,a=o,o=i,i=Ki(h,l)}this.h[0]=Ki(this.h[0],i),this.h[1]=Ki(this.h[1],o),this.h[2]=Ki(this.h[2],a),this.h[3]=Ki(this.h[3],f),this.h[4]=Ki(this.h[4],s),this.h[5]=Ki(this.h[5],u),this.h[6]=Ki(this.h[6],c),this.h[7]=Ki(this.h[7],d)},$i.prototype._digest=function(e){return"hex"===e?Ni.toHex32(this.h,"big"):Ni.split32(this.h,"big")};var eo=ui,to=Qi;function ro(){if(!(this instanceof ro))return new ro;to.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}eo.inherits(ro,to);var no=ro;ro.blockSize=512,ro.outSize=224,ro.hmacStrength=192,ro.padLength=64,ro.prototype._digest=function(e){return"hex"===e?eo.toHex32(this.h.slice(0,7),"big"):eo.split32(this.h.slice(0,7),"big")};var io=ui,oo=yi,ao=Zt,fo=io.rotr64_hi,so=io.rotr64_lo,uo=io.shr64_hi,co=io.shr64_lo,ho=io.sum64,lo=io.sum64_hi,po=io.sum64_lo,bo=io.sum64_4_hi,yo=io.sum64_4_lo,vo=io.sum64_5_hi,go=io.sum64_5_lo,mo=oo.BlockHash,wo=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _o(){if(!(this instanceof _o))return new _o;mo.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=wo,this.W=new Array(160)}io.inherits(_o,mo);var So=_o;function Ao(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Eo(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function xo(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function ko(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function Mo(e,t){var r=fo(e,t,28)^fo(t,e,2)^fo(t,e,7);return r<0&&(r+=4294967296),r}function Io(e,t){var r=so(e,t,28)^so(t,e,2)^so(t,e,7);return r<0&&(r+=4294967296),r}function Oo(e,t){var r=fo(e,t,14)^fo(e,t,18)^fo(t,e,9);return r<0&&(r+=4294967296),r}function Po(e,t){var r=so(e,t,14)^so(e,t,18)^so(t,e,9);return r<0&&(r+=4294967296),r}function jo(e,t){var r=fo(e,t,1)^fo(e,t,8)^uo(e,t,7);return r<0&&(r+=4294967296),r}function Co(e,t){var r=so(e,t,1)^so(e,t,8)^co(e,t,7);return r<0&&(r+=4294967296),r}function Bo(e,t){var r=fo(e,t,19)^fo(t,e,29)^uo(e,t,6);return r<0&&(r+=4294967296),r}function To(e,t){var r=so(e,t,19)^so(t,e,29)^co(e,t,6);return r<0&&(r+=4294967296),r}_o.blockSize=1024,_o.outSize=512,_o.hmacStrength=192,_o.padLength=128,_o.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Bo(r[n-4],r[n-3]),o=To(r[n-4],r[n-3]),a=r[n-14],f=r[n-13],s=jo(r[n-30],r[n-29]),u=Co(r[n-30],r[n-29]),c=r[n-32],d=r[n-31];r[n]=bo(i,o,a,f,s,u,c,d),r[n+1]=yo(i,o,a,f,s,u,c,d)}},_o.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],s=this.h[5],u=this.h[6],c=this.h[7],d=this.h[8],h=this.h[9],l=this.h[10],p=this.h[11],b=this.h[12],y=this.h[13],v=this.h[14],g=this.h[15];ao(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var w=v,_=g,S=Oo(d,h),A=Po(d,h),E=Ao(d,h,l,p,b),x=Eo(d,h,l,p,b,y),k=this.k[m],M=this.k[m+1],I=r[m],O=r[m+1],P=vo(w,_,S,A,E,x,k,M,I,O),j=go(w,_,S,A,E,x,k,M,I,O);w=Mo(n,i),_=Io(n,i),S=xo(n,i,o,a,f),A=ko(n,i,o,a,f,s);var C=lo(w,_,S,A),B=po(w,_,S,A);v=b,g=y,b=l,y=p,l=d,p=h,d=lo(u,c,P,j),h=po(c,c,P,j),u=f,c=s,f=o,s=a,o=n,a=i,n=lo(P,j,C,B),i=po(P,j,C,B)}ho(this.h,0,n,i),ho(this.h,2,o,a),ho(this.h,4,f,s),ho(this.h,6,u,c),ho(this.h,8,d,h),ho(this.h,10,l,p),ho(this.h,12,b,y),ho(this.h,14,v,g)},_o.prototype._digest=function(e){return"hex"===e?io.toHex32(this.h,"big"):io.split32(this.h,"big")};var Uo=ui,Lo=So;function No(){if(!(this instanceof No))return new No;Lo.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Uo.inherits(No,Lo);var Ro=No;No.blockSize=1024,No.outSize=384,No.hmacStrength=192,No.padLength=128,No.prototype._digest=function(e){return"hex"===e?Uo.toHex32(this.h.slice(0,12),"big"):Uo.split32(this.h.slice(0,12),"big")},wi.sha1=Li,wi.sha224=no,wi.sha256=Qi,wi.sha384=Ro,wi.sha512=So;var Do={},Fo=ui,Ko=yi,zo=Fo.rotl32,qo=Fo.sum32,Wo=Fo.sum32_3,Ho=Fo.sum32_4,Jo=Ko.BlockHash;function Vo(){if(!(this instanceof Vo))return new Vo;Jo.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Go(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function Zo(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Xo(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}Fo.inherits(Vo,Jo),Do.ripemd160=Vo,Vo.blockSize=512,Vo.outSize=160,Vo.hmacStrength=192,Vo.padLength=64,Vo.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],f=r,s=n,u=i,c=o,d=a,h=0;h<80;h++){var l=qo(zo(Ho(r,Go(h,n,i,o),e[Yo[h]+t],Zo(h)),Qo[h]),a);r=a,a=o,o=zo(i,10),i=n,n=l,l=qo(zo(Ho(f,Go(79-h,s,u,c),e[$o[h]+t],Xo(h)),ea[h]),d),f=d,d=c,c=zo(u,10),u=s,s=l}l=Wo(this.h[1],i,c),this.h[1]=Wo(this.h[2],o,d),this.h[2]=Wo(this.h[3],a,f),this.h[3]=Wo(this.h[4],r,s),this.h[4]=Wo(this.h[0],n,u),this.h[0]=l},Vo.prototype._digest=function(e){return"hex"===e?Fo.toHex32(this.h,"little"):Fo.split32(this.h,"little")};var Yo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],$o=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Qo=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ea=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ta=ui,ra=Zt;function na(e,t,r){if(!(this instanceof na))return new na(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ta.toArray(t,r))}var ia,oa=na;na.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),ra(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},na.prototype.update=function(e,t){return this.inner.update(e,t),this},na.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},(ia=si).utils=ui,ia.common=yi,ia.sha=wi,ia.ripemd=Do,ia.hmac=oa,ia.sha1=ia.sha.sha1,ia.sha256=ia.sha.sha256,ia.sha224=ia.sha.sha224,ia.sha384=ia.sha.sha384,ia.sha512=ia.sha.sha512,ia.ripemd160=ia.ripemd.ripemd160;var aa={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};!function(e){var t,r=fi,n=si,i=kn,o=wn.assert;function a(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=a,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=aa}catch(mh){t=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}();var fa=si,sa=_n,ua=Zt;function ca(e){if(!(this instanceof ca))return new ca(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=sa.toArray(e.entropy,e.entropyEnc||"hex"),r=sa.toArray(e.nonce,e.nonceEnc||"hex"),n=sa.toArray(e.pers,e.persEnc||"hex");ua(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var da=ca;ca.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},ca.prototype._hmac=function(){return new fa.hmac(this.hash,this.K)},ca.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ca.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=sa.toArray(e,t),r=sa.toArray(r,n),ua(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ca.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=sa.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,sa.encode(o,t)};var ha=Et.exports,la=wn.assert;function pa(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var ba=pa;pa.fromPublic=function(e,t,r){return t instanceof pa?t:new pa(e,{pub:t,pubEnc:r})},pa.fromPrivate=function(e,t,r){return t instanceof pa?t:new pa(e,{priv:t,privEnc:r})},pa.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},pa.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},pa.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},pa.prototype._importPrivate=function(e,t){this.priv=new ha(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},pa.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?la(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||la(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},pa.prototype.derive=function(e){return e.validate()||la(e.validate(),"public point not validated"),e.mul(this.priv).getX()},pa.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},pa.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},pa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ya=Et.exports,va=wn,ga=va.assert;function ma(e,t){if(e instanceof ma)return e;this._importDER(e,t)||(ga(e.r&&e.s,"Signature without r or s"),this.r=new ya(e.r,16),this.s=new ya(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var wa=ma;function _a(){this.place=0}function Sa(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function Aa(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Ea(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}ma.prototype._importDER=function(e,t){e=va.toArray(e,t);var r=new _a;if(48!==e[r.place++])return!1;var n=Sa(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Sa(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var a=Sa(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var f=e.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new ya(o),this.s=new ya(f),this.recoveryParam=null,!0},ma.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Aa(t),r=Aa(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Ea(n,t.length),(n=n.concat(t)).push(2),Ea(n,r.length);var i=n.concat(r),o=[48];return Ea(o,i.length),o=o.concat(i),va.encode(o,e)};var xa=Et.exports,ka=da,Ma=wn,Ia=fi,Oa=An.exports,Pa=Ma.assert,ja=ba,Ca=wa;function Ba(e){if(!(this instanceof Ba))return new Ba(e);"string"==typeof e&&(Pa(Object.prototype.hasOwnProperty.call(Ia,e),"Unknown curve "+e),e=Ia[e]),e instanceof Ia.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Ta=Ba;Ba.prototype.keyPair=function(e){return new ja(this,e)},Ba.prototype.keyFromPrivate=function(e,t){return ja.fromPrivate(this,e,t)},Ba.prototype.keyFromPublic=function(e,t){return ja.fromPublic(this,e,t)},Ba.prototype.genKeyPair=function(e){e||(e={});for(var t=new ka({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Oa(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new xa(2));;){var i=new xa(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Ba.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Ba.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new xa(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),a=e.toArray("be",i),f=new ka({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),s=this.n.sub(new xa(1)),u=0;;u++){var c=n.k?n.k(u):new xa(f.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(s)>=0)){var d=this.g.mul(c);if(!d.isInfinity()){var h=d.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=c.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(d.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Ca({r:l,s:p,recoveryParam:b})}}}}}},Ba.prototype.verify=function(e,t,r,n){e=this._truncateToN(new xa(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Ca(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,f=o.invm(this.n),s=f.mul(e).umod(this.n),u=f.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(s,r.getPublic(),u)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(s,r.getPublic(),u)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Ba.prototype.recoverPubKey=function(e,t,r,n){Pa((3&r)===r,"The recovery param is more than two bits"),t=new Ca(t,n);var i=this.n,o=new xa(e),a=t.r,f=t.s,s=1&r,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");a=u?this.curve.pointFromX(a.add(this.curve.n),s):this.curve.pointFromX(a,s);var c=t.r.invm(i),d=i.sub(o).mul(c).umod(i),h=f.mul(c).umod(i);return this.g.mulAdd(d,a,h)},Ba.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Ca(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(a){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ua=wn,La=Ua.assert,Na=Ua.parseBytes,Ra=Ua.cachedProperty;function Da(e,t){this.eddsa=e,this._secret=Na(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Na(t.pub)}Da.fromPublic=function(e,t){return t instanceof Da?t:new Da(e,{pub:t})},Da.fromSecret=function(e,t){return t instanceof Da?t:new Da(e,{secret:t})},Da.prototype.secret=function(){return this._secret},Ra(Da,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Ra(Da,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Ra(Da,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Ra(Da,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Ra(Da,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Ra(Da,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),Da.prototype.sign=function(e){return La(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Da.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Da.prototype.getSecret=function(e){return La(this._secret,"KeyPair is public only"),Ua.encode(this.secret(),e)},Da.prototype.getPublic=function(e){return Ua.encode(this.pubBytes(),e)};var Fa=Da,Ka=Et.exports,za=wn,qa=za.assert,Wa=za.cachedProperty,Ha=za.parseBytes;function Ja(e,t){this.eddsa=e,"object"!=typeof t&&(t=Ha(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),qa(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Ka&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Wa(Ja,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Wa(Ja,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Wa(Ja,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),Wa(Ja,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Ja.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ja.prototype.toHex=function(){return za.encode(this.toBytes(),"hex").toUpperCase()};var Va=Ja,Ga=si,Za=fi,Xa=wn,Ya=Xa.assert,$a=Xa.parseBytes,Qa=Fa,ef=Va;function tf(e){if(Ya("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof tf))return new tf(e);e=Za[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Ga.sha512}var rf,nf=tf;tf.prototype.sign=function(e,t){e=$a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),f=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:o})},tf.prototype.verify=function(e,t,r){e=$a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},tf.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Xa.intFromLE(e.digest()).umod(this.curve.n)},tf.prototype.keyFromPublic=function(e){return Qa.fromPublic(this,e)},tf.prototype.keyFromSecret=function(e){return Qa.fromSecret(this,e)},tf.prototype.makeSignature=function(e){return e instanceof ef?e:new ef(this,e)},tf.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},tf.prototype.decodePoint=function(e){var t=(e=Xa.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=Xa.intFromLE(r);return this.curve.pointFromY(i,n)},tf.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},tf.prototype.decodeInt=function(e){return Xa.intFromLE(e)},tf.prototype.isPoint=function(e){return e instanceof this.pointClass},(rf=bn).version=mn,rf.utils=wn,rf.rand=An.exports,rf.curve=kn,rf.curves=fi,rf.ec=Ta,rf.eddsa=nf;var of={},af={},ff=Ve;Object.defineProperty(af,"__esModule",{value:!0}),af.PBES2ESParams=af.PBKDF2Params=af.PBES2Params=af.PBEParameter=af.EncryptedPrivateKeyInfo=af.OneAsymmetricKey=af.SubjectPublicKeyInfo=af.KeyStructure=void 0;var sf=ff(At),uf=sf.default.define("KeyStructure",(function(){this.choice({subjectPublicKeyInfo:this.use(cf),oneAsymmetricKey:this.use(df),encryptedPrivateKeyInfo:this.use(hf)})}));af.KeyStructure=uf;var cf=sf.default.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(vf),this.key("subjectPublicKey").bitstr())}));af.SubjectPublicKeyInfo=cf;var df=sf.default.define("OneAsymmetricKey",(function(){this.seq().obj(this.key("version").use(gf),this.key("privateKeyAlgorithm").use(vf),this.key("privateKey").octstr(),this.key("attributes").implicit(0).optional().any(),this.key("publicKey").implicit(1).optional().bitstr())}));af.OneAsymmetricKey=df;var hf=sf.default.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("encryptionAlgorithm").use(vf),this.key("encryptedData").octstr())}));af.EncryptedPrivateKeyInfo=hf;var lf=sf.default.define("PBEParameter",(function(){this.seq().obj(this.key("salt").octstr(8),this.key("iterationCount").int())}));af.PBEParameter=lf;var pf=sf.default.define("PBES2Params",(function(){this.seq().obj(this.key("keyDerivationFunc").use(vf),this.key("encryptionScheme").use(vf))}));af.PBES2Params=pf;var bf=sf.default.define("PBKDF2Params",(function(){this.seq().obj(this.key("salt").choice({specified:this.octstr(),otherSource:this.use(vf)}),this.key("iterationCount").int(),this.key("keyLength").int().optional(),this.key("prf").use(vf).def({algorithm:[1,2,840,113549,2,7],parameters:Buffer.from([5,0])}))}));af.PBKDF2Params=bf;var yf={"des-ede3-cbc":sf.default.define("DesEde3CbcParams",(function(){this.octstr()})),"aes128-cbc":sf.default.define("Aes128CbcParams",(function(){this.octstr()})),"aes192-cbc":sf.default.define("Aes192CbcParams",(function(){this.octstr()})),"aes256-cbc":sf.default.define("Aes256CbcParams",(function(){this.octstr()}))};af.PBES2ESParams=yf;var vf=sf.default.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),gf=sf.default.define("Version",(function(){this.int()})),mf=Ve;Object.defineProperty(of,"__esModule",{value:!0}),of.appendLeadingZeros=of.pruneLeadingZeros=of.getJwkType=of.getSec1KeyType=of.getAsn1KeyType=of.isAsn1Public=of.isAsn1Encrypted=void 0;var wf=mf(ft),_f=mf(hn),Sf=af;of.isAsn1Encrypted=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pem";try{t=Af(e,r)}catch(mh){return!1}return"encryptedPrivate"===t};of.isAsn1Public=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pem";try{t=Af(e,r)}catch(mh){return!1}return"public"===t};var Af=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pem",r="pem"===t?wf.default.formatter.pemToBin(e,"private"):e,n=Sf.KeyStructure.decode(Buffer.from(r),"der");if("encryptedPrivateKeyInfo"===n.type)return"encryptedPrivate";if("oneAsymmetricKey"===n.type)return"private";if("subjectPublicKeyInfo"===n.type)return"public";throw new Error("NotSpkiNorPkcs8Key")};of.getAsn1KeyType=Af;of.getSec1KeyType=function(e,t){var r;if(e instanceof Uint8Array)r="binary";else{if("string"!=typeof e)throw new Error("InvalidObjectType");r="string"}var n="string"===r?wf.default.encoder.hexStringToArrayBuffer(e):e,i=_f.default.namedCurves[t].payloadSize;if(n.length<=i)return"private";if(n.length===2*i+1&&4===n[0]||n.length===i+1&&(2===n[0]||3===n[0]))return"public";throw new Error("UnsupportedKeyStructure")};of.getJwkType=function(e){if("EC"===e.kty){if(e.x&&e.y&&e.d)return"private";if(e.x&&e.y)return"public";throw new Error("InvalidECKey")}if("RSA"===e.kty){if(e.n&&e.e&&e.d&&e.p&&e.q&&e.dp&&e.dq&&e.qi)return"private";if(e.n&&e.e)return"public";throw new Error("InvalidRSAKey")}throw new Error("UnsupportedJWKType")};of.pruneLeadingZeros=function(e){if(!(e instanceof Uint8Array))throw new Error("NonUint8Array");for(var t=0,r=0;r<e.length&&0===e[r];r++)t++;var n=new Uint8Array(e.length-t);return n.set(e.slice(t,e.length)),n};of.appendLeadingZeros=function(e,t){if(!(e instanceof Uint8Array))throw new Error("NonUint8Array");if(e.length>t)throw new Error("InvalidLength");var r=new Uint8Array(t);return r.set(e,t-e.length),r};var Ef=Ve;Object.defineProperty(pn,"__esModule",{value:!0}),pn.toJwk=pn.fromJwk=void 0;var xf=Ef(hn),kf=Ef(ft),Mf=Ef(bn),If=of,Of=Mf.default.ec;pn.fromJwk=function(e,t){var r=t.outputPublic,n=t.outputFormat,i=void 0===n?"binary":n,o=t.compact,a=void 0!==o&&o,f=(0,If.getJwkType)(e),s="boolean"==typeof r&&r?"public":f;if("public"===s){var u,c=kf.default.encoder.decodeBase64Url(e.x),d=kf.default.encoder.decodeBase64Url(e.y);return a?((u=new Uint8Array(c.length+1))[0]=255&2+(1&d.slice(-1)[0]),u.set(c,1)):((u=new Uint8Array(c.length+d.length+1))[0]=4,u.set(c,1),u.set(d,c.length+1)),"string"===i?kf.default.encoder.arrayBufferToHexString(u):u}if("private"===s){if(!e.d)throw new Error("InvalidKey");var h=kf.default.encoder.decodeBase64Url(e.d);return"string"===i?kf.default.encoder.arrayBufferToHexString(h):h}};pn.toJwk=function(e,t,r){var n=r.outputPublic;if(Object.keys(xf.default.namedCurves).indexOf(t)<0)throw new Error("UnsupportedCurve");var i=(0,If.getSec1KeyType)(e,t),o="boolean"==typeof n&&n?"public":i,a="string"==typeof e?kf.default.encoder.hexStringToArrayBuffer(e):e,f=xf.default.namedCurves[t].indutnyName,s=new Of(f),u="public"===i?s.keyFromPublic(a):s.keyFromPrivate(a),c=new Uint8Array(u.getPublic("array")),d=xf.default.namedCurves[t].payloadSize,h=c.slice(1,d+1),l=c.slice(d+1,2*d+1),p={kty:"EC",crv:t,x:kf.default.encoder.encodeBase64Url(h),y:kf.default.encoder.encodeBase64Url(l)};return"private"===o&&(p.d=kf.default.encoder.encodeBase64Url(a)),p};var Pf=Je,jf=Ve;Object.defineProperty(dn,"__esModule",{value:!0}),dn.toJWK=dn.fromJWK=void 0;var Cf=jf(At),Bf=Pf(hn),Tf=pn;dn.fromJWK=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object.keys(Bf.default.namedCurves).indexOf(e.crv)<0)throw new Error("UnsupportedCurve");var n=(0,Tf.fromJwk)(e,{outputFormat:"binary",outputPublic:!0,compact:r}),i=Bf.default.publicKeyAlgorithms.EC.oid,o={unused:0,data:Array.from(n)},a=Uf.encode({type:"namedCurve",value:Bf.default.namedCurves[e.crv].oid},"der"),f={algorithm:i,parameters:a},s={};if("public"===t)s.subjectPublicKey=o,s.algorithm=f;else if("private"===t){var u=(0,Tf.fromJwk)(e,{outputFormat:"binary",outputPublic:!1,compact:r});s.version=0,s.privateKeyAlgorithm=f,s.privateKey=Lf.encode({version:1,privateKey:Array.from(u),parameters:a,publicKey:o},"der")}return s};dn.toJWK=function(e,t){if("public"===t){e.algorithm.parameters=Uf.decode(e.algorithm.parameters,"der");var r=new Uint8Array(e.subjectPublicKey.data),n=(0,Bf.getAlgorithmFromOid)(e.algorithm.parameters.value,Bf.default.namedCurves);if(n.length<1)throw new Error("UnsupportedCurve");return(0,Tf.toJwk)(r,n[0],{outputPublic:!0})}if("private"===t){e.privateKeyAlgorithm.parameters=Uf.decode(e.privateKeyAlgorithm.parameters,"der");try{e.privateKey=Lf.decode(e.privateKey,"der")}catch(mh){e.privateKey=Nf.decode(e.privateKey,"der")}var i=new Uint8Array(e.privateKey.privateKey),o=(0,Bf.getAlgorithmFromOid)(e.privateKeyAlgorithm.parameters.value,Bf.default.namedCurves);if(o.length<1)throw new Error("UnsupportedCurve");return(0,Tf.toJwk)(i,o[0],{outputPublic:!1})}};var Uf=Cf.default.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),Lf=Cf.default.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())})),Nf=Cf.default.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("publicKey").explicit(1).optional().bitstr())})),Rf={},Df=Ve;Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.toJwk=Rf.fromJwk=void 0;var Ff=Df(At),Kf=Df(ft),zf=Df(It),qf=Df(hn),Wf=of,Hf=zf.default.Buffer;Rf.fromJwk=function(e,t){var r={algorithm:qf.default.publicKeyAlgorithms.RSA.oid,parameters:Hf.from([5,0])},n=Kf.default.encoder.decodeBase64Url(e.n),i=n.length,o=i%128==0?i:i+(128-i%128),a=new Ff.default.bignum((0,Wf.appendLeadingZeros)(n,o)),f=new Ff.default.bignum(Kf.default.encoder.decodeBase64Url(e.e)),s={};return"public"===t?(s.subjectPublicKey={unused:0,data:Jf.encode({modulus:a,publicExponent:f},"der")},s.algorithm=r):"private"===t&&(s.version=0,s.privateKeyAlgorithm=r,s.privateKey=Vf.encode({version:0,modulus:a,publicExponent:f,privateExponent:new Ff.default.bignum((0,Wf.appendLeadingZeros)(Kf.default.encoder.decodeBase64Url(e.d),o)),prime1:new Ff.default.bignum((0,Wf.appendLeadingZeros)(Kf.default.encoder.decodeBase64Url(e.p),o)),prime2:new Ff.default.bignum((0,Wf.appendLeadingZeros)(Kf.default.encoder.decodeBase64Url(e.q),o)),exponent1:new Ff.default.bignum((0,Wf.appendLeadingZeros)(Kf.default.encoder.decodeBase64Url(e.dp),o)),exponent2:new Ff.default.bignum((0,Wf.appendLeadingZeros)(Kf.default.encoder.decodeBase64Url(e.dq),o)),coefficient:new Ff.default.bignum((0,Wf.appendLeadingZeros)(Kf.default.encoder.decodeBase64Url(e.qi),o))},"der")),s};Rf.toJwk=function(e,t){if("public"===t){e.subjectPublicKey.data=Jf.decode(e.subjectPublicKey.data,"der");var r=e.subjectPublicKey.data.modulus,n=e.subjectPublicKey.data.publicExponent,i=r.byteLength(),o=i%128==0?i:i+(128-i%128);return r=new Uint8Array(r.toArray("be",o)),n=new Uint8Array(n.toArray("be",n.byteLength())),{kty:"RSA",n:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(r)),e:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(n))}}if("private"===t){e.privateKey=Vf.decode(e.privateKey,"der");var a={};a.modulus=e.privateKey.modulus;var f=a.modulus.byteLength(),s=f%128==0?f:f+(128-f%128);a.modulus=new Uint8Array(a.modulus.toArray("be",s)),a.publicExponent=new Uint8Array(e.privateKey.publicExponent.toArray("be",e.privateKey.publicExponent.byteLength())),a.privateExponent=new Uint8Array(e.privateKey.privateExponent.toArray("be",s));return["prime1","prime2","exponent1","exponent2","coefficient"].forEach((function(t){a[t]=new Uint8Array(e.privateKey[t].toArray("be",s>>1))})),{kty:"RSA",n:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.modulus)),e:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.publicExponent)),d:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.privateExponent)),p:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.prime1)),q:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.prime2)),dp:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.exponent1)),dq:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.exponent2)),qi:Kf.default.encoder.encodeBase64Url((0,Wf.pruneLeadingZeros)(a.coefficient))}}};var Jf=Ff.default.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})),Vf=Ff.default.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int(),this.key("otherPrimeInfos").optional().use(Gf))})),Gf=Ff.default.define("OtherPrimeInfos",(function(){this.seqof(Zf)})),Zf=Ff.default.define("OtherPrimeInfo",(function(){this.seq().obj(this.key("prime").int(),this.key("exponent").int(),this.key("coefficient").int())})),Xf={},Yf={},$f={readUInt32BE:function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},writeUInt32BE:function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},ip:function(e,t,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var f=0;f<=24;f+=8)i<<=1,i|=t>>>f+a&1;for(f=0;f<=24;f+=8)i<<=1,i|=e>>>f+a&1}for(a=6;a>=0;a-=2){for(f=1;f<=25;f+=8)o<<=1,o|=t>>>f+a&1;for(f=1;f<=25;f+=8)o<<=1,o|=e>>>f+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},rip:function(e,t,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var f=24;f>=0;f-=8)i<<=1,i|=t>>>f+a&1,i<<=1,i|=e>>>f+a&1;for(a=4;a<8;a++)for(f=24;f>=0;f-=8)o<<=1,o|=t>>>f+a&1,o<<=1,o|=e>>>f+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},pc1:function(e,t,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var f=0;f<=24;f+=8)i<<=1,i|=t>>f+a&1;for(f=0;f<=24;f+=8)i<<=1,i|=e>>f+a&1}for(f=0;f<=24;f+=8)i<<=1,i|=t>>f+a&1;for(a=1;a<=3;a++){for(f=0;f<=24;f+=8)o<<=1,o|=t>>f+a&1;for(f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1}for(f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r28shl:function(e,t){return e<<t&268435455|e>>>28-t}},Qf=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];$f.pc2=function(e,t,r,n){for(var i=0,o=0,a=Qf.length>>>1,f=0;f<a;f++)i<<=1,i|=e>>>Qf[f]&1;for(f=a;f<Qf.length;f++)o<<=1,o|=t>>>Qf[f]&1;r[n+0]=i>>>0,r[n+1]=o>>>0},$f.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var es=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];$f.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=es[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=es[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var ts=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];$f.permute=function(e){for(var t=0,r=0;r<ts.length;r++)t<<=1,t|=e>>>ts[r]&1;return t>>>0},$f.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")};var rs=Zt;function ns(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var is=ns;ns.prototype._init=function(){},ns.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},ns.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},ns.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},ns.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},ns.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},ns.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},ns.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},ns.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},ns.prototype._unpad=function(e){return e},ns.prototype._finalDecrypt=function(){rs.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var os=Zt,as=Mt.exports,fs=$f,ss=is;function us(){this.tmp=new Array(2),this.keys=null}function cs(e){ss.call(this,e);var t=new us;this._desState=t,this.deriveKeys(t,e.key)}as(cs,ss);var ds=cs;cs.create=function(e){return new cs(e)};var hs=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];cs.prototype.deriveKeys=function(e,t){e.keys=new Array(32),os.equal(t.length,this.blockSize,"Invalid key length");var r=fs.readUInt32BE(t,0),n=fs.readUInt32BE(t,4);fs.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var o=hs[i>>>1];r=fs.r28shl(r,o),n=fs.r28shl(n,o),fs.pc2(r,n,e.keys,i)}},cs.prototype._update=function(e,t,r,n){var i=this._desState,o=fs.readUInt32BE(e,t),a=fs.readUInt32BE(e,t+4);fs.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],fs.writeUInt32BE(r,o,n),fs.writeUInt32BE(r,a,n+4)},cs.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},cs.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)os.equal(e[r],t);return e.slice(0,e.length-t)},cs.prototype._encrypt=function(e,t,r,n,i){for(var o=t,a=r,f=0;f<e.keys.length;f+=2){var s=e.keys[f],u=e.keys[f+1];fs.expand(a,e.tmp,0),s^=e.tmp[0],u^=e.tmp[1];var c=fs.substitute(s,u),d=a;a=(o^fs.permute(c))>>>0,o=d}fs.rip(a,o,n,i)},cs.prototype._decrypt=function(e,t,r,n,i){for(var o=r,a=t,f=e.keys.length-2;f>=0;f-=2){var s=e.keys[f],u=e.keys[f+1];fs.expand(o,e.tmp,0),s^=e.tmp[0],u^=e.tmp[1];var c=fs.substitute(s,u),d=o;o=(a^fs.permute(c))>>>0,a=d}fs.rip(o,a,n,i)};var ls={},ps=Zt,bs=Mt.exports,ys={};function vs(e){ps.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}ls.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}bs(t,e);for(var r=Object.keys(ys),n=0;n<r.length;n++){var i=r[n];t.prototype[i]=ys[i]}return t.create=function(e){return new t(e)},t},ys._cbcInit=function(){var e=new vs(this.options.iv);this._cbcState=e},ys._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var f=0;f<this.blockSize;f++)a[f]^=e[t+f];o._update.call(this,a,0,r,n);for(f=0;f<this.blockSize;f++)a[f]=r[n+f]}else{o._update.call(this,e,t,r,n);for(f=0;f<this.blockSize;f++)r[n+f]^=a[f];for(f=0;f<this.blockSize;f++)a[f]=e[t+f]}};var gs=Zt,ms=Mt.exports,ws=is,_s=ds;function Ss(e,t){gs.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[_s.create({type:"encrypt",key:r}),_s.create({type:"decrypt",key:n}),_s.create({type:"encrypt",key:i})]:[_s.create({type:"decrypt",key:i}),_s.create({type:"encrypt",key:n}),_s.create({type:"decrypt",key:r})]}function As(e){ws.call(this,e);var t=new Ss(this.type,this.options.key);this._edeState=t}ms(As,ws);var Es=As;As.create=function(e){return new As(e)},As.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},As.prototype._pad=_s.prototype._pad,As.prototype._unpad=_s.prototype._unpad,Yf.utils=$f,Yf.Cipher=is,Yf.DES=ds,Yf.CBC=ls,Yf.EDE=Es;var xs={},ks={},Ms={},Is={},Os={};Object.defineProperty(Os,"__esModule",{value:!0}),Os.default=void 0;Os.default={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64},"SHA3-384":{nodeName:"sha3-384",hashSize:48},"SHA3-256":{nodeName:"sha3-256",hashSize:32},"SHA3-224":{nodeName:"sha3-224",hashSize:28},"SHA-256":{nodeName:"sha256",hashSize:32},"SHA-384":{nodeName:"sha384",hashSize:48},"SHA-512":{nodeName:"sha512",hashSize:64},"SHA-1":{nodeName:"sha1",hashSize:20},MD5:{nodeName:"md5",hashSize:16}}};var Ps,js,Cs={exports:{}},Bs={exports:{}};Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",js={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&js.rotl(e,8)|4278255360&js.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=js.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(Ps.charAt(n>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((Ps.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|Ps.indexOf(e.charAt(r))>>>6-2*n);return t}},Bs.exports=js;var Ts={utf8:{stringToBytes:function(e){return Ts.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Ts.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},Us=Ts,Ls=function(e){return null!=e&&(Ns(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Ns(e.slice(0,0))}(e)||!!e._isBuffer)};function Ns(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}!function(){var e=Bs.exports,t=Us.utf8,r=Ls,n=Us.bin,i=function(o,a){o.constructor==String?o=a&&"binary"===a.encoding?n.stringToBytes(o):t.stringToBytes(o):r(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||(o=o.toString());for(var f=e.bytesToWords(o),s=8*o.length,u=1732584193,c=-271733879,d=-1732584194,h=271733878,l=0;l<f.length;l++)f[l]=16711935&(f[l]<<8|f[l]>>>24)|4278255360&(f[l]<<24|f[l]>>>8);f[s>>>5]|=128<<s%32,f[14+(s+64>>>9<<4)]=s;var p=i._ff,b=i._gg,y=i._hh,v=i._ii;for(l=0;l<f.length;l+=16){var g=u,m=c,w=d,_=h;u=p(u,c,d,h,f[l+0],7,-680876936),h=p(h,u,c,d,f[l+1],12,-389564586),d=p(d,h,u,c,f[l+2],17,606105819),c=p(c,d,h,u,f[l+3],22,-1044525330),u=p(u,c,d,h,f[l+4],7,-176418897),h=p(h,u,c,d,f[l+5],12,1200080426),d=p(d,h,u,c,f[l+6],17,-1473231341),c=p(c,d,h,u,f[l+7],22,-45705983),u=p(u,c,d,h,f[l+8],7,1770035416),h=p(h,u,c,d,f[l+9],12,-1958414417),d=p(d,h,u,c,f[l+10],17,-42063),c=p(c,d,h,u,f[l+11],22,-1990404162),u=p(u,c,d,h,f[l+12],7,1804603682),h=p(h,u,c,d,f[l+13],12,-40341101),d=p(d,h,u,c,f[l+14],17,-1502002290),u=b(u,c=p(c,d,h,u,f[l+15],22,1236535329),d,h,f[l+1],5,-165796510),h=b(h,u,c,d,f[l+6],9,-1069501632),d=b(d,h,u,c,f[l+11],14,643717713),c=b(c,d,h,u,f[l+0],20,-373897302),u=b(u,c,d,h,f[l+5],5,-701558691),h=b(h,u,c,d,f[l+10],9,38016083),d=b(d,h,u,c,f[l+15],14,-660478335),c=b(c,d,h,u,f[l+4],20,-405537848),u=b(u,c,d,h,f[l+9],5,568446438),h=b(h,u,c,d,f[l+14],9,-1019803690),d=b(d,h,u,c,f[l+3],14,-187363961),c=b(c,d,h,u,f[l+8],20,1163531501),u=b(u,c,d,h,f[l+13],5,-1444681467),h=b(h,u,c,d,f[l+2],9,-51403784),d=b(d,h,u,c,f[l+7],14,1735328473),u=y(u,c=b(c,d,h,u,f[l+12],20,-1926607734),d,h,f[l+5],4,-378558),h=y(h,u,c,d,f[l+8],11,-2022574463),d=y(d,h,u,c,f[l+11],16,1839030562),c=y(c,d,h,u,f[l+14],23,-35309556),u=y(u,c,d,h,f[l+1],4,-1530992060),h=y(h,u,c,d,f[l+4],11,1272893353),d=y(d,h,u,c,f[l+7],16,-155497632),c=y(c,d,h,u,f[l+10],23,-1094730640),u=y(u,c,d,h,f[l+13],4,681279174),h=y(h,u,c,d,f[l+0],11,-358537222),d=y(d,h,u,c,f[l+3],16,-722521979),c=y(c,d,h,u,f[l+6],23,76029189),u=y(u,c,d,h,f[l+9],4,-640364487),h=y(h,u,c,d,f[l+12],11,-421815835),d=y(d,h,u,c,f[l+15],16,530742520),u=v(u,c=y(c,d,h,u,f[l+2],23,-995338651),d,h,f[l+0],6,-198630844),h=v(h,u,c,d,f[l+7],10,1126891415),d=v(d,h,u,c,f[l+14],15,-1416354905),c=v(c,d,h,u,f[l+5],21,-57434055),u=v(u,c,d,h,f[l+12],6,1700485571),h=v(h,u,c,d,f[l+3],10,-1894986606),d=v(d,h,u,c,f[l+10],15,-1051523),c=v(c,d,h,u,f[l+1],21,-2054922799),u=v(u,c,d,h,f[l+8],6,1873313359),h=v(h,u,c,d,f[l+15],10,-30611744),d=v(d,h,u,c,f[l+6],15,-1560198380),c=v(c,d,h,u,f[l+13],21,1309151649),u=v(u,c,d,h,f[l+4],6,-145523070),h=v(h,u,c,d,f[l+11],10,-1120210379),d=v(d,h,u,c,f[l+2],15,718787259),c=v(c,d,h,u,f[l+9],21,-343485551),u=u+g>>>0,c=c+m>>>0,d=d+w>>>0,h=h+_>>>0}return e.endian([u,c,d,h])};i._ff=function(e,t,r,n,i,o,a){var f=e+(t&r|~t&n)+(i>>>0)+a;return(f<<o|f>>>32-o)+t},i._gg=function(e,t,r,n,i,o,a){var f=e+(t&n|r&~n)+(i>>>0)+a;return(f<<o|f>>>32-o)+t},i._hh=function(e,t,r,n,i,o,a){var f=e+(t^r^n)+(i>>>0)+a;return(f<<o|f>>>32-o)+t},i._ii=function(e,t,r,n,i,o,a){var f=e+(r^(t|~n))+(i>>>0)+a;return(f<<o|f>>>32-o)+t},i._blocksize=16,i._digestsize=16,Cs.exports=function(t,r){if(null==t)throw new Error("Illegal argument "+t);var o=e.wordsToBytes(i(t,r));return r&&r.asBytes?o:r&&r.asString?n.bytesToString(o):e.bytesToHex(o)}}();var Rs={},Ds={};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(e){var t=Ot,r=Rt,n="function"==typeof Symbol?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return f(e,t,r)}function f(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return Object.setPrototypeOf(n,a.prototype),n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),o(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return R(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function l(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,a=1,f=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,f/=2,s/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<f;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+s>f&&(r=f-s),o=r;o>=0;o--){for(var d=!0,h=0;h<s;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var f=parseInt(t.substr(2*a,2),16);if(K(f))return a;e[r+a]=f}return a}function g(e,t,r,n){return D(N(t,e.length-r),e,r,n)}function m(e,t,r,n){return D(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return m(e,t,r,n)}function _(e,t,r,n){return D(R(t),e,r,n)}function S(e,t,r,n){return D(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,f,s,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&u)<<6|63&o)>127&&(c=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&u)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:o=e[i+1],a=e[i+2],f=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&f)&&(s=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&f)>65535&&s<1114112&&(c=s)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(mh){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return f(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return s(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(F(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):l.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),f=(r>>>=0)-(t>>>=0),s=Math.min(o,f),u=this.slice(n,i),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],f=c[d];break}return o<f?-1:f<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return m(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=L(e[o]);return i}function O(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function T(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=0,a=1,f=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===f&&0!==this[t+o-1]&&(f=1),this[t+o]=(e/a>>0)-f&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=r-1,a=1,f=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===f&&0!==this[t+o+1]&&(f=1),this[t+o]=(e/a>>0)-f&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var f=a.isBuffer(e)?e:a.from(e,n),s=f.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=f[o%s]}return this};var U=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function R(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}}(Ds);var Fs={},Ks={},zs={},qs=function(e,t){return function(r,n){var i=2*n,o=2*t;r[i]=e[o],r[i+1]=e[o+1]}};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=qs)&&t.__esModule?t:{default:t};var n=function(e){for(var t=e.A,n=e.C,i=0;i<25;i+=5){for(var o=0;o<5;o++)(0,r.default)(t,i+o)(n,o);for(var a=0;a<5;a++){var f=2*(i+a),s=(a+1)%5*2,u=(a+2)%5*2;t[f]^=~n[s]&n[u],t[f+1]^=~n[s+1]&n[u+1]}}};e.default=n}(zs);var Ws={},Hs={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);e.default=t}(Hs),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=Hs)&&t.__esModule?t:{default:t};var n=function(e){var t=e.A,n=2*e.roundIndex;t[0]^=r.default[n],t[1]^=r.default[n+1]};e.default=n}(Ws);var Js={},Vs={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];e.default=t}(Vs);var Gs={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];e.default=t}(Gs),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(Vs),r=i(Gs),n=i(qs);function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var i=e.A,o=e.C,a=e.W;(0,n.default)(i,1)(a,0);for(var f=0,s=0,u=0,c=32,d=0;d<24;d++){var h=t.default[d],l=r.default[d];(0,n.default)(i,h)(o,0),f=a[0],s=a[1],c=32-l,a[u=l<32?0:1]=f<<l|s>>>c,a[(u+1)%2]=s<<l|f>>>c,(0,n.default)(a,0)(i,h),(0,n.default)(o,0)(a,0)}};e.default=o}(Js);var Zs={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=qs)&&t.__esModule?t:{default:t};var n=function(e){for(var t=e.A,n=e.C,i=e.D,o=e.W,a=0,f=0,s=0;s<5;s++){var u=2*s,c=2*(s+5),d=2*(s+10),h=2*(s+15),l=2*(s+20);n[u]=t[u]^t[c]^t[d]^t[h]^t[l],n[u+1]=t[u+1]^t[c+1]^t[d+1]^t[h+1]^t[l+1]}for(var p=0;p<5;p++){(0,r.default)(n,(p+1)%5)(o,0),a=o[0],f=o[1],o[0]=a<<1|f>>>31,o[1]=f<<1|a>>>31,i[2*p]=n[(p+4)%5*2]^o[0],i[2*p+1]=n[(p+4)%5*2+1]^o[1];for(var b=0;b<25;b+=5)t[2*(b+p)]^=i[2*p],t[2*(b+p)+1]^=i[2*p+1]}};e.default=n}(Zs),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(zs),r=o(Ws),n=o(Js),i=o(Zs);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e=new Uint32Array(10),o=new Uint32Array(10),a=new Uint32Array(2);return function(f){for(var s=0;s<24;s++)(0,i.default)({A:f,C:e,D:o,W:a}),(0,n.default)({A:f,C:e,W:a}),(0,t.default)({A:f,C:e}),(0,r.default)({A:f,roundIndex:s});e.fill(0),o.fill(0),a.fill(0)}};e.default=a}(Ks),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=Ds,n=(t=Ks)&&t.__esModule?t:{default:t};var i=[224,256,384,512],o=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}},a=function(e){var t=this,a=e.capacity,f=e.padding;if(!i.includes(a))throw new Error("Unsupported hash length");var s=(0,n.default)(),u=a/8,c=200-2*u,d=0,h=new Uint32Array(50),l=r.Buffer.allocUnsafe(c);return this.absorb=function(e){for(var r=0;r<e.length;r++)l[d]=e[r],(d+=1)>=c&&(o(l,h),s(h),d=0);return t},this.squeeze=function(){var e={queue:r.Buffer.allocUnsafe(c),state:new Uint32Array(50)};l.copy(e.queue);for(var t=0;t<h.length;t++)e.state[t]=h[t];return e.queue.fill(0,d),e.queue[d]|=f,e.queue[c-1]|=128,o(e.queue,e.state),s(e.state),function(e,t){for(var n=r.Buffer.allocUnsafe(t),i=0;i<t;i+=8){var o=i/4;n[i]=e[o+1],n[i+1]=e[o+1]>>>8,n[i+2]=e[o+1]>>>16,n[i+3]=e[o+1]>>>24,n[i+4]=e[o],n[i+5]=e[o]>>>8,n[i+6]=e[o]>>>16,n[i+7]=e[o]>>>24}return n}(e.state,u)},this.reset=function(){return l.fill(0),h.fill(0),d=0,t},this};e.default=a}(Fs),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t,r=Ds,n=(t=Fs)&&t.__esModule?t:{default:t};var i=function(e){var t=e.padding;return function e(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512;if(!this||this.constructor!==e)return new e(o);var a=new n.default({capacity:o,padding:t});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(r.Buffer.isBuffer(e))return a.absorb(e),i;if("string"==typeof e)return i.update(r.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t=a.squeeze();return e&&"binary"!==e?t.toString(e):t},this.reset=function(){return a.reset(),i},this}},o=i({padding:1});e.Keccak=o;var a=i({padding:6});e.SHA3=a;var f=o;e.SHA3Hash=f,a.SHA3Hash=f;var s=a;e.default=s}(Rs);var Xs=Je,Ys=Ve;Object.defineProperty(Is,"__esModule",{value:!0}),Is.compute=void 0;var $s=Ys(Ze),Qs=Ys(Ye),eu=Xs($e),tu=Ys(Os),ru=Ys(Cs.exports),nu=Rs,iu=Ys(si),ou=function(){var e=(0,Qs.default)($s.default.mark((function e(t){var r,n,i,o,a,f,s,u=arguments;return $s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"SHA-256",!(Object.keys(tu.default.hashes).indexOf(r)<0)){e.next=3;break}throw new Error("UnsupportedHashAlgorithm");case 3:if(t instanceof Uint8Array){e.next=5;break}throw new Error("UnsupportedMessageType");case 5:if(n=eu.getWebCrypto(),i=eu.getNodeCrypto(),o=eu.getMsCrypto(),s=!0,void 0===n||"function"!=typeof n.digest||void 0!==o){e.next=15;break}return e.next=12,n.digest(r,t).catch((function(e){f=e.message,s=!1}));case 12:a=e.sent,e.next=26;break;case 15:if(void 0===i){e.next=19;break}try{a=fu(r,t,i)}catch(mh){f=mh.message,s=!1}e.next=26;break;case 19:if(void 0===o||"function"!=typeof o.digest){e.next=25;break}return e.next=22,au(r,t,o).catch((function(e){f=e.message,s=!1}));case 22:a=e.sent,e.next=26;break;case 25:s=!1;case 26:if(s){e.next=35;break}e.prev=27,a=su(r,t),e.next=35;break;case 31:throw e.prev=31,e.t0=e.catch(27),f="".concat(f," => ").concat(e.t0.message),new Error("UnsupportedEnvironment: ".concat(f));case 35:return e.abrupt("return",new Uint8Array(a));case 36:case"end":return e.stop()}}),e,null,[[27,31]])})));return function(t){return e.apply(this,arguments)}}();Is.compute=ou;var au=function(e,t,r){return new Promise((function(n,i){var o=r.digest(e,t);o.oncomplete=function(e){n(e.target.result)},o.onerror=function(e){i(e)}}))},fu=function(e,t,r){var n=tu.default.hashes[e].nodeName,i=r.createHash(n);return i.update(t),i.digest()},su=function(e,t){var r;if("MD5"===e)r=(0,ru.default)(Array.from(t),{asBytes:!0});else if(["SHA3-512","SHA3-384","SHA3-256","SHA3-224"].indexOf(e)>=0){var n=new nu.SHA3(8*tu.default.hashes[e].hashSize),i=It.Buffer;n.update(i.from(t)),r=n.digest("binary")}else r=iu.default[tu.default.hashes[e].nodeName]().update(t).digest();return new Uint8Array(r)};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"compute",{enumerable:!0,get:function(){return t.compute}}),e.default=void 0;var t=Is,r={compute:t.compute};e.default=r}(Ms);var uu={},cu={},du={};Object.defineProperty(du,"__esModule",{value:!0}),du.default=void 0;du.default={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64,blockSize:72},"SHA3-384":{nodeName:"sha3-384",hashSize:48,blockSize:104},"SHA3-256":{nodeName:"sha3-256",hashSize:32,blockSize:136},"SHA3-224":{nodeName:"sha3-224",hashSize:28,blockSize:144},"SHA-256":{nodeName:"sha256",hashSize:32,blockSize:64},"SHA-384":{nodeName:"sha384",hashSize:48,blockSize:128},"SHA-512":{nodeName:"sha512",hashSize:64,blockSize:128},"SHA-1":{nodeName:"sha1",hashSize:20,blockSize:64},MD5:{nodeName:"md5",hashSize:16,blockSize:64}}};var hu=Je,lu=Ve;Object.defineProperty(cu,"__esModule",{value:!0}),cu.verify=cu.compute=void 0;var pu=lu(Ze),bu=lu(Ye),yu=lu(du),vu=hu($e),gu=lu(Ms),mu=function(){var e=(0,bu.default)(pu.default.mark((function e(t,r){var n,i,o,a,f,s,u,c,d,h,l,p=arguments;return pu.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>2&&void 0!==p[2]?p[2]:"SHA-256",i=vu.getWebCryptoAll(),o=vu.getNodeCrypto(),a=!0,void 0===i||"function"!=typeof i.importKey||"function"!=typeof i.sign){e.next=38;break}if(void 0!==window.msCrypto){e.next=21;break}return e.prev=6,e.next=9,i.importKey("raw",t,{name:"HMAC",hash:{name:n}},!1,["sign","verify"]);case 9:return f=e.sent,e.next=12,i.sign({name:"HMAC",hash:{name:n}},f,r);case 12:return s=e.sent,e.abrupt("return",new Uint8Array(s));case 16:e.prev=16,e.t0=e.catch(6),a=!1;case 19:e.next=36;break;case 21:return e.prev=21,u=function(e,t,r,n,o){return new Promise((function(a,f){var s=i.importKey(e,t,r,n,o);s.oncomplete=function(e){a(e.target.result)},s.onerror=function(){f("KeyImportingFailed")}}))},c=function(e,t,r){return new Promise((function(n,o){var a=i.sign({name:"HMAC",hash:{name:e}},t,r);a.oncomplete=function(e){n(new Uint8Array(e.target.result))},a.onerror=function(){o("ComputingHMACFailed")}}))},e.next=26,u("raw",t,{name:"HMAC",hash:{name:n}},!1,["sign","verify"]);case 26:return d=e.sent,e.next=29,c(n,d,r);case 29:return h=e.sent,e.abrupt("return",new Uint8Array(h));case 33:e.prev=33,e.t1=e.catch(21),a=!1;case 36:e.next=50;break;case 38:if(void 0===o){e.next=49;break}return e.prev=39,l=o.createHmac(yu.default.hashes[n].nodeName,t),e.abrupt("return",new Uint8Array(l.update(r).digest()));case 44:e.prev=44,e.t2=e.catch(39),a=!1;case 47:e.next=50;break;case 49:a=!1;case 50:if(a){e.next=60;break}return e.prev=51,e.next=54,wu(t,r,n);case 54:return e.abrupt("return",e.sent);case 57:throw e.prev=57,e.t3=e.catch(51),new Error("UnsupportedEnvironments");case 60:case"end":return e.stop()}}),e,null,[[6,16],[21,33],[39,44],[51,57]])})));return function(t,r){return e.apply(this,arguments)}}();cu.compute=mu;var wu=function(){var e=(0,bu.default)(pu.default.mark((function e(t,r,n){var i,o,a,f,s,u,c,d;return pu.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yu.default.hashes[n].blockSize,o=yu.default.hashes[n].hashSize,!(t.length>i)){e.next=6;break}return e.next=5,gu.default.compute(t,n);case 5:t=e.sent;case 6:return(a=new Uint8Array(i)).set(t),f=a.map((function(e){return 255&(54^e)})),s=a.map((function(e){return 255&(92^e)})),(u=new Uint8Array(i+r.length)).set(f),u.set(r,i),e.next=15,gu.default.compute(u,n);case 15:return c=e.sent,(d=new Uint8Array(i+o)).set(s),d.set(c,i),e.abrupt("return",gu.default.compute(d,n));case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),_u=function(){var e=(0,bu.default)(pu.default.mark((function e(t,r,n){var i,o,a=arguments;return pu.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>3&&void 0!==a[3]?a[3]:"SHA-256",n instanceof Uint8Array){e.next=3;break}throw new Error("InvalidInputMac");case 3:return e.next=5,mu(t,r,i);case 5:return o=e.sent,e.abrupt("return",n.toString()===o.toString());case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();cu.verify=_u,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"compute",{enumerable:!0,get:function(){return t.compute}}),Object.defineProperty(e,"verify",{enumerable:!0,get:function(){return t.verify}}),e.default=void 0;var t=cu,r={compute:t.compute,verify:t.verify};e.default=r}(uu);var Su={};Object.defineProperty(Su,"__esModule",{value:!0}),Su.default=void 0;Su.default={hashes:{"SHA3-512":{hashSize:64},"SHA3-384":{hashSize:48},"SHA3-256":{hashSize:32},"SHA3-224":{hashSize:28},"SHA-256":{hashSize:32},"SHA-384":{hashSize:48},"SHA-512":{hashSize:64},"SHA-1":{hashSize:20},MD5:{hashSize:16}}};var Au=Ve;Object.defineProperty(ks,"__esModule",{value:!0}),ks.pbkdf1=ks.pbkdf2=void 0;var Eu=Au(Ze),xu=Au(Ye),ku=Au(ft),Mu=Au(Ms),Iu=Au(uu),Ou=Au(Su),Pu=function(){var e=(0,xu.default)(Eu.default.mark((function e(t,r,n,i,o){var a,f,s,u,c,d,h;return Eu.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bu(t,r,n,i,o),"string"==typeof t&&(t=ku.default.encoder.stringToArrayBuffer(t)),a=Ou.default.hashes[o].hashSize,!(i>(Math.pow(2,32)-1)*a)){e.next=5;break}throw new Error("DerivedKeyTooLong");case 5:for(f=Math.ceil(i/a),s=i-(f-1)*a,u=function(){var e=(0,xu.default)(Eu.default.mark((function e(i){var a,f,s,u;return Eu.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Uint8Array(r.length+4)).set(r),a.set(ju(i+1,4),r.length),e.next=5,Iu.default.compute(t,a,o);case 5:f=e.sent,s=new Uint8Array(f),u=1;case 8:if(!(u<n)){e.next=16;break}return e.next=11,Iu.default.compute(t,f,o);case 11:f=e.sent,s=f.map((function(e,t){return e^s[t]}));case 13:u++,e.next=8;break;case 16:return e.abrupt("return",{index:i,value:s});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=[],d=new Uint8Array(i),h=0;h<f;h++)c.push(u(h));return e.next=13,Promise.all(c);case 13:return e.sent.forEach((function(e){e.index!==f-1?d.set(e.value,e.index*a):d.set(e.value.slice(0,s),e.index*a)})),e.abrupt("return",d);case 16:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();ks.pbkdf2=Pu;var ju=function(e,t){for(var r=new Uint8Array(t),n=0;n<t;n++)r[n]=e>>8*(t-n-1);return r},Cu=function(){var e=(0,xu.default)(Eu.default.mark((function e(t,r,n,i,o){var a,f;return Eu.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bu(t,r,n,i,o),"string"==typeof t&&(t=ku.default.encoder.stringToArrayBuffer(t)),!(i>Ou.default.hashes[o].hashSize)){e.next=4;break}throw new Error("DerivedKeyTooLong");case 4:(a=new Uint8Array(t.length+r.length)).set(t),a.set(r,t.length),f=0;case 8:if(!(f<n)){e.next=15;break}return e.next=11,Mu.default.compute(a,o);case 11:a=e.sent;case 12:f++,e.next=8;break;case 15:return e.abrupt("return",a.slice(0,i));case 16:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();ks.pbkdf1=Cu;var Bu=function(e,t,r,n,i){if("string"!=typeof e&&!(e instanceof Uint8Array))throw new Error("PasswordIsNotUint8ArrayNorString");if(!(t instanceof Uint8Array))throw new Error("SaltMustBeUint8Array");if("number"!=typeof r||r<=0)throw new Error("InvalidIterationCount");if("number"!=typeof n||n<=0)throw new Error("InvalidDerivedKeyLength");if(Object.keys(Ou.default.hashes).indexOf(i)<0)throw new Error("UnsupportedHashAlgorithm");return!0};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"pbkdf2",{enumerable:!0,get:function(){return t.pbkdf2}}),Object.defineProperty(e,"pbkdf1",{enumerable:!0,get:function(){return t.pbkdf1}}),e.default=void 0;var t=ks,r={pbkdf2:t.pbkdf2,pbkdf1:t.pbkdf1};e.default=r}(xs);var Tu={},Uu={},Lu={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.default=void 0;var Ru={ciphers:{"AES-GCM":{nodePrefix:"aes-",nodeSuffix:"-gcm",ivLength:12,tagLength:16,staticIvLength:!0},"AES-CBC":{nodePrefix:"aes-",nodeSuffix:"-cbc",ivLength:16,staticIvLength:!0},"AES-CTR":{nodePrefix:"aes-",nodeSuffix:"-ctr",ivLength:12,staticIvLength:!1}},wrapKeys:{"AES-KW":{nodePrefix:"id-aes",nodeSuffix:"-wrap",ivLength:8,staticIvLength:!0,defaultIV:new Uint8Array([166,166,166,166,166,166,166,166])}}};Nu.default=Ru;var Du=Ve;Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.decrypt=Lu.encrypt=Lu.unwrapKey=Lu.wrapKey=void 0;var Fu=Du(Nu);Lu.wrapKey=function(e,t,r,n){var i=r.name,o=void 0===i?"AES-KW":i,a=r.iv;return Ku(e,t,{name:o,iv:a},n,!0)};Lu.unwrapKey=function(e,t,r,n){var i=r.name,o=void 0===i?"AES-KW":i,a=r.iv;return zu(e,t,{name:o,iv:a},n,!0)};var Ku=function(e,t,r,n){var i,o,a,f,s=r.name,u=r.iv,c=r.additionalData,d=r.tagLength,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=qu(s,t.byteLength,h?Fu.default.wrapKeys:Fu.default.ciphers);switch(s){case"AES-GCM":(i=n.createCipheriv(l,t,u,{authTagLength:d})).setAAD(c);break;case"AES-CTR":if(0===u.length||u.length>16)throw new Error("InvalidIVLength");var p=new Uint8Array(16);p.set(u),p[15]+=1,i=n.createCipheriv(l,t,p);break;default:i=n.createCipheriv(l,t,u)}try{o=new Uint8Array(i.update(e)),a=new Uint8Array(i.final()),f=new Uint8Array([]),"AES-GCM"===s&&(f=new Uint8Array(i.getAuthTag()))}catch(mh){throw new Error("NodeCrypto_EncryptionFailure")}var b=new Uint8Array(o.length+a.length+f.length);return b.set(o),b.set(a,o.length),b.set(f,o.length+a.length),b};Lu.encrypt=Ku;var zu=function(e,t,r,n){var i,o,a,f,s=r.name,u=r.iv,c=r.additionalData,d=r.tagLength,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=qu(s,t.byteLength,h?Fu.default.wrapKeys:Fu.default.ciphers);switch(s){case"AES-GCM":(i=n.createDecipheriv(l,t,u,{authTagLength:d})).setAAD(c),o=e.slice(0,e.length-d);var p=e.slice(e.length-d);i.setAuthTag(p);break;case"AES-CTR":if(0===u.length||u.length>16)throw new Error("InvalidIVLength");var b=new Uint8Array(16);b.set(u),b[15]+=1,i=n.createDecipheriv(l,t,b),o=e;break;default:i=n.createDecipheriv(l,t,u),o=e}try{a=i.update(o),f=i.final()}catch(mh){throw new Error("NodeCrypto_DecryptionFailure")}var y=new Uint8Array(f.length+a.length);return y.set(a),y.set(f,a.length),y};Lu.decrypt=zu;var qu=function(e,t,r){var n=r[e].nodePrefix;return(n="".concat(n).concat((8*t).toString()))+r[e].nodeSuffix},Wu={},Hu=Ve;Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.decrypt=Wu.encrypt=Wu.unwrapKey=Wu.wrapKey=void 0;var Ju=Hu(Ze),Vu=Hu(Ye),Gu=function(){var e=(0,Vu.default)(Ju.default.mark((function e(t,r,n,i){var o,a,f,s,u,c;return Ju.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.name,a=void 0===o?"AES-KW":o,f=n.iv,void 0!==window.msCrypto){e.next=20;break}return e.prev=2,e.next=5,i.importKey("raw",r,{name:a},!1,["wrapKey","unwrapKey"]);case 5:return s=e.sent,e.next=8,i.importKey("raw",t,{name:a},!0,["wrapKey","unwrapKey"]);case 8:return u=e.sent,e.next=11,i.wrapKey("raw",u,s,{name:a,iv:f});case 11:return c=e.sent,e.abrupt("return",new Uint8Array(c));case 15:throw e.prev=15,e.t0=e.catch(2),new Error("WebCrypto_FailedToWrapKey - ".concat(e.t0.message));case 18:e.next=21;break;case 20:throw new Error("ThrowAwayIeAsap");case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,r,n,i){return e.apply(this,arguments)}}();Wu.wrapKey=Gu;var Zu=function(){var e=(0,Vu.default)(Ju.default.mark((function e(t,r,n,i){var o,a,f,s,u;return Ju.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.name,a=void 0===o?"AES-KW":o,f=n.iv,void 0!==window.msCrypto){e.next=21;break}return e.prev=2,e.next=5,i.importKey("raw",r,{name:a},!1,["wrapKey","unwrapKey"]);case 5:return s=e.sent,e.next=8,i.unwrapKey("raw",t,s,{name:a,iv:f},{name:"AES-GCM"},!0,["encrypt","decrypt"]);case 8:return u=e.sent,e.t0=Uint8Array,e.next=12,i.exportKey("raw",u);case 12:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 16:throw e.prev=16,e.t2=e.catch(2),new Error("WebCrypto_FailedToUnwrapKey - ".concat(e.t2.message));case 19:e.next=22;break;case 21:throw new Error("ThrowAwayMsIeAsap");case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,r,n,i){return e.apply(this,arguments)}}();Wu.unwrapKey=Zu;var Xu=function(){var e=(0,Vu.default)(Ju.default.mark((function e(t,r,n,i){var o,a,f,s,u,c,d,h,l,p,b;return Ju.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.name,a=void 0===o?"AES-GCM":o,f=n.iv,s=n.additionalData,u=n.tagLength,c=$u({name:a,iv:f,additionalData:s,tagLength:u}),void 0!==window.msCrypto){e.next=18;break}return e.prev=3,e.next=6,i.importKey("raw",r,c,!1,["encrypt","decrypt"]);case 6:return d=e.sent,e.next=9,i.encrypt(c,d,t);case 9:return h=e.sent,e.abrupt("return",new Uint8Array(h));case 13:throw e.prev=13,e.t0=e.catch(3),new Error("WebCrypto_EncryptionFailure: ".concat(e.t0.message));case 16:e.next=38;break;case 18:return e.prev=18,e.next=21,Qu("raw",r,c,!1,["encrypt","decrypt"],i);case 21:return l=e.sent,e.next=24,ec(c,l,t,i);case 24:if(p=e.sent,"AES-GCM"!==a){e.next=32;break}return(b=new Uint8Array(p.ciphertext.byteLength+p.tag.byteLength)).set(new Uint8Array(p.ciphertext)),b.set(new Uint8Array(p.tag),p.ciphertext.byteLength),e.abrupt("return",b);case 32:return e.abrupt("return",new Uint8Array(p));case 33:e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(18),new Error("ThrowAwayMsIeAsap: ".concat(e.t1.message));case 38:case"end":return e.stop()}}),e,null,[[3,13],[18,35]])})));return function(t,r,n,i){return e.apply(this,arguments)}}();Wu.encrypt=Xu;var Yu=function(){var e=(0,Vu.default)(Ju.default.mark((function e(t,r,n,i){var o,a,f,s,u,c,d,h,l,p,b;return Ju.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.name,a=n.iv,f=n.additionalData,s=n.tagLength,u=$u({name:o,iv:a,additionalData:f,tagLength:s}),window.msCrypto){e.next=18;break}return e.prev=3,e.next=6,i.importKey("raw",r,u,!1,["encrypt","decrypt"]);case 6:return c=e.sent,e.next=9,i.decrypt(u,c,t);case 9:return d=e.sent,e.abrupt("return",new Uint8Array(d));case 13:throw e.prev=13,e.t0=e.catch(3),new Error("WebCrypto_DecryptionFailure: ".concat(e.t0.message));case 16:e.next=39;break;case 18:return e.prev=18,e.next=21,Qu("raw",r,u,!1,["encrypt","decrypt"],i);case 21:if(h=e.sent,"AES-GCM"!==o){e.next=30;break}return p=t.slice(0,t.length-s),b=t.slice(t.length-s,t.length),e.next=27,tc(Object.assign(u,{tag:b}),h,p,i);case 27:l=e.sent,e.next=33;break;case 30:return e.next=32,tc(u,h,t,i);case 32:l=e.sent;case 33:return e.abrupt("return",new Uint8Array(l));case 36:throw e.prev=36,e.t1=e.catch(18),new Error("ThrowAwayMsIeAsap: ".concat(e.t1.message));case 39:case"end":return e.stop()}}),e,null,[[3,13],[18,36]])})));return function(t,r,n,i){return e.apply(this,arguments)}}();Wu.decrypt=Yu;var $u=function(e){var t=e.name,r=e.iv,n=e.additionalData,i=e.tagLength,o={};switch(t){case"AES-GCM":Object.assign(o,{name:t,iv:r,tagLength:8*i}),Object.assign(o,n.length>0?{additionalData:n}:{});break;case"AES-CBC":o.name=t,o.iv=r;break;case"AES-CTR":if(0===r.length||r.length>16)throw new Error("InvalidIVLength");o.name=t,o.counter=new Uint8Array(16),o.counter.set(r),o.counter[15]+=1,o.length=128}return o},Qu=function(e,t,r,n,i,o){return new Promise((function(a,f){var s=o.importKey(e,t,r,n,i);s.oncomplete=function(e){a(e.target.result)},s.onerror=function(){f("KeyImportingFailed")}}))},ec=function(e,t,r,n){return new Promise((function(i,o){var a=n.encrypt(e,t,r);a.oncomplete=function(e){i(e.target.result)},a.onerror=function(){o("EncryptionFailure")}}))},tc=function(e,t,r,n){return new Promise((function(i,o){var a=n.decrypt(e,t,r);a.oncomplete=function(e){i(e.target.result)},a.onerror=function(){o("DecryptionFailure")}}))},rc=Je,nc=Ve;Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.unwrapKey=Uu.wrapKey=Uu.decrypt=Uu.encrypt=void 0;var ic=nc(Ze),oc=nc(Ye),ac=rc($e),fc=rc(Lu),sc=rc(Wu),uc=nc(Nu),cc=function(e){var t=e.name,r=e.iv,n=e.tagLength;if(Object.keys(uc.default.ciphers).indexOf(t)<0)throw new Error("UnsupportedAlgorithm");if(uc.default.ciphers[t].ivLength){if(!(r instanceof Uint8Array))throw new Error("InvalidArguments");if(r.byteLength<2||r.byteLength>16)throw new Error("InvalidIVLength");if(uc.default.ciphers[t].staticIvLength&&uc.default.ciphers[t].ivLength!==r.byteLength)throw new Error("InvalidIVLength")}if(uc.default.ciphers[t].tagLength&&n){if(!Number.isInteger(n))throw new Error("InvalidArguments");if(n<4||n>16)throw new Error("InvalidTagLength")}},dc=function(){var e=(0,oc.default)(ic.default.mark((function e(t,r,n){var i,o,a,f,s,u,c,d;return ic.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,o=void 0===i?"AES-GCM":i,a=n.iv,f=n.additionalData,s=void 0===f?new Uint8Array([]):f,u=n.tagLength,t instanceof Uint8Array&&r instanceof Uint8Array){e.next=3;break}throw new Error("InvalidArguments");case 3:return cc({name:o,iv:a,tagLength:u}),uc.default.ciphers[o].tagLength&&!u&&(u=uc.default.ciphers[o].tagLength),e.next=7,ac.getWebCryptoAll();case 7:return c=e.sent,e.next=10,ac.getNodeCrypto();case 10:if(d=e.sent,void 0===c||"function"!=typeof c.importKey||"function"!=typeof c.encrypt){e.next=15;break}return e.abrupt("return",sc.encrypt(t,r,{name:o,iv:a,additionalData:s,tagLength:u},c));case 15:if(void 0===d){e.next=19;break}return e.abrupt("return",fc.encrypt(t,r,{name:o,iv:a,additionalData:s,tagLength:u},d));case 19:throw new Error("UnsupportedEnvironment");case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();Uu.encrypt=dc;var hc=function(){var e=(0,oc.default)(ic.default.mark((function e(t,r,n){var i,o,a,f,s,u,c,d;return ic.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,o=void 0===i?"AES-GCM":i,a=n.iv,f=n.additionalData,s=void 0===f?new Uint8Array([]):f,u=n.tagLength,t instanceof Uint8Array&&r instanceof Uint8Array){e.next=3;break}throw new Error("InvalidArguments");case 3:return cc({name:o,iv:a,tagLength:u}),uc.default.ciphers[o].tagLength&&!u&&(u=uc.default.ciphers[o].tagLength),e.next=7,ac.getWebCryptoAll();case 7:return c=e.sent,e.next=10,ac.getNodeCrypto();case 10:if(d=e.sent,void 0===c||"function"!=typeof c.importKey||"function"!=typeof c.encrypt){e.next=15;break}return e.abrupt("return",sc.decrypt(t,r,{name:o,iv:a,additionalData:s,tagLength:u},c));case 15:if(void 0===d){e.next=19;break}return e.abrupt("return",fc.decrypt(t,r,{name:o,iv:a,additionalData:s,tagLength:u},d));case 19:throw new Error("UnsupportedEnvironment");case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();Uu.decrypt=hc;var lc=function(){var e=(0,oc.default)(ic.default.mark((function e(t,r,n){var i,o,a,f,s;return ic.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,o=void 0===i?"AES-KW":i,t instanceof Uint8Array){e.next=3;break}throw new Error("NonUint8ArrayData");case 3:if(r instanceof Uint8Array){e.next=5;break}throw new Error("NonUint8ArrayKey");case 5:if(!(t.length%8>0)){e.next=7;break}throw new Error("WrappedKeyMustBeMultipleOf8");case 7:return e.next=9,ac.getWebCryptoAll();case 9:return a=e.sent,e.next=12,ac.getNodeCrypto();case 12:if(f=e.sent,s=uc.default.wrapKeys["AES-KW"].defaultIV,void 0===a||"function"!=typeof a.importKey||"function"!=typeof a.wrapKey){e.next=18;break}return e.abrupt("return",sc.wrapKey(t,r,{name:o,iv:s},a));case 18:if(void 0===f){e.next=22;break}return e.abrupt("return",fc.wrapKey(t,r,{name:o,iv:s},f));case 22:throw new Error("UnsupportedEnvironment");case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();Uu.wrapKey=lc;var pc=function(){var e=(0,oc.default)(ic.default.mark((function e(t,r,n){var i,o,a,f,s;return ic.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,o=void 0===i?"AES-KW":i,t instanceof Uint8Array){e.next=3;break}throw new Error("NonUint8ArrayData");case 3:if(r instanceof Uint8Array){e.next=5;break}throw new Error("NonUint8ArrayKey");case 5:return e.next=7,ac.getWebCryptoAll();case 7:return a=e.sent,e.next=10,ac.getNodeCrypto();case 10:if(f=e.sent,s=uc.default.wrapKeys["AES-KW"].defaultIV,void 0===a||"function"!=typeof a.importKey||"function"!=typeof a.wrapKey){e.next=16;break}return e.abrupt("return",sc.unwrapKey(t,r,{name:o,iv:s},a));case 16:if(void 0===f){e.next=20;break}return e.abrupt("return",fc.unwrapKey(t,r,{name:o,iv:s},f));case 20:throw new Error("UnsupportedEnvironment");case 21:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();Uu.unwrapKey=pc,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"encrypt",{enumerable:!0,get:function(){return t.encrypt}}),Object.defineProperty(e,"decrypt",{enumerable:!0,get:function(){return t.decrypt}}),Object.defineProperty(e,"wrapKey",{enumerable:!0,get:function(){return t.wrapKey}}),Object.defineProperty(e,"unwrapKey",{enumerable:!0,get:function(){return t.unwrapKey}}),e.default=void 0;var t=Uu,r={encrypt:t.encrypt,decrypt:t.decrypt,wrapKey:t.wrapKey,unwrapKey:t.unwrapKey};e.default=r}(Tu);var bc={},yc={},vc=Je;Object.defineProperty(yc,"__esModule",{value:!0}),yc.getRandomBytes=yc.getRandomSampledString=yc.getRandomAsciiString=yc.getRandomString=void 0;var gc=vc($e);yc.getRandomString=function(e){for(var t=mc(e),r=mc(e),n="",i=0;i<e;i++)r[i]=r[i]%3,t[i]=0===r[i]?t[i]%10+48:t[i]%26+(1===r[i]?65:97),n+=String.fromCharCode(t[i]);return n};yc.getRandomAsciiString=function(e){for(var t=mc(e),r="",n=0;n<e;n++)t[n]=t[n]%94+32,r+=String.fromCharCode(t[n]);return r};yc.getRandomSampledString=function(e,t){var r=t.length;if(0===r)return"";for(var n=mc(e),i="",o=0;o<e;o++)i+=t[n[o]%r];return i};var mc=function(e){var t,r=gc.getRootWebCryptoAll(),n=gc.getNodeCrypto();if(void 0!==r&&"function"==typeof r.getRandomValues)t=new Uint8Array(e),r.getRandomValues(t);else{if(void 0===n)throw new Error("UnsupportedEnvironment");t=new Uint8Array(n.randomBytes(e))}return t};yc.getRandomBytes=mc,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getRandomBytes",{enumerable:!0,get:function(){return t.getRandomBytes}}),Object.defineProperty(e,"getRandomAsciiString",{enumerable:!0,get:function(){return t.getRandomAsciiString}}),Object.defineProperty(e,"getRandomString",{enumerable:!0,get:function(){return t.getRandomString}}),Object.defineProperty(e,"getRandomSampledString",{enumerable:!0,get:function(){return t.getRandomSampledString}}),e.default=void 0;var t=yc,r={getRandomBytes:t.getRandomBytes,getRandomAsciiString:t.getRandomAsciiString,getRandomString:t.getRandomString,getRandomSampledString:t.getRandomSampledString};e.default=r}(bc);var wc=Je,_c=Ve;Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.decryptEncryptedPrivateKeyInfo=Xf.encryptEncryptedPrivateKeyInfo=void 0;var Sc=_c(Ze),Ac=_c(Ye),Ec=wc(hn),xc=af,kc=_c(Yf),Mc=_c(It),Ic=_c(At),Oc=_c(ft),Pc=_c(xs),jc=_c(Tu),Cc=_c(bc),Bc=Mc.default.Buffer,Tc=Ic.default.bignum,Uc=function(){var e=(0,Ac.default)(Sc.default.mark((function e(t){var r,n,i,o,a=arguments;return Sc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=a.length>1&&void 0!==a[1]?a[1]:{passphrase:""}).algorithm&&(r.algorithm="pbes2"),void 0===r.iterationCount&&(r.iterationCount=2048),"pbes2"!==r.algorithm){e.next=15;break}return void 0===r.cipher&&(r.cipher="aes256-cbc"),void 0===r.prf&&(r.prf="hmacWithSHA256"),n="pbkdf2",e.next=9,Dc(t,r.passphrase,n,r.prf,r.iterationCount,r.cipher);case 9:return i=e.sent,e.next=12,Nc(i);case 12:return e.abrupt("return",e.sent);case 15:return e.next=17,Kc(t,r.passphrase,r.algorithm,r.iterationCount);case 17:return(o=e.sent).encryptionAlgorithm.algorithm=Ec.default.passwordBasedEncryptionSchemes[o.encryptionAlgorithm.algorithm].oid,o.encryptionAlgorithm.parameters=xc.PBEParameter.encode(o.encryptionAlgorithm.parameters,"der"),e.abrupt("return",xc.EncryptedPrivateKeyInfo.encode(o,"der"));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Xf.encryptEncryptedPrivateKeyInfo=Uc;var Lc=function(){var e=(0,Ac.default)(Sc.default.mark((function e(t,r){var n;return Sc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n={}).encryptionAlgorithm={algorithm:(0,Ec.getAlgorithmFromOidStrict)(t.encryptionAlgorithm.algorithm,Ec.default.passwordBasedEncryptionSchemes)},"pbes2"===n.encryptionAlgorithm.algorithm?n.encryptionAlgorithm.parameters=Rc(t.encryptionAlgorithm.parameters):n.encryptionAlgorithm.parameters=xc.PBEParameter.decode(t.encryptionAlgorithm.parameters,"der"),n.encryptedData=t.encryptedData,"pbes2"!==n.encryptionAlgorithm.algorithm){e.next=10;break}return e.next=7,Fc(n,r);case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,zc(n,r);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();Xf.decryptEncryptedPrivateKeyInfo=Lc;var Nc=function(e){var t={encryptionAlgorithm:{}};t.encryptionAlgorithm.algorithm=Ec.default.passwordBasedEncryptionSchemes[e.encryptionAlgorithm.algorithm].oid;var r=e.encryptionAlgorithm.parameters.keyDerivationFunc;if("pbkdf2"!==r.algorithm)throw new Error("UnsupportedKDF");r.parameters.prf.algorithm=Ec.default.pbkdf2Prfs[r.parameters.prf.algorithm].oid,r.parameters=xc.PBKDF2Params.encode(r.parameters,"der"),r.algorithm=Ec.default.keyDerivationFunctions[r.algorithm].oid;var n=e.encryptionAlgorithm.parameters.encryptionScheme;if(!(Object.keys(xc.PBES2ESParams).indexOf(n.algorithm)>=0))throw new Error("UnsupportedCipher");return n.parameters=xc.PBES2ESParams[n.algorithm].encode(n.parameters,"der"),n.algorithm=Ec.default.encryptionSchemes[n.algorithm].oid,t.encryptionAlgorithm.parameters=xc.PBES2Params.encode({keyDerivationFunc:r,encryptionScheme:n},"der"),t.encryptedData=e.encryptedData,xc.EncryptedPrivateKeyInfo.encode(t,"der")},Rc=function(e){var t,r,n,i=xc.PBES2Params.decode(e,"der"),o=(0,Ec.getAlgorithmFromOidStrict)(i.keyDerivationFunc.algorithm,Ec.default.keyDerivationFunctions);if("pbkdf2"!==o)throw new Error("UnsupportedKDF");var a=xc.PBKDF2Params.decode(i.keyDerivationFunc.parameters,"der");n={algorithm:(0,Ec.getAlgorithmFromOidStrict)(a.prf.algorithm,Ec.default.pbkdf2Prfs),parameters:a.prf.parameters},t=a.iterationCount,r={type:a.salt.type,value:a.salt.value};var f=(0,Ec.getAlgorithmFromOidStrict)(i.encryptionScheme.algorithm,Ec.default.encryptionSchemes);if(!(Object.keys(xc.PBES2ESParams).indexOf(f)>=0))throw new Error("UnsupportedCipher");return{keyDerivationFunc:{algorithm:o,parameters:{salt:r,iterationCount:t,prf:n}},encryptionScheme:{algorithm:f,parameters:xc.PBES2ESParams[f].decode(i.encryptionScheme.parameters,"der")}}},Dc=function(){var e=(0,Ac.default)(Sc.default.mark((function e(t,r,n,i,o,a){var f,s,u,c,d,h,l,p;return Sc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=Oc.default.encoder.stringToArrayBuffer(r),e.next=3,Cc.default.getRandomBytes(Ec.default.keyDerivationFunctions[n].defaultSaltLen);case 3:if(s=e.sent,u=Ec.default.encryptionSchemes[a].keyLength,"pbkdf2"!==n){e.next=11;break}return e.next=8,Pc.default.pbkdf2(f,s,o,u,Ec.default.pbkdf2Prfs[i].hash);case 8:c=e.sent,e.next=12;break;case 11:throw new Error("UnsupportedKDF");case 12:if("des-ede3-cbc"!==a){e.next=23;break}return e.t0=Bc,e.next=16,Cc.default.getRandomBytes(Ec.default.encryptionSchemes[a].ivLength);case 16:e.t1=e.sent,d=e.t0.from.call(e.t0,e.t1),l=kc.default.CBC.instantiate(kc.default.EDE),p=l.create({type:"encrypt",key:Bc.from(c),iv:d}),h=Bc.from(p.update(t).concat(p.final())),e.next=36;break;case 23:if("aes128-cbc"!==a&&"aes192-cbc"!==a&&"aes256-cbc"!==a){e.next=35;break}return e.next=26,Cc.default.getRandomBytes(Ec.default.encryptionSchemes[a].ivLength);case 26:return d=e.sent,e.t2=Bc,e.next=30,jc.default.encrypt(new Uint8Array(t),c,{name:"AES-CBC",iv:d});case 30:e.t3=e.sent,h=e.t2.from.call(e.t2,e.t3),d=Bc.from(d),e.next=36;break;case 35:throw new Error("UnsupportedCipher");case 36:return e.abrupt("return",{encryptedData:h,encryptionAlgorithm:{algorithm:"pbes2",parameters:{keyDerivationFunc:{algorithm:n,parameters:{salt:{type:"specified",value:Bc.from(s)},iterationCount:new Tc(o),prf:{algorithm:i,parameters:Bc.from([5,0])}}},encryptionScheme:{algorithm:a,parameters:d}}}});case 37:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,a){return e.apply(this,arguments)}}(),Fc=function(){var e=(0,Ac.default)(Sc.default.mark((function e(t,r){var n,i,o,a,f,s,u,c,d,h,l,p,b;return Sc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.encryptionAlgorithm.parameters.keyDerivationFunc,i=t.encryptionAlgorithm.parameters.encryptionScheme,o=Ec.default.encryptionSchemes[i.algorithm].keyLength,"pbkdf2"!==n.algorithm){e.next=15;break}if(f=Oc.default.encoder.stringToArrayBuffer(r),"specified"===n.parameters.salt.type){e.next=7;break}throw new Error("UnsupportedSaltSource");case 7:return s=new Uint8Array(n.parameters.salt.value),u=n.parameters.iterationCount.toNumber(),c=n.parameters.prf.algorithm,e.next=12,Pc.default.pbkdf2(f,s,u,o,Ec.default.pbkdf2Prfs[c].hash);case 12:a=e.sent,e.next=16;break;case 15:throw new Error("UnsupportedKDF");case 16:if("des-ede3-cbc"!==i.algorithm){e.next=23;break}h=i.parameters,l=kc.default.CBC.instantiate(kc.default.EDE),p=l.create({type:"decrypt",key:a,iv:h}),d=Bc.from(p.update(t.encryptedData).concat(p.final())),e.next=33;break;case 23:if("aes128-cbc"!==i.algorithm&&"aes192-cbc"!==i.algorithm&&"aes256-cbc"!==i.algorithm){e.next=32;break}return b=new Uint8Array(i.parameters),e.t0=Bc,e.next=28,jc.default.decrypt(new Uint8Array(t.encryptedData),a,{name:"AES-CBC",iv:b});case 28:e.t1=e.sent,d=e.t0.from.call(e.t0,e.t1),e.next=33;break;case 32:throw new Error("UnsupportedEncryptionAlgorithm");case 33:return e.abrupt("return",xc.OneAsymmetricKey.decode(d,"der"));case 34:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Kc=function(){var e=(0,Ac.default)(Sc.default.mark((function e(t,r,n,i){var o,a,f,s,u,c,d,h,l;return Sc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Oc.default.encoder.stringToArrayBuffer(r),e.next=3,Cc.default.getRandomBytes(8);case 3:return a=e.sent,f=Ec.default.passwordBasedEncryptionSchemes[n].hash,e.next=7,Pc.default.pbkdf1(o,a,i,16,f);case 7:if(s=e.sent,u=s.slice(0,8),c=s.slice(8,16),"DES-CBC"!==Ec.default.passwordBasedEncryptionSchemes[n].encrypt){e.next=17;break}h=kc.default.CBC.instantiate(kc.default.DES),l=h.create({type:"encrypt",key:u,iv:c}),d=Bc.from(l.update(t).concat(l.final())),e.next=18;break;case 17:throw new Error("UnsupportedEncryptionAlgorithm");case 18:return e.abrupt("return",{encryptionAlgorithm:{algorithm:n,parameters:{salt:Bc.from(a),iterationCount:new Tc(i)}},encryptedData:d});case 19:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),zc=function(){var e=(0,Ac.default)(Sc.default.mark((function e(t,r){var n,i,o,a,f,s,u,c,d,h;return Sc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oc.default.encoder.stringToArrayBuffer(r),i=new Uint8Array(t.encryptionAlgorithm.parameters.salt),o=Ec.default.passwordBasedEncryptionSchemes[t.encryptionAlgorithm.algorithm].hash,a=t.encryptionAlgorithm.parameters.iterationCount.toNumber(),e.next=6,Pc.default.pbkdf1(n,i,a,16,o);case 6:if(f=e.sent,s=f.slice(0,8),u=f.slice(8,16),"DES-CBC"!==Ec.default.passwordBasedEncryptionSchemes[t.encryptionAlgorithm.algorithm].encrypt){e.next=16;break}d=kc.default.CBC.instantiate(kc.default.DES),h=d.create({type:"decrypt",key:s,iv:u}),c=Bc.from(h.update(t.encryptedData).concat(h.final())),e.next=17;break;case 16:throw new Error("UnsupportedEncryptionAlgorithm");case 17:return e.abrupt("return",xc.OneAsymmetricKey.decode(c,"der"));case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),qc=Je,Wc=Ve;Object.defineProperty(cn,"__esModule",{value:!0}),cn.toJwk=cn.fromJwk=void 0;var Hc=Wc(Ze),Jc=Wc(Ye),Vc=qc(dn),Gc=qc(Rf),Zc=qc(hn),Xc=Wc(ft),Yc=Wc(It),$c=af,Qc=Xf,ed=of,td=Yc.default.Buffer,rd=function(){var e=(0,Jc.default)(Hc.default.mark((function e(t,r,n){var i,o,a,f,s,u,c,d;return Hc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.outputPublic,o=n.compact,a=void 0!==o&&o,f=n.encOptions,s=(0,ed.getJwkType)(t),u="boolean"==typeof i&&i?"public":s,"EC"===t.kty?c=Vc.fromJWK(t,u,a):"RSA"===t.kty&&(c=Gc.fromJwk(t,u)),"public"!==u){e.next=8;break}d=$c.SubjectPublicKeyInfo.encode(c,"der"),e.next=14;break;case 8:if(d=$c.OneAsymmetricKey.encode(c,"der"),!(void 0!==f.passphrase&&f.passphrase.length>0)){e.next=14;break}return e.next=12,(0,Qc.encryptEncryptedPrivateKeyInfo)(d,f);case 12:d=e.sent,u="encryptedPrivate";case 14:return d=new Uint8Array(d),e.abrupt("return","pem"===r?Xc.default.formatter.binToPem(d,u):d);case 16:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();cn.fromJwk=rd;var nd=function(){var e=(0,Jc.default)(Hc.default.mark((function e(t,r,n){var i,o,a,f,s,u;return Hc.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.outputPublic,o=n.passphrase,a="pem"===r?Xc.default.formatter.pemToBin(t):t,e.prev=2,f=$c.KeyStructure.decode(td.from(a),"der"),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("FailedToDecodeKey");case 9:if("subjectPublicKeyInfo"!==f.type){e.next=14;break}s="public",f=f.value,e.next=26;break;case 14:if(s="boolean"==typeof i&&i?"public":"private","encryptedPrivateKeyInfo"!==f.type){e.next=21;break}return e.next=18,(0,Qc.decryptEncryptedPrivateKeyInfo)(f.value,o);case 18:f=e.sent,e.next=26;break;case 21:if("oneAsymmetricKey"!==f.type){e.next=25;break}f=f.value,e.next=26;break;case 25:throw new Error("UnsupportedKeyStructure");case 26:if(!((u=(0,Zc.getAlgorithmFromOid)("public"===s?f.algorithm.algorithm:f.privateKeyAlgorithm.algorithm,Zc.default.publicKeyAlgorithms)).length<1)){e.next=29;break}throw new Error("UnsupportedKey");case 29:if("EC"!==u[0]){e.next=33;break}return e.abrupt("return",Vc.toJWK(f,s));case 33:if("RSA"!==u[0]){e.next=37;break}return e.abrupt("return",Gc.toJwk(f,s));case 37:throw new Error("InvalidKeyType");case 38:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t,r,n){return e.apply(this,arguments)}}();cn.toJwk=nd;var id=Je,od=Ve;Object.defineProperty(an,"__esModule",{value:!0}),an.toJwkFrom=an.fromJwkTo=void 0;var ad=od(Ze),fd=od(un),sd=od(Ye),ud=id(cn),cd=id(pn),dd=function(){var e=(0,sd.default)(ad.default.mark((function e(){var t,r,n,i=arguments;return ad.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"pem",r=i.length>1?i[1]:void 0,n=i.length>2&&void 0!==i[2]?i[2]:{},!(["pem","der","oct"].indexOf(t)<0)){e.next=5;break}throw new Error("InvalidOutputForm");case 5:if("object"===(0,fd.default)(r)){e.next=7;break}throw new Error("InvalidJWKAsObject");case 7:if("EC"===r.kty||"RSA"===r.kty){e.next=9;break}throw new Error("UnsupportedKeyType");case 9:if(void 0===n.outputPublic||"boolean"==typeof n.outputPublic){e.next=11;break}throw new Error("outputPublicMustBeBoolean");case 11:if("EC"===r.key&&"boolean"!=typeof n.compact&&(n.compact=!1),"oct"===t&&"string"!==n.output&&(n.output="binary"),void 0===n.encryptParams&&(n.encryptParams={}),"der"!==t&&"pem"!==t||void 0!==n.encryptParams.passphrase||(n.encryptParams.passphrase=""),"der"!==t&&"pem"!==t){e.next=21;break}return e.next=18,ud.fromJwk(r,t,{outputPublic:n.outputPublic,compact:n.compact,encOptions:n.encryptParams});case 18:return e.abrupt("return",e.sent);case 21:if("oct"!==t||"EC"!==r.kty){e.next=25;break}return e.abrupt("return",cd.fromJwk(r,{outputPublic:n.outputPublic,outputFormat:n.output,compact:n.compact}));case 25:throw new Error("UnsupportedConversion");case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();an.fromJwkTo=dd;var hd=function(){var e=(0,sd.default)(ad.default.mark((function e(t,r){var n,i=arguments;return ad.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:{},!(["pem","der","oct"].indexOf(t)<0)){e.next=3;break}throw new Error("InvalidInputForm");case 3:if("oct"!==t||n.namedCurve){e.next=5;break}throw new Error("InappropriateOptions");case 5:if(void 0===n.outputPublic||"boolean"==typeof n.outputPublic){e.next=7;break}throw new Error("outputPublicMustBeBoolean");case 7:if("der"!==t&&"pem"!==t||void 0!==n.passphrase||(n.passphrase=""),"der"!==t&&"pem"!==t){e.next=14;break}return e.next=11,ud.toJwk(r,t,{outputPublic:n.outputPublic,passphrase:n.passphrase});case 11:return e.abrupt("return",e.sent);case 14:if("oct"!==t){e.next=18;break}return e.abrupt("return",cd.toJwk(r,n.namedCurve,{outputPublic:n.outputPublic}));case 18:throw new Error("UnsupportedConversion");case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();an.toJwkFrom=hd;var ld={},pd=Ve;Object.defineProperty(ld,"__esModule",{value:!0}),ld.getJwkThumbprint=void 0;var bd=pd(Ze),yd=pd(Ye),vd=pd(ft),gd=pd(Ms),md=pd(It).default.Buffer,wd=function(){var e=(0,yd.default)(bd.default.mark((function e(t){var r,n,i,o,a,f=arguments;return bd.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:"SHA-256",n=f.length>2&&void 0!==f[2]?f[2]:"binary",!(["hex","binary"].indexOf(n)<0)){e.next=4;break}throw new Error("UnsupportedOutputFormat");case 4:if("EC"!==t.kty){e.next=8;break}i=JSON.stringify({crv:t.crv,kty:t.kty,x:t.x,y:t.y}),e.next=13;break;case 8:if("RSA"!==t.kty){e.next=12;break}i=JSON.stringify({e:t.e,kty:t.kty,n:t.n}),e.next=13;break;case 12:throw new Error("UnsupportedKeyType");case 13:return o=new Uint8Array(md.from(i,"utf8")),e.next=16,gd.default.compute(o,r);case 16:if(a=e.sent,"hex"!==n){e.next=21;break}return e.abrupt("return",vd.default.encoder.arrayBufferToHexString(a));case 21:if("base64"!==n){e.next=25;break}return e.abrupt("return",vd.default.encoder.encodeBase64(a));case 25:if("binary"!==n){e.next=27;break}return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();ld.getJwkThumbprint=wd;var _d={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",f="[object Function]",s="[object GeneratorFunction]",u="[object Map]",c="[object Number]",d="[object Object]",h="[object Promise]",l="[object RegExp]",p="[object Set]",b="[object String]",y="[object Symbol]",v="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",E="[object Int32Array]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]",P=/\w*$/,j=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,B={};B[i]=B["[object Array]"]=B[g]=B[m]=B[o]=B[a]=B[w]=B[_]=B[S]=B[A]=B[E]=B[u]=B[c]=B[d]=B[l]=B[p]=B[b]=B[y]=B[x]=B[k]=B[M]=B[I]=!0,B["[object Error]"]=B[f]=B[v]=!1;var T="object"==typeof O&&O&&O.Object===Object&&O,U="object"==typeof self&&self&&self.Object===Object&&self,L=T||U||Function("return this")(),N=t&&!t.nodeType&&t,R=N&&e&&!e.nodeType&&e,D=R&&R.exports===N;function F(e,t){return e.set(t[0],t[1]),e}function K(e,t){return e.add(t),e}function z(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(mh){}return t}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function H(e,t){return function(r){return e(t(r))}}function J(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var V,G=Array.prototype,Z=Function.prototype,X=Object.prototype,Y=L["__core-js_shared__"],$=(V=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",Q=Z.toString,ee=X.hasOwnProperty,te=X.toString,re=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=D?L.Buffer:void 0,ie=L.Symbol,oe=L.Uint8Array,ae=H(Object.getPrototypeOf,Object),fe=Object.create,se=X.propertyIsEnumerable,ue=G.splice,ce=Object.getOwnPropertySymbols,de=ne?ne.isBuffer:void 0,he=H(Object.keys,Object),le=Re(L,"DataView"),pe=Re(L,"Map"),be=Re(L,"Promise"),ye=Re(L,"Set"),ve=Re(L,"WeakMap"),ge=Re(Object,"create"),me=qe(le),we=qe(pe),_e=qe(be),Se=qe(ye),Ae=qe(ve),Ee=ie?ie.prototype:void 0,xe=Ee?Ee.valueOf:void 0;function ke(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Me(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){this.__data__=new Me(e)}function Pe(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Je(e)}(e)&&ee.call(e,"callee")&&(!se.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var a in e)!t&&!ee.call(e,a)||o&&("length"==a||Ke(a,n))||r.push(a);return r}function je(e,t,r){var n=e[t];ee.call(e,t)&&We(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ce(e,t){for(var r=e.length;r--;)if(We(e[r][0],t))return r;return-1}function Be(e,t,r,n,h,v,O){var j;if(n&&(j=v?n(e,h,v,O):n(e)),void 0!==j)return j;if(!Ze(e))return e;var C=He(e);if(C){if(j=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,j)}else{var T=Fe(e),U=T==f||T==s;if(Ve(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(T==d||T==i||U&&!v){if(q(e))return v?e:{};if(j=function(e){return"function"!=typeof e.constructor||ze(e)?{}:(t=ae(e),Ze(t)?fe(t):{});var t}(U?{}:e),!t)return function(e,t){return Le(e,De(e),t)}(e,function(e,t){return e&&Le(t,Xe(t),e)}(j,e))}else{if(!B[T])return v?e:{};j=function(e,t,r,n){var i=e.constructor;switch(t){case g:return Ue(e);case o:case a:return new i(+e);case m:return function(e,t){var r=t?Ue(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case w:case _:case S:case A:case E:case x:case k:case M:case I:return function(e,t){var r=t?Ue(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case u:return function(e,t,r){return z(t?r(W(e),!0):W(e),F,new e.constructor)}(e,n,r);case c:case b:return new i(e);case l:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,r){return z(t?r(J(e),!0):J(e),K,new e.constructor)}(e,n,r);case y:return f=e,xe?Object(xe.call(f)):{}}var f}(e,T,Be,t)}}O||(O=new Oe);var L=O.get(e);if(L)return L;if(O.set(e,j),!C)var N=r?function(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Xe,De)}(e):Xe(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(N||e,(function(i,o){N&&(i=e[o=i]),je(j,o,Be(i,t,r,n,o,e,O))})),j}function Te(e){return!(!Ze(e)||(t=e,$&&$ in t))&&(Ge(e)||q(e)?re:j).test(qe(e));var t}function Ue(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Le(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],f=n?n(r[a],e[a],a,r,e):void 0;je(r,a,void 0===f?e[a]:f)}return r}function Ne(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Re(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(r)?r:void 0}ke.prototype.clear=function(){this.__data__=ge?ge(null):{}},ke.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ke.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},ke.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:ee.call(t,e)},ke.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Me.prototype.clear=function(){this.__data__=[]},Me.prototype.delete=function(e){var t=this.__data__,r=Ce(t,e);return!(r<0)&&(r==t.length-1?t.pop():ue.call(t,r,1),!0)},Me.prototype.get=function(e){var t=this.__data__,r=Ce(t,e);return r<0?void 0:t[r][1]},Me.prototype.has=function(e){return Ce(this.__data__,e)>-1},Me.prototype.set=function(e,t){var r=this.__data__,n=Ce(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new ke,map:new(pe||Me),string:new ke}},Ie.prototype.delete=function(e){return Ne(this,e).delete(e)},Ie.prototype.get=function(e){return Ne(this,e).get(e)},Ie.prototype.has=function(e){return Ne(this,e).has(e)},Ie.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Oe.prototype.clear=function(){this.__data__=new Me},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Me){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ie(n)}return r.set(e,t),this};var De=ce?H(ce,Object):function(){return[]},Fe=function(e){return te.call(e)};function Ke(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function ze(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function qe(e){if(null!=e){try{return Q.call(e)}catch(mh){}try{return e+""}catch(mh){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(le&&Fe(new le(new ArrayBuffer(1)))!=m||pe&&Fe(new pe)!=u||be&&Fe(be.resolve())!=h||ye&&Fe(new ye)!=p||ve&&Fe(new ve)!=v)&&(Fe=function(e){var t=te.call(e),r=t==d?e.constructor:void 0,n=r?qe(r):void 0;if(n)switch(n){case me:return m;case we:return u;case _e:return h;case Se:return p;case Ae:return v}return t});var He=Array.isArray;function Je(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!Ge(e)}var Ve=de||function(){return!1};function Ge(e){var t=Ze(e)?te.call(e):"";return t==f||t==s}function Ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Je(e)?Pe(e):function(e){if(!ze(e))return he(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Be(e,!0,!0)}}(_d,_d.exports);var Sd=Ve;Object.defineProperty(tn,"__esModule",{value:!0}),tn.Key=void 0;var Ad=Sd(Ze),Ed=Sd(Ye),xd=Sd(rn),kd=Sd(on),Md=an,Id=ld,Od=Sd(_d.exports),Pd=Sd(ft),jd=of,Cd=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,xd.default)(this,e);var i=(0,Od.default)(r),o=(0,Od.default)(n);if(this._jwk={},this._der=null,this._oct={},this._current={jwk:!1,der:!1,oct:!1},"jwk"===t)this._setJwk(i);else if("der"===t||"pem"===t){if("der"===t&&!(i instanceof Uint8Array))throw new Error("DerKeyMustBeUint8Array");if("pem"===t&&"string"!=typeof i)throw new Error("PemKeyMustBeString");this._setAsn1(i,t)}else{if("oct"!==t)throw new Error("UnsupportedType");if("string"!=typeof o.namedCurve)throw new Error("namedCurveMustBeSpecified");if(!(i instanceof Uint8Array))throw new Error("OctetKeyMustBeUint8Array");this._setSec1(i,o.namedCurve)}}var t,r,n,i;return(0,kd.default)(e,[{key:"_setJwk",value:function(e){this._type=(0,jd.getJwkType)(e),this._jwk=e,this._isEncrypted&&(this._der=null),this._isEncrypted=!1,this._setCurrentStatus()}},{key:"_setAsn1",value:function(e,t){this._type=(0,jd.isAsn1Public)(e,t)?"public":"private",this._isEncrypted=(0,jd.isAsn1Encrypted)(e,t),this._der="pem"===t?Pd.default.formatter.pemToBin(e):e,this._isEncrypted&&(this._jwk={},this._oct={}),this._setCurrentStatus()}},{key:"_setSec1",value:function(e,t){this._type=(0,jd.getSec1KeyType)(e,t),this._oct={namedCurve:t,key:e},this._isEncrypted&&(this._der=null),this._isEncrypted=!1,this._setCurrentStatus()}},{key:"_setCurrentStatus",value:function(){this._current.jwk="string"==typeof this._jwk.kty&&("RSA"===this._jwk.kty||"EC"===this._jwk.kty),this._current.der=void 0!==this._der&&this._der instanceof Uint8Array&&this._der.length>0,this._current.oct=void 0!==this._oct.key&&this._oct.key instanceof Uint8Array&&this._oct.key.length>0&&"string"==typeof this._oct.namedCurve}},{key:"export",value:(i=(0,Ed.default)(Ad.default.mark((function e(){var t,r,n,i=arguments;return Ad.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"jwk",r=i.length>1&&void 0!==i[1]?i[1]:{},!(["pem","der","jwk","oct"].indexOf(t)<0)){e.next=4;break}throw new Error("UnsupportedFormat");case 4:if(!this._isEncrypted||"private"!==this._type){e.next=10;break}if("der"!==t&&"pem"!==t||0!==Object.keys(r).length||!this._current.der){e.next=9;break}return e.abrupt("return","pem"===t?Pd.default.formatter.binToPem(this._der,"encryptedPrivate"):this._der);case 9:throw new Error("DecryptionRequired");case 10:if(!this._current.jwk){e.next=14;break}n=this._jwk,e.next=27;break;case 14:if(!this._current.oct){e.next=20;break}return e.next=17,(0,Md.toJwkFrom)("oct",this._oct.key,{namedCurve:this._oct.namedCurve});case 17:n=e.sent,e.next=27;break;case 20:if(!this._current.der){e.next=26;break}return e.next=23,(0,Md.toJwkFrom)("der",this._der);case 23:n=e.sent,e.next=27;break;case 26:throw new Error("InvalidStatus");case 27:if(this._setJwk(n),"der"!==t&&"pem"!==t){e.next=35;break}return void 0===r.encryptParams&&(r.encryptParams={}),e.next=32,(0,Md.fromJwkTo)(t,n,{outputPublic:r.outputPublic,compact:r.compact,encryptParams:r.encryptParams});case 32:return e.abrupt("return",e.sent);case 35:if("oct"!==t){e.next=41;break}return e.next=38,(0,Md.fromJwkTo)(t,n,{outputPublic:r.outputPublic,output:r.output,compact:r.compact});case 38:return e.abrupt("return",e.sent);case 41:return e.abrupt("return",n);case 42:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"encrypt",value:(n=(0,Ed.default)(Ad.default.mark((function e(t){var r;return Ad.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isEncrypted){e.next=2;break}throw new Error("AlreadyEncrypted");case 2:return r={encryptParams:{passphrase:t}},e.t0=this,e.next=6,this.export("der",r);case 6:return e.t1=e.sent,e.t0._setAsn1.call(e.t0,e.t1,"der"),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"decrypt",value:(r=(0,Ed.default)(Ad.default.mark((function e(t){var r;return Ad.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isEncrypted){e.next=2;break}throw new Error("NotEncrypted");case 2:if(!this._current.der||"string"!=typeof t){e.next=8;break}return e.next=5,(0,Md.toJwkFrom)("der",this._der,{passphrase:t});case 5:r=e.sent,e.next=9;break;case 8:throw new Error("FailedToDecrypt");case 9:return this._setJwk(r),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getJwkThumbprint",value:(t=(0,Ed.default)(Ad.default.mark((function e(){var t,r,n=arguments;return Ad.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"SHA-256",r=n.length>1&&void 0!==n[1]?n[1]:"binary",!this._isEncrypted){e.next=4;break}throw new Error("DecryptionRequired");case 4:return e.t0=Id.getJwkThumbprint,e.next=7,this.export("jwk");case 7:return e.t1=e.sent,e.t2=t,e.t3=r,e.next=12,(0,e.t0)(e.t1,e.t2,e.t3);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"keyType",get:function(){var e=this;if(this._isEncrypted)throw new Error("DecryptionRequired");return new Promise(function(){var t=(0,Ed.default)(Ad.default.mark((function t(r,n){var i;return Ad.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.export("jwk").catch((function(e){n(e)}));case 2:i=t.sent,r(i.kty);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"jwkThumbprint",get:function(){return this.getJwkThumbprint()}},{key:"isEncrypted",get:function(){return this._isEncrypted}},{key:"isPrivate",get:function(){return"private"===this._type}},{key:"der",get:function(){return this.export("der")}},{key:"pem",get:function(){return this.export("pem")}},{key:"jwk",get:function(){return this.export("jwk")}},{key:"oct",get:function(){return this.export("oct",{output:"string"})}}]),e}();tn.Key=Cd,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Key",{enumerable:!0,get:function(){return t.Key}}),e.default=void 0;var t=tn,r={Key:t.Key};e.default=r}(en);var Bd=Je,Td=Ve;Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.deriveSecret=Qr.verify=Qr.sign=Qr.generateKey=void 0;var Ud=Td(Ze),Ld=Td(Ye),Nd=Td(St),Rd=Bd(_t),Dd=en,Fd=Td(ft),Kd=function(){var e=(0,Ld.default)(Ud.default.mark((function e(t,r){var n,i,o,a,f,s,u;return Ud.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.ECDH(Nd.default.namedCurves[t].nodeName)).generateKeys(),i=new Uint8Array(n.getPublicKey()),o=new Uint8Array(n.getPrivateKey()),!(a=new Dd.Key("oct",i,{namedCurve:t})).isPrivate){e.next=7;break}throw new Error("NotPublicKeyForECCKeyGenNode");case 7:return e.next=9,a.export("jwk",{outputPublic:!0});case 9:if(f=e.sent,(s=new Dd.Key("oct",o,{namedCurve:t})).isPrivate){e.next=13;break}throw new Error("NotPrivateKeyForECCKeyGenNode");case 13:return e.next=15,s.export("jwk");case 15:return u=e.sent,e.abrupt("return",{publicKey:f,privateKey:u});case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();Qr.generateKey=Kd;var zd=function(){var e=(0,Ld.default)(Ud.default.mark((function e(t,r,n,i,o){var a,f,s,u;return Ud.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new Dd.Key("jwk",r)).isPrivate){e.next=3;break}throw new Error("NotPrivateKeyForECCSignNode");case 3:return e.next=5,a.export("pem");case 5:return f=e.sent,(s=o.createSign(Nd.default.hashes[n].nodeName)).update(t),u=s.sign(f),e.abrupt("return","raw"===i?Rd.decodeAsn1Signature(u,r.crv):u);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();Qr.sign=zd;var qd=function(){var e=(0,Ld.default)(Ud.default.mark((function e(t,r,n,i,o,a){var f,s,u,c;return Ud.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((f=new Dd.Key("jwk",n)).isPrivate){e.next=3;break}throw new Error("NotPrivateKeyForECCVerifyNode");case 3:return e.next=5,f.export("pem",{outputPublic:!0,compact:!1});case 5:return s=e.sent,(u=a.createVerify(Nd.default.hashes[i].nodeName)).update(t),c="raw"===o?Rd.encodeAsn1Signature(r,n.crv):r,e.abrupt("return",u.verify(s,c));case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,a){return e.apply(this,arguments)}}();Qr.verify=qd;Qr.deriveSecret=function(e,t,r){var n=Nd.default.namedCurves[t.crv].nodeName,i=Nd.default.namedCurves[t.crv].payloadSize,o=r.createECDH(n),a=Fd.default.encoder.decodeBase64Url(t.d),f=new Uint8Array(2*i+1);return f[0]=4,f.set(Fd.default.encoder.decodeBase64Url(e.x),1),f.set(Fd.default.encoder.decodeBase64Url(e.y),i+1),o.setPrivateKey(a),new Uint8Array(o.computeSecret(f))};var Wd={},Hd=Je,Jd=Ve;Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.deriveSecret=Wd.verify=Wd.sign=Wd.generateKey=void 0;var Vd=Jd(Ze),Gd=Jd(Ye),Zd=Jd(St),Xd=Hd(_t),Yd=Jd(bc),$d=Jd(Ms),Qd=en,eh=Jd(ft),th=Jd(bn).default.ec,rh=function(){var e=(0,Gd.default)(Vd.default.mark((function e(t){var r,n,i,o,a,f,s,u,c,d;return Vd.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd.default.namedCurves[t].indutnyName,n=new th(r),e.t0=n,e.t1=eh.default.encoder,e.next=6,Yd.default.getRandomBytes(32);case 6:if(e.t2=e.sent,e.t3=e.t1.arrayBufferToString.call(e.t1,e.t2),e.t4={entropy:e.t3},i=e.t0.genKeyPair.call(e.t0,e.t4),o=Zd.default.namedCurves[t].payloadSize,a=new Uint8Array(i.getPublic("array")),f=new Uint8Array(i.getPrivate().toArray("be",o)),!(s=new Qd.Key("oct",a,{namedCurve:t})).isPrivate){e.next=16;break}throw new Error("NotPublicKeyForECCKeyGenPureJS");case 16:return e.next=18,s.export("jwk",{outputPublic:!0});case 18:if(u=e.sent,(c=new Qd.Key("oct",f,{namedCurve:t})).isPrivate){e.next=22;break}throw new Error("NotPrivateKeyForECCKeyGenPureJS");case 22:return e.next=24,c.export("jwk");case 24:return d=e.sent,e.abrupt("return",{publicKey:u,privateKey:d});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Wd.generateKey=rh;var nh=function(){var e=(0,Gd.default)(Vd.default.mark((function e(t,r,n,i){var o,a,f,s,u,c,d,h,l,p,b,y;return Vd.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.crv,a=Zd.default.namedCurves[o].indutnyName,f=new th(a),(s=new Qd.Key("jwk",r)).isPrivate){e.next=6;break}throw new Error("NotPrivateKeyForECCSignPureJS");case 6:return e.next=8,s.export("oct");case 8:return u=e.sent,c=f.keyFromPrivate(u),e.next=12,$d.default.compute(t,n);case 12:return d=e.sent,h=c.sign(d),l=Zd.default.namedCurves[o].payloadSize,p=new Uint8Array(h.r.toArray("be",l)),b=new Uint8Array(h.s.toArray("be",l)),(y=new Uint8Array(p.length+b.length)).set(p),y.set(b,p.length),e.abrupt("return","raw"===i?y:Xd.encodeAsn1Signature(y,o));case 21:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}();Wd.sign=nh;var ih=function(){var e=(0,Gd.default)(Vd.default.mark((function e(t,r,n,i,o){var a,f,s,u,c,d,h,l,p,b;return Vd.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.crv,f=Zd.default.namedCurves[a].indutnyName,s=new th(f),!(u=new Qd.Key("jwk",n)).isPrivate){e.next=6;break}throw new Error("NotPublicKeyForECCVerifyPureJS");case 6:return e.next=8,u.export("oct",{compact:!1,outputPublic:!0});case 8:return c=e.sent,d=s.keyFromPublic(c),h=Zd.default.namedCurves[a].payloadSize,r instanceof Uint8Array||(r=new Uint8Array(r)),r="raw"===o?r:Xd.decodeAsn1Signature(r,a),l=r.slice(0,h),p=r.slice(h,h+l.length),e.next=17,$d.default.compute(t,i);case 17:return b=e.sent,e.next=20,d.verify(b,{s:p,r:l});case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();Wd.verify=ih;var oh=function(){var e=(0,Gd.default)(Vd.default.mark((function e(t,r){var n,i,o,a,f,s,u,c,d,h;return Vd.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.crv,i=Zd.default.namedCurves[n].indutnyName,o=new th(i),(a=new Qd.Key("jwk",r)).isPrivate){e.next=6;break}throw new Error("NotPrivateKeyForECCSDeriveKeyPureJS");case 6:return e.next=8,a.export("oct");case 8:if(f=e.sent,!(s=new Qd.Key("jwk",t)).isPrivate){e.next=12;break}throw new Error("NotPublicKeyForECCDeriveKeyPureJS");case 12:return e.next=14,s.export("oct",{compact:!1,outputPublic:!0});case 14:return u=e.sent,c=o.keyFromPrivate(f),d=o.keyFromPublic(u),h=Zd.default.namedCurves[n].payloadSize,e.abrupt("return",new Uint8Array(c.derive(d.getPublic()).toArray("be",h)));case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();Wd.deriveSecret=oh;var ah=Je,fh=Ve;Object.defineProperty(He,"__esModule",{value:!0}),He.deriveSecret=He.verify=He.sign=He.generateKey=void 0;var sh=fh(Ze),uh=fh(Ye),ch=ah($e),dh=ah(at),hh=ah(Qr),lh=ah(Wd),ph=function(){var e=(0,uh.default)(sh.default.mark((function e(){var t,r,n,i,o,a,f=arguments;return sh.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:"P-256",r=ch.getWebCrypto(),n=ch.getNodeCrypto(),i=!0,a={},void 0===r||"function"!=typeof r.generateKey||"function"!=typeof r.exportKey){e.next=11;break}return e.next=8,dh.generateKey(t,r).catch((function(e){o=e.message,i=!1}));case 8:a=e.sent,e.next=18;break;case 11:if(void 0===n){e.next=17;break}return e.next=14,hh.generateKey(t,n).catch((function(e){o=e.message,i=!1}));case 14:a=e.sent,e.next=18;break;case 17:i=!1;case 18:if(!1!==i){e.next=22;break}return e.next=21,lh.generateKey(t).catch((function(e){throw o="".concat(o," => ").concat(e.message),new Error("UnsupportedEnvironment: ".concat(o))}));case 21:a=e.sent;case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();He.generateKey=ph;var bh=function(){var e=(0,uh.default)(sh.default.mark((function e(t,r){var n,i,o,a,f,s,u,c=arguments;return sh.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:"SHA-256","raw"===(i=c.length>3&&void 0!==c[3]?c[3]:"raw")||"der"===i){e.next=4;break}throw new Error("InvalidSignatureFormat");case 4:if(o=ch.getWebCrypto(),a=ch.getNodeCrypto(),f=!0,void 0===o||"function"!=typeof o.importKey||"function"!=typeof o.sign){e.next=13;break}return e.next=10,dh.sign(t,r,n,i,o).catch((function(e){s=e.message,f=!1}));case 10:u=e.sent,e.next=20;break;case 13:if(void 0===a){e.next=19;break}return e.next=16,hh.sign(t,r,n,i,a).catch((function(e){s=e.message,f=!1}));case 16:u=e.sent,e.next=20;break;case 19:f=!1;case 20:if(!1!==f){e.next=24;break}return e.next=23,lh.sign(t,r,n,i).catch((function(e){throw s="".concat(s," => ").concat(e.message),new Error("UnsupportedEnvironment: ".concat(s))}));case 23:u=e.sent;case 24:return e.abrupt("return",u);case 25:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();He.sign=bh;var yh=function(){var e=(0,uh.default)(sh.default.mark((function e(t,r,n){var i,o,a,f,s,u,c,d=arguments;return sh.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]?d[3]:"SHA-256","raw"===(o=d.length>4&&void 0!==d[4]?d[4]:"raw")||"der"===o){e.next=4;break}throw new Error("InvalidSignatureFormat");case 4:if(a=ch.getWebCrypto(),f=ch.getNodeCrypto(),s=!0,void 0===a||"function"!=typeof a.importKey||"function"!=typeof a.verify){e.next=13;break}return e.next=10,dh.verify(t,r,n,i,o,a).catch((function(e){u=e.message,s=!1}));case 10:c=e.sent,e.next=20;break;case 13:if(void 0===f){e.next=19;break}return e.next=16,hh.verify(t,r,n,i,o,f).catch((function(e){u=e.message,s=!1}));case 16:c=e.sent,e.next=20;break;case 19:s=!1;case 20:if(!1!==s){e.next=24;break}return e.next=23,lh.verify(t,r,n,i,o).catch((function(e){throw u="".concat(u," => ").concat(e.message),new Error("UnsupportedEnvironment: ".concat(u))}));case 23:c=e.sent;case 24:return e.abrupt("return",c);case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();He.verify=yh;var vh=function(){var e=(0,uh.default)(sh.default.mark((function e(t,r){var n,i,o,a,f;return sh.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.crv===r.crv){e.next=2;break}throw new Error("UnmatchedCurveName");case 2:if(n=ch.getWebCrypto(),i=ch.getNodeCrypto(),o=!0,void 0===n||"function"!=typeof n.importKey||"function"!=typeof n.deriveBits){e.next=11;break}return e.next=8,dh.deriveSecret(t,r,n).catch((function(e){a=e.message,o=!1}));case 8:f=e.sent,e.next=12;break;case 11:if(void 0!==i)try{f=hh.deriveSecret(t,r,i)}catch(mh){a=mh.message,o=!1}else o=!1;case 12:if(!1!==o){e.next=23;break}return e.prev=13,e.next=16,lh.deriveSecret(t,r);case 16:f=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(13),a="".concat(a," => ").concat(e.t0.message),new Error("UnsupportedEnvironment: ".concat(a));case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,r){return e.apply(this,arguments)}}();He.deriveSecret=vh,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"generateKey",{enumerable:!0,get:function(){return t.generateKey}}),Object.defineProperty(e,"sign",{enumerable:!0,get:function(){return t.sign}}),Object.defineProperty(e,"verify",{enumerable:!0,get:function(){return t.verify}}),Object.defineProperty(e,"deriveSecret",{enumerable:!0,get:function(){return t.deriveSecret}}),e.default=void 0;var t=He,r={generateKey:t.generateKey,sign:t.sign,verify:t.verify,deriveSecret:t.deriveSecret};e.default=r}(We),window,re.exports=function(e){function t(t){for(var r,i,o=t[0],a=t[1],f=0,u=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(s&&s(t);u.length;)u.shift()()}var r={},n={0:0};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://static.line-scdn.net/liff/edge/2/",i.oe=function(e){throw e};var o=window.webpackJsonpliff=window.webpackJsonpliff||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var f=0;f<o.length;f++)t(o[f]);var s=a;return i(i.s=5)}([function(e,t){e.exports=ne.exports},function(e,t){e.exports=ie.exports},function(e,t){e.exports=Oe},function(e,t){e.exports=qe},function(e,t){!function(){if("function"!=typeof window.CustomEvent){let e=function(e,t){var r=t||{},n=r.bubbles,i=void 0!==n&&n,o=r.cancelable,a=void 0!==o&&o,f=r.detail,s=void 0===f?void 0:f,u=document.createEvent("CustomEvent");return u.initCustomEvent(e,i,a,s),u};e.prototype=Event.prototype,window.CustomEvent=e}}()},function(e,t,r){r.r(t),r.d(t,"liff",(function(){return gr})),r(2),r(3);var n,i,o=new Promise((function(e){n=e}));function a(){if(!i){var e=window.navigator.userAgent.toLowerCase();i=/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"}return i}function f(){return"2.12.0"}var s="INIT_FAILED",u="LIFF_STORE",c={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},d=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],h=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"];function l(e){return void 0===e&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}var p=null;function b(){var e,t;return null===p&&(void 0===e&&(e=window.navigator.userAgent),p=/Line\/\d+\.\d+\.\d+ LIFF/.test(e)||(void 0===t&&(t=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(t)&&/[#|&]access_token=/.test(location.hash))||"1"===sessionStorage.getItem(u+":isInClient"),sessionStorage.setItem(u+":isInClient",p?"1":"0")),!!p}var y,v,g=r(0),m=new Set(["400","401","403","404","429","500"]),w=function(e){function t(t,r){var n=e.call(this,r)||this;return n.code=t,n}return Object(g.__extends)(t,e),t}(Error);function _(e,t){return new w(e,t||"")}function S(e){return function(e,t){if(!t)throw _("INVALID_CONFIG","liffId is necessary for liff.init()");var r=(b()?sessionStorage:localStorage).getItem(u+":"+t+":"+e);try{return null===r?null:JSON.parse(r)}catch(n){return null}}(e,O().liffId)}function A(e,t){var r=O().liffId;if(!r)throw _("INVALID_CONFIG","liffId is necessary for liff.init()");(b()?sessionStorage:localStorage).setItem(u+":"+r+":"+e,JSON.stringify(t))}function E(e){var t=O().liffId;if(!t)throw _("INVALID_CONFIG","liffId is necessary for liff.init()");(b()?sessionStorage:localStorage).removeItem(u+":"+t+":"+e)}(v=y||(y={}))[v.DEBUG=1]="DEBUG",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR";var x=new(function(){function e(e){void 0===e&&(e=y.INFO),this.logLevel=e,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=y.DEBUG&&(e.unshift("[DEBUG]"),this._debug.apply(this,Object(g.__spread)(e)))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=y.INFO&&(e.unshift("[INFO]"),this._info.apply(this,Object(g.__spread)(e)))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=y.WARN&&(e.unshift("[WARN]"),this._warn.apply(this,Object(g.__spread)(e)))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=y.ERROR&&(e.unshift("[ERROR]"),this._error.apply(this,Object(g.__spread)(e)))},e}())(Number("3")),k={set:function(e,t,r){var n=e+"="+t;if(r)for(var i in r)n+="; "+i+(r[i]?"="+r[i]:"");x.debug("set cookie",n),document.cookie=n},get:function(e){var t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return document.cookie.replace(t,"$1")},remove:function(e,t){var r=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT";if(t)for(var n in t)r+="; "+n+"="+t[n];document.cookie=r}},M={get:S,set:A,remove:E,clean:function(){var e;Object.keys(c).forEach((function(e){E(c[e])})),e=O(),k.remove(u+":"+c.EXPIRES+":"+e.liffId,{path:"/"})}},I={};function O(){return I}function P(){return S(c.LOGIN_TMP)}function j(){E(c.LOGIN_TMP)}function C(){return S(c.ACCESS_TOKEN)}function B(e){A(c.ACCESS_TOKEN,e)}function T(e){A(c.CLIENT_ID,e)}function U(){return S(c.ID_TOKEN)}function L(e){A(c.ID_TOKEN,e)}function N(){return S(c.DECODED_ID_TOKEN)}function R(e){A(c.DECODED_ID_TOKEN,e)}function D(){return S(c.FEATURE_TOKEN)}function F(e){A(c.FEATURE_TOKEN,e)}function K(){return S(c.CONTEXT)}function z(e){A(c.CONTEXT,e)}function q(){return S(c.MST_CHALLENGE)}function W(){return S(c.MST)}function H(e){A(c.APP_DATA,e)}function J(){return!!C()}function V(){M.clean()}function G(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}function Z(e,t){if(e===t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length),o=0;o<i;o++){r[o]||(r[o]="0"),n[o]||(n[o]="0");var a=parseInt(r[o])-parseInt(n[o]);if(0!==a)return a>0?1:-1}return 0}var X=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen"];function Y(e){var t,r=K();return null===(t=null==r?void 0:r.availability)||void 0===t?void 0:t[e]}function $(e,t){var r=G();return!!r&&!(t&&Z(r,t)>0)&&Z(r,e)>=0}function Q(e){var t=Y(e);if(!t)return!1;var r=t.permission,n=t.minVer,i=t.unsupportedFromVer;return!!r&&!!b()&&$(n,i)}var ee={shareTargetPicker:function(){if(!J())return!1;var e=Y("shareTargetPicker");if(!e)return!1;var t=e.permission,r=e.minVer;if(!t)return!1;if(b()){var n=G();return null!==n&&Z(n,r)>=0}return!0},multipleLiffTransition:function(){var e=Y("multipleLiffTransition");if(!e)return!1;var t=e.permission;return b()&&t},subwindowOpen:function(){var e=Y("subwindowOpen");return!(!e||!e.permission)&&(!b()||$(e.minVer,e.unsupportedFromVer))},scanCode:function(){return Q("scanCode")},getAdvertisingId:function(){return Q("getAdvertisingId")},addToHomeScreen:function(){return Q("addToHomeScreen")},bluetoothLeFunction:function(){return Q("bluetoothLeFunction")},skipChannelVerificationScreen:function(){return Q("skipChannelVerificationScreen")}},te=function(e){if(!X.includes(e))throw _("INVALID_ARGUMENT","Unexpected API name.");var t=ee[e];return!t||t()};r(4);var re={},ne=!1;function ie(e,t){ne||(ne=!0,window.addEventListener("liffEvent",(function(e){e&&e.detail&&e.detail.type&&re[e.detail.type]&&re[e.detail.type].forEach((function(t){return t(e)}))}))),re[e]?re[e].push(t):re[e]=[t]}function oe(e,t){var r=re[e];if(r&&Array.isArray(r)){var n=r.indexOf(t);n>=0&&r.splice(n,1)}}function ae(e,t,r){void 0===t&&(t={}),void 0===r&&(r="");var n=D();if(!n)throw _("FORBIDDEN","Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw _("INVALID_ARGUMENT","postMessage is not available from client");x.debug("[js postMessage to client]",e,r,t),window._liff.postMessage(e,n,r,JSON.stringify(t))}var fe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function se(e){for(var t="",r=0;r<e;r++)t+=fe[Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296*fe.length)];return t}function ue(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={once:!0}),D()?(r=Object(g.__assign)({callbackId:se(12),once:!0},r),new Promise((function(n,i){var o=function(t){if(t&&t.detail){var a=t.detail.callbackId===r.callbackId,f="string"!=typeof t.detail.callbackId;(a||f)&&(r.once&&oe(e,o),x.debug("[callback detail]",t.detail),t.detail.error?i(t.detail.error):t.detail.data?n(t.detail.data):i(t.detail))}i()};ie(e,o),ae(e,t,r.callbackId)}))):Promise.reject(_("FORBIDDEN","Invalid featureToken for client features"))}function ce(){var e=G();null!==e&&("ios"===a()&&Z(e,"9.19")>=0||"android"===a()&&Z(e,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?null!==e&&Z(e,"10.15.0")>=0?"ios"===a()?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):ue("closeWindow"):window.close()}function de(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n;return Object(g.__generator)(this,(function(i){switch(i.label){case 0:if(!e.ok)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,i.sent()];case 3:return i.sent(),[2,e];case 4:return t=String(e.status),r=m.has(t)?t:"UNKNOWN",[4,e.json().catch((function(){throw _(r,e.statusText)}))];case 5:throw _((n=i.sent()).error||r,n.error_description||n.message)}}))}))}function he(e){var t=function(e){if(e)return e;var t=C();if(!t)throw _("UNAUTHORIZED","Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t}}(e&&e.headers);return Object(g.__assign)(Object(g.__assign)({},e),{headers:t})}function le(e,t){var r;try{r=he(t)}catch(n){return Promise.reject(n)}return fetch(e,r).then(de)}function pe(e,t){var r;try{r=he(t)}catch(n){return Promise.reject(n)}return fetch(e,r)}function be(e){var t=e.subdomain;return"https://"+(void 0===t?"api":t)+".line.me/"+e.pathname}var ye={token:be({pathname:"oauth2/v2.1/token"}),certs:be({pathname:"oauth2/v2.1/certs"}),"openid-configuration":be({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:be({subdomain:"access",pathname:"liff/v1/authorize"}),profile:be({pathname:"v2/profile"}),message:be({pathname:"message/v3/share"}),messageOTT:be({pathname:"message/v3/multisend?type=ott"}),friendship:be({pathname:"friendship/v1/status"}),shareTargetPicker:be({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:be({pathname:"liff/v2/apps"}),shareTargetPickerResult:be({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:be({pathname:"liff/v2/apps"}),subWindowGetMSIT:be({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:be({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:be({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:be({pathname:"liff/v2/sub/result"}),subWindowGetAppData:be({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(e){return be({pathname:"liff/v2/sub/"+e+"/origin"})},accessTokenVerify:be({pathname:"oauth2/v2.1/verify"})};function ve(e){return ye[e]}function ge(){return le(ve("profile"))}var me=function(e){return"object"==typeof e&&null!==e&&("string"==typeof(t=e.type)||t instanceof String);var t};function we(e){return Promise.reject(_("INVALID_ARGUMENT",e))}function _e(e){return Object.keys(e).map((function(t){var r=e[t],n=function(e){return void 0!==e?encodeURIComponent(t)+"="+encodeURIComponent(e):encodeURIComponent(t)};return Array.isArray(r)?r.map((function(e){return n(e)})).join("&"):n(r)})).join("&")}function Se(e,t){var r=Ae,n=Object(g.__read)(t.split("."),1)[0],i=r[t];i&&e.removeEventListener(n,i),r[t]=null}var Ae={},Ee=!1,xe=!1;function ke(e,t,r,n){Ee||(xe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!1}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(r){e=!1}return e}(),Ee=!0);var i=Object(g.__read)(t.split("."),1)[0];return new Promise((function(o){var a=function(i){o(i),r&&r(i),n&&n.once&&Se(e,t)};Ae[t]=a,e.addEventListener(i,a,!!xe&&n)}))}function Me(e,t,r,n){if(void 0===r&&(r={}),"object"!=typeof e||!e.postMessage)throw _("INVALID_ARGUMENT","target must be window object");if("string"!=typeof t)throw _("INVALID_ARGUMENT","keyname must be string");if("object"!=typeof r)throw _("INVALID_ARGUMENT","incorrect body format. It should be Object or Array comprised of Object");if(!n)throw _("INVALID_ARGUMENT","serverEndPointUrl isn't passed. please fill up with proper url");if("*"===n)throw new Error("serverEndPointUrl doesn't allow to set '*'");var i={name:t,body:r};e.postMessage(i,n)}function Ie(e,t,r,n){var i,o,a;ke(e,"message."+t,(i=t,o=r,a=n,function(e){x.debug("messageReceive",e),e.origin===a&&e.data.name===i&&o(e)}))}var Oe=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.liffId=e.referrer.liffId,this.doesWaitForSubwindowResult=!(!e.options||!e.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(e),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return n.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return t=n.sent(),this.finalize(),[2,t];case 3:return[2];case 4:return[3,6];case 5:if(r=n.sent(),this.finalize(),"AbortError"!==r.name)throw r;return[3,6];case 6:return[2]}}))}))},e.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var e,t;this.abortController&&this.abortController.abort(),b()||(e=this.timeoutIDForHealthCheck,t=this.popupWindow,Se(window,"message.receivedHealthcheck"),e&&clearTimeout(e),t&&!t.closed&&t.close())},e.prototype.buildPayloadToShareTargetPicker=function(e){return{messages:e.messages,referrer:e.referrer}},e.prototype.initAllowPostMessageOrigin=function(e){return void 0===e&&(e=ve("shareTargetPicker")),(t=e.match(/^(https?:\/\/.*?)\//))&&t[1]||"";var t},e.prototype.initOtt=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e,t,r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:return this.abortController&&(e=this.abortController.signal),t=ve("shareTargetPickerOtt")+"/"+this.liffId+"/ott",r=this,[4,le(t,{method:"GET",signal:e}).then((function(e){return e.ott}))];case 1:return r.ott=n.sent(),[2]}}))}))},e.prototype.prepareAnotherWindow=function(){b()||("ios"!==a()||l()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(b()&&this.payloadToShareTargetPicker)i=this.liffId,o=this.ott,a=this.payloadToShareTargetPicker,f={liffId:i,ott:o,data:JSON.stringify(a),closeModals:!1},location.href="line://picker?"+_e(f);else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw _("CREATE_SUBWINDOW_FAILED");e=this.popupWindow,t=this.liffId,r=this.ott,n={liffId:t,ott:r},e.location.href=ve("shareTargetPicker")+"?"+_e(n)}var e,t,r,n,i,o,a,f},e.prototype.initListener=function(){var e,t;b()||(e=this.onReceivedHealthcheck.bind(this),t=this.allowPostMessageOrigin,Ie(window,"receivedHealthcheck",e,t))},e.prototype.healthCheck=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e;return Object(g.__generator)(this,(function(t){switch(t.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.internalError=e,[3,4];case 4:return[3,6];case 5:this.finalize(),t.label=6;case 6:return[3,8];case 7:Me(this.popupWindow,"healthcheck",void 0,this.allowPostMessageOrigin),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),t.label=8;case 8:return[2]}}))}))},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw _("CREATE_SUBWINDOW_FAILED");Me(this.popupWindow,"ready",this.payloadToShareTargetPicker,this.allowPostMessageOrigin)},e.prototype.onCanceled=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(g.__generator)(this,(function(r){switch(r.label){case 0:if(b()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},[4,le(ve("shareTargetPickerResult")+"?"+_e(t),{method:"POST",signal:e,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,"ok"===r.sent().status]}}))}))},e.prototype.getShareResult=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(g.__generator)(this,(function(r){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},x.debug("fetch: getShareResult"),[2,le(ve("shareTargetPickerResult")+"?"+_e(t),{method:"GET",headers:{Accept:"application/json"},signal:e})]}))}))},e.isPollingTimeOut=function(e,t){return(t-e)/6e4>=10},e.prototype.pollingShareResult=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:t=Date.now(),n.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((r=n.sent())&&r.result)switch(r.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];case"FAILURE":default:throw new Error(r.resultDescription)}return[4,new Promise((function(e){setTimeout(e,500)}))];case 3:return n.sent(),[3,1];case 4:throw new Error("Timeout: not finished within 10min")}}))}))},e}(),Pe=function(){function e(){}return e.prototype.invoke=function(){return void 0===e&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e);var e},e}(),je=function(){function e(e){this.storage=e}return e.prototype.invoke=function(){return!!this.getInSubWindow()||!!new URLSearchParams(window.location.search).has("liff.subwindow")&&(this.setInSubWindow(!0),!0)},e.prototype.getInSubWindow=function(){var e=this.storage.getItem(u+":"+this.getLiffId()+":inSubWindow");return null!==e&&JSON.parse(e)},e.prototype.setInSubWindow=function(e){this.storage.setItem(u+":"+this.getLiffId()+":inSubWindow",String(e))},e.prototype.getLiffId=function(){var e=O().liffId;if(!e)throw _("INVALID_CONFIG","liffId is necessary for liff.init()");return e},e}(),Ce=new(function(){function e(){b()?this.impl=new Pe:this.impl=new je(sessionStorage)}return Object.defineProperty(e.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!0,configurable:!0}),e.prototype.install=function(){return this.impl.invoke.bind(this.impl)},e}()),Be=Ce.install();function Te(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(g.__generator)(this,(function(r){switch(r.label){case 0:if(!J())return[3,6];r.label=1;case 1:return r.trys.push([1,5,,6]),(e=N())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,ge()];case 3:if((t=r.sent())&&t.userId)return[2,t.userId];r.label=4;case 4:return[3,6];case 5:return r.sent(),x.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}}))}))}function Ue(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e;return Object(g.__generator)(this,(function(t){switch(t.label){case 0:return[4,Te()];case 1:return(e=t.sent())&&"u"===e.substring(0,1)?[2,e]:[2]}}))}))}function Le(e){var t=new URL(e),r=t.hash.slice(1).split("&").filter((function(e){return!d.some((function(t){return e.includes(t+"=")}))})).join("&");return t.hash=r,t.toString()}function Ne(e,t){if(!e)throw new Error("addParamsToUrl: invalid URL");var r=new URL(e);return Object.entries(t).forEach((function(e){var t=Object(g.__read)(e,2),n=t[0],i=t[1];r.searchParams.set(n,i)})),r.toString()}function Re(e){var t=e.match(De());return t&&t[1]}function De(){return new RegExp("^https://liff.line.me/(\\d+-\\w+)")}var Fe=function(){function e(e){this.liffCore=e,this.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},this.injected=!1}return Object.defineProperty(e,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"GENERAL_UTS_ID",{get:function(){return"liff_general"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"GENERAL_APP_NAME",{get:function(){return"LIFF General"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"analytics"},enumerable:!0,configurable:!0}),e.prototype.install=function(e){(0,e.addHooks)({startInit:this.startInit.bind(this),beforeInitFinished:this.beforeInitFinished.bind(this),beforeInitSuccess:this.beforeInitSuccess.bind(this),initError:this.initError.bind(this)})},e.prototype.changeRatioToUTSFormat=function(e){if(e&&Number.isFinite(e))return Math.round(100*e)},e.prototype.setExtra=function(){var t=this.utsExtra,r=t.isLiffSuccessful,n=t.isLoggedIn,i=t.id,o=t.version,a=(n?e.LiffUtsLoginStatus.isLoggedIn:0)|(r?e.LiffUtsLoginStatus.isLiffSuccessful:0);this.uts.setExtra("liff",{id:i,loginStatus:a,version:o})},e.prototype.assignUtsExtra=function(e){Object.assign(this.utsExtra,e)},e.prototype.setVersion=function(e){this.assignUtsExtra({version:e}),x.debug("[LIFFUTS][SDK version] "+e),this.setExtra()},e.prototype.setLiffId=function(e){this.assignUtsExtra({id:e}),x.debug("[LIFFUTS][LIFFID] "+e),this.setExtra()},e.prototype.setIsLoggedIn=function(e){this.assignUtsExtra({isLoggedIn:e}),x.debug("[LIFFUTS][isLoggedIn] "+e),this.setExtra()},e.prototype.sendLiffInit=function(){x.debug("[LIFFUTS][sendCustom] liff.init"),this.uts.sendCustom({type:e.CUSTOMTYPE,placeId:e.CUSTOMPLACEID_INIT})},e.prototype.setIsLiffSuccessful=function(e){this.assignUtsExtra({isLiffSuccessful:e}),x.debug("[LIFFUTS][isLiffInitSuccessful] "+e),this.setExtra()},e.prototype.startInit=function(e){var t={};Object.keys(e).forEach((function(r){if(h.includes(r)){var n=e[r];"string"==typeof n&&n&&(t[r.replace(/^liff\.ref\./,"")]=n)}})),Object.keys(t).length>0&&(this.referrer=t)},e.prototype.beforeInitFinished=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i,o,a,f,s,u,c,d,h;return Object(g.__generator)(this,(function(l){switch(l.label){case 0:if(t=K(),!(r=null==t?void 0:t.utsTracking))return[2];if("auto"!==(n=r.mode)&&"force"!==n)return[3,6];x.debug("[LIFFUTS] "+(new Date).toUTCString()),i=O(),o=i.liffId,a=i.analytics,l.label=1;case 1:return l.trys.push([1,3,,4]),f=this,[4,new Promise((function(e,t){var r=window.uts,n=document.createElement("script");n.type="text/javascript",n.src="https://static.line-scdn.net/uts/edge/4.0.0/uts.js",n.onload=function(){var t=window.uts;e(t),window.uts=r},n.onerror=function(e){t(e)},document.getElementsByTagName("head")[0].appendChild(n)}))];case 2:return f.uts=l.sent(),[3,4];case 3:return s=l.sent(),x.debug("[LIFFUTS] cannot load UTS, reason: "+s),[2];case 4:return u=void 0,c=void 0,"force"===n?(u={utsId:e.GENERAL_UTS_ID,appName:e.GENERAL_APP_NAME,appEnv:"release"},c={endpoint:"https://uts-front.line-apps.com",sampleRate:this.changeRatioToUTSFormat(r.sendRatio),version:"current"}):(u=Object(g.__assign)(Object(g.__assign)({},null==a?void 0:a.context),{utsId:(null==a?void 0:a.context.utsId)||e.GENERAL_UTS_ID,appName:(null==a?void 0:a.context.appName)||e.GENERAL_APP_NAME,appEnv:(null==a?void 0:a.context.appEnv)||"release"}),c=Object(g.__assign)(Object(g.__assign)({endpoint:"https://uts-front.line-apps.com"},null==a?void 0:a.options),{sampleRate:this.changeRatioToUTSFormat(r.sendRatio),version:"current"})),this.uts.init(u,c),[4,Ue()];case 5:(d=l.sent())&&(x.debug("[LIFFUTS][mid] "+d),this.uts.setMid(d)),(null==t?void 0:t.tid)&&(x.debug("[LIFFUTS][tid] "+t.tid),this.uts.setTid(t.tid)),this.referrer&&(x.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),o&&this.setLiffId(o),this.setIsLoggedIn(J()),this.setVersion("2.12.0"),h=Le(location.href),x.debug("[LIFFUTS][url] "+h),this.uts.setUrl(h),this.liffCore.analytics=this.uts,this.injected=!0,l.label=6;case 6:return[2]}}))}))},e.prototype.beforeInitSuccess=function(){this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit())},e.prototype.initError=function(){this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit())},e}(),Ke={};function ze(e,t){e&&Ke[e]&&Ke[e].forEach((function(e){e(t)}))}var qe,We,He,Je,Ve=function(){function e(e){this.storage=e}return e.prototype.getItem=function(e){return this.storage.getItem(this.getKeyPrefix()+":"+e)},e.prototype.setItem=function(e,t){this.storage.setItem(this.getKeyPrefix()+":"+e,t)},e.prototype.removeItem=function(e){this.storage.removeItem(this.getKeyPrefix()+":"+e)},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return u+":"+this.getLiffId()},e.prototype.getLiffId=function(){var e=O().liffId;if(!e)throw _("INVALID_CONFIG","liffId is necessary for liff.init()");return e},e}(),Ge=new Ve(new(function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(e){var t=this.map[e];return void 0===t?null:t},e.prototype.setItem=function(e,t){this.map[e]=t},e.prototype.removeItem=function(e){delete this.map[e]},e.prototype.key=function(e){var t=Object.keys(this.map)[e];return void 0===t?null:t},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!0,configurable:!0}),e}()));function Ze(){var e=Ge.getItem("subWindowStatusUpdated");return null!==e&&JSON.parse(e)}function Xe(e){Ge.setItem("subWindowStatusUpdated",String(e))}function Ye(e){qe=e}function $e(){return qe}function Qe(){return He}var et=new Ve(sessionStorage);function tt(e,t){void 0===t&&(t={});var r=et.getItem("mainWindowOrigin");if(!window.opener||!r)throw _("EXCEPTION_IN_SUBWINDOW");var n=JSON.stringify(t);return window.opener.postMessage({status:e,result:n},r),Promise.resolve({status:e,result:n})}function rt(e){var t=Je;if(e.origin===t){var r=e.data;if(r){var n,i=r.status,o=r.result;try{n=JSON.parse(o||"{}")}catch(a){n={}}switch(i){case"healthCheck":window.clearInterval(Qe());break;case"cancel":case"submit":Xe(!0),window.clearInterval(Qe()),window.removeEventListener("message",rt),ze(i,n);break;default:x.debug("unexpected message")}}}}function nt(){window.clearInterval(We),window.clearInterval(Qe()),window.removeEventListener("message",rt)}function it(e){var t=Re(e.url);if(!t)return Promise.reject(_("INVALID_ARGUMENT","params.url must be liff url"));!function(){nt(),Xe(!1);var e=$e();e&&(e.close(),Ye(null))}();var r,n,i,o,f=e.url,s=e.appData,u=new URL(f);u.searchParams.append("liff.subwindow","true"),u.hostname=(r=u.hostname,i=(n=Object(g.__read)(r.split(".")))[0],o=n.slice(1),Object(g.__spread)([i+"-ext"],o).join("."));var c,d=u.toString();return Ye("ios"!==a()||l()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),(c=t,le(ve("subWindowGetOrigin")(c))).then((function(e){var t,r=e.origin,n=$e();if(!n)throw _("CREATE_SUBWINDOW_FAILED");Je=r,window.addEventListener("message",rt),n.location.href=d,t=function(e,t){var r=$e(),n={type:"healthCheck"};return t&&(n.message=JSON.stringify(t)),window.setInterval((function(){null==r||r.postMessage(n,e)}),100)}(r,s),He=t,function(e){We=e}(window.setInterval((function(){var e=$e();e&&e.closed&&(nt(),Ye(null),!1===Ze()&&(Xe(!0),ze("close",{})))}),100))}))}function ot(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i,o,a,f,s,u,c,d;return Object(g.__generator)(this,(function(h){switch(h.label){case 0:t=e.msit,r=e.mstChallenge,n=e.onSuccess,i=e.onError,o=e.reconnectCount,a=void 0===o?0:o,h.label=1;case 1:return h.trys.push([1,3,,6]),[4,pe(ve("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:r})})];case 2:return f=h.sent(),[3,6];case 3:return h.sent(),[4,at()];case 4:return h.sent(),[4,st(ot,{msit:t,mstChallenge:r,onSuccess:n,onError:i,reconnectCount:a+=1})];case 5:return h.sent(),[2];case 6:return f.status>=500?[4,at()]:[3,9];case 7:return h.sent(),[4,st(ot,{msit:t,mstChallenge:r,onSuccess:n,onError:i,reconnectCount:a+=1})];case 8:return h.sent(),[3,20];case 9:return f.status>=400&&500>f.status?[4,ft(f)]:[3,11];case 10:return(u=h.sent())?(s=u.errorDetail,i(_("INVALID_ARGUMENT",s))):i(_("UNKNOWN","Some error happened in the server")),[3,20];case 11:return 200!==f.status?[3,19]:[4,ft(f)];case 12:return(u=h.sent())?[3,13]:(i(_("UNKNOWN","Some error happened in the server")),[3,18]);case 13:switch(c=u.status,d=u.result,c){case"error":return[3,14];case"close":case"cancel":case"submit":return[3,16]}return[3,17];case 14:return[4,st(ot,{msit:t,mstChallenge:r,onSuccess:n,onError:i,reconnectCount:a})];case 15:return h.sent(),[3,18];case 16:return n(c,d),[3,18];case 17:i(_("UNKNOWN","Some error happened in the server")),h.label=18;case 18:return[3,20];case 19:i(_("UNKNOWN","Some error happened in the server")),h.label=20;case 20:return[2]}}))}))}function at(){return new Promise((function(e){return setTimeout(e,1e3)}))}function ft(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){return Object(g.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function st(e,t){return Object(g.__awaiter)(this,void 0,void 0,(function(){return Object(g.__generator)(this,(function(r){switch(r.label){case 0:return t.reconnectCount>=10?(t.onError(_("UNKNOWN","Failed to connect")),[3,3]):[3,1];case 1:return[4,e(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function ut(e){var t={};return Object.keys(e).forEach((function(r){"closeButtonColor"===r?"white"===e[r]?t[r]="#ffffff":t[r]="#000000":t[r]=e[r]})),t}var ct={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function dt(e){var t=e.appData,r=e.native,n=O().liffId,i=q(),o=Re(e.url);if(!n)return Promise.reject(_("UNAUTHORIZED","liffId is invalid"));if(!i)return Promise.reject(_("UNAUTHORIZED","mst_challenge is invalid"));if(!o)return Promise.reject(_("INVALID_ARGUMENT","params.url must be liff url"));var a,f,s,u,c,d,h=Object.assign({},ct,r);return(a={mainLiffId:n,subLiffId:o,mstChallenge:i,appData:t,view:ut(h)},f=a.mainLiffId,s=a.subLiffId,u=a.mstChallenge,c=a.appData,d=a.view,f&&u?le(ve("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:f,subLiffId:s,mstChallenge:u,appData:c,view:d})}):Promise.reject(_("INVALID_ARGUMENT","no proper argument"))).then((function(t){var r=t.msit;ot({msit:r,mstChallenge:i,onSuccess:function(e,t){ze(e,t)},onError:function(e){ze("error",e)}}),function(e,t){var r=e.url,n=new URLSearchParams;n.set("msit",t),location.href="liff://subwindow?url="+encodeURIComponent(r)+"&"+n.toString()}(e,r)}))}function ht(){if(!Be())throw _("UNAUTHORIZED","this api can be only called in child window")}function lt(e){if(!e.mst||!e.status)return Promise.reject(_("INVALID_ARGUMENT","no proper argument"));var t=JSON.stringify(e);return le(ve("subWindowPost"),{method:"POST",body:t})}function pt(){var e,t=S(c.APP_DATA);try{e=t?JSON.parse(t):{}}catch(r){e={}}return Promise.resolve(e)}var bt={on:function(e,t){Ke[e]||(Ke[e]=[]),Ke[e].push(t)},off:function(e,t){if(Ke[e]){var r=Ke[e].indexOf(t);r>=0&&Ke[e].splice(r,1)}},open:function(e){if(!te("subwindowOpen"))throw _("FORBIDDEN","No permission for liff.subWindow.open()");return function(){if(Be())throw _("UNAUTHORIZED","this api can be only called in parent window")}(),b()?dt(e):it(e)},cancel:function(e){return void 0===e&&(e={}),ht(),b()?function(e){return void 0===e&&(e={}),Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:return(t=W())?[4,lt({mst:t,status:"cancel",result:e})]:[2,Promise.reject(_("UNAUTHORIZED","mst is invalid"))];case 1:return r=n.sent(),Xe(!0),[2,r]}}))}))}(e):(void 0===(t=e)&&(t={}),tt("cancel",t));var t},submit:function(e){return void 0===e&&(e={}),ht(),b()?function(e){return void 0===e&&(e={}),Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:return(t=W())?[4,lt({mst:t,status:"submit",result:e})]:[2,Promise.reject(_("UNAUTHORIZED","mst is invalid"))];case 1:return r=n.sent(),Xe(!0),[2,r]}}))}))}(e):(void 0===(t=e)&&(t={}),tt("submit",t));var t},close:function(){return ht(),b()?function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e;return Object(g.__generator)(this,(function(t){switch(t.label){case 0:return!1!==Ze()?[3,2]:(e=W())?[4,lt({mst:e,status:"close",result:{}})]:[2,Promise.reject(_("UNAUTHORIZED","mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return ce(),[2]}}))}))}():(ce(),Promise.resolve())},getAppData:function(){return ht(),pt()}},yt=function(){function e(){this.modules=new Set,this.hooksSet=new Set}return e.prototype.addHooks=function(e){this.hooksSet.add(e)},e.prototype.addModule=function(e){this.modules.add(e)},e.prototype.hasModule=function(e){return this.modules.has(e)},e.prototype.runHook=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Object(g.__awaiter)(this,void 0,void 0,(function(){var r,n,i,o,a,f,s;return Object(g.__generator)(this,(function(u){switch(u.label){case 0:r=[];try{for(n=Object(g.__values)(this.hooksSet),i=n.next();!i.done;i=n.next())o=i.value,"function"==typeof(a=o[e])&&r.push(a.apply(void 0,Object(g.__spread)(t)))}catch(c){f={error:c}}finally{try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(f)throw f.error}}return[4,Promise.all(r)];case 1:return u.sent(),[2]}}))}))},e.prototype.runSyncHook=function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];try{for(var o=Object(g.__values)(this.hooksSet),a=o.next();!a.done;a=o.next()){var f=a.value[e];"function"==typeof f&&f.apply(void 0,Object(g.__spread)(n))}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},e}(),vt=function(e){var t=this;this.driver=e,this.addHooks=function(e){t.driver.addHooks(e)}},gt=function(){function e(e,t){this.driver=e,this.option=t}return e.prototype.install=function(e){return this.factory(this.driver,e)},Object.defineProperty(e.prototype,"name",{get:function(){return"use"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!0,configurable:!0}),e.prototype.factory=function(e,t){var r=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(n,i){if(e.hasModule(n))return this;if(!n||"function"!=typeof n.install||"string"!=typeof n.name)return x.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var o=""+r+n.name,a=n.install.call(n,t,i);return this[""+o]?(x.warn("There is a duplicate plugin name. `"+n.name+"` plugin namespace will be override."),this[""+o]=a):void 0!==a&&(this[""+o]=a),e.addModule(n),this}},e}();function mt(e){var t=e.replace("#","").match(/.{2}/g)||[];if(4!==t.length)return x.warn("convertArgbToRgba: Received invalid ARGB color"),"";var r,n,i=(r=t[0],n=wt(r),Math.round(n/255*100)/100);return"rgba("+wt(t[1])+", "+wt(t[2])+", "+wt(t[3])+", "+i+")"}function wt(e){return parseInt(e,16)}function _t(e){var t=e.replace("#","").match(/.{2}/g)||[];return 3!==t.length?(x.warn("convertArgbToRgba: Received invalid hex color"),""):wt(t[0])+", "+wt(t[1])+", "+wt(t[2])}var St={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},At={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function Et(){var e;Mt("color-scheme",((null==(e=K())?void 0:e.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");xt({matches:null==t?void 0:t.matches,media:null==t?void 0:t.media}),t.addEventListener?t.addEventListener("change",xt):t.addListener&&t.addListener(xt)}function xt(e){var t=K(),r=(null==t?void 0:t.menuColorSetting)||{adaptableColorSchemes:["light"],lightModeColor:St,darkModeColor:At},n=r.adaptableColorSchemes,i=r.lightModeColor,o=r.darkModeColor,a=n.includes("dark");e.matches&&a?kt(Object(g.__assign)(Object(g.__assign)({},At),o)):kt(Object(g.__assign)(Object(g.__assign)({},St),i))}function kt(e){var t=e.iconColor,r=e.statusBarColor,n=e.titleTextColor,i=e.titleSubtextColor,o=e.titleButtonColor,a=e.titleBackgroundColor,f=e.progressBarColor,s=e.progressBackgroundColor,u=e.titleButtonAreaBackgroundColor,c=e.titleButtonAreaBorderColor,d=e.baseBackgroundColor,h=e.baseTextColor,l=e.lightButtonBorderColor;Mt("--liff-base-background-color",d),Mt("--liff-base-text-color",h),Mt("--liff-base-background-rgb-color",_t(d)),Mt("--liff-base-text-rgb-color",_t(h)),Mt("--liff-light-button-border-color",l),Mt("--liff-title-text-color",n),Mt("--liff-title-background-color",a),Mt("--liff-title-button-color",o),Mt("--liff-icon-color",t),Mt("--liff-status-bar-color",r),Mt("--liff-title-subtext-color",i),Mt("--liff-progress-bar-color",f),Mt("--liff-progress-background-color",s),Mt("--liff-title-button-area-background-color",mt(u)),Mt("--liff-title-button-area-border-color",mt(c))}function Mt(e,t){document.documentElement.style.setProperty(e,t)}function It(){var e;return"ios"===a()?(e=G())&&Z(e,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions.js"}function Ot(){return Object(g.__awaiter)(this,void 0,void 0,(function(){return Object(g.__generator)(this,(function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise((function(e,t){var r=document.createElement("script"),n=It();r.onload=function(){var r=window.liffClientExtension;r?e(r):t(_(s,"Unable to load client features. (Extension is empty)"))},r.onerror=function(){t(_(s,"Unable to load client features."))},r.src=n,r.type="text/javascript",document.body.appendChild(r)}))]}}))}))}function Pt(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t;return Object(g.__generator)(this,(function(r){switch(r.label){case 0:return[4,Ot()];case 1:return t=r.sent(),n=e,window&&!window.liff&&(window.liff=n),t.install(e),[2]}var n}))}))}function jt(){var e;return e=O(),!k.get(u+":"+c.EXPIRES+":"+e.liffId)}var Ct={parse:function(e){return e.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter((function(e){return e.length>0})).reduce((function(e,t){var r=Object(g.__read)(t.split("=").map(decodeURIComponent),2),n=r[0],i=r[1],o=e[n];return Array.isArray(o)?o.push(i):Object.prototype.hasOwnProperty.call(e,n)?e[n]=[o,i]:e[n]=i,e}),{})},stringify:_e};function Bt(e){var t=e.split(".");if(t[1])try{var r=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(r))}catch(n){return null}return null}function Tt(e){return window.atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function Ut(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}var Lt=function(){return Object(g.__awaiter)(this,void 0,void 0,(function(){return Object(g.__generator)(this,(function(e){switch(e.label){case 0:return[4,le(ve("certs"))];case 1:return[2,e.sent()]}}))}))},Nt=function(){return"ios"===a()&&null!==(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&parseInt(e[1],10)<=10;var e};function Rt(e,t,n){return Object(g.__awaiter)(this,void 0,void 0,(function(){var i,o,a,f;return Object(g.__generator)(this,(function(s){switch(s.label){case 0:return Nt()?[4,Promise.resolve().then(r.t.bind(null,6,7))]:[3,2];case 1:return o=s.sent(),a=o.default,i=a.verify(t,n,e,"SHA-256","raw"),[3,5];case 2:return[4,crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 3:return f=s.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},f,n,t)];case 4:i=s.sent(),s.label=5;case 5:return[2,i]}}))}))}function Dt(e,t){return Object(g.__awaiter)(this,void 0,void 0,(function(){var r,n,i,o,a,f,s,u,c,d,h,l,p,b,y;return Object(g.__generator)(this,(function(v){switch(v.label){case 0:return r=e.split("."),n=Object(g.__read)(r,3),i=n[0],o=n[1],a=n[2],f=JSON.parse(Tt(i)),s=JSON.parse((m=Tt(o).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""),decodeURIComponent(m))),u=Ut(Tt(a)),c=Ut(i+"."+o),[4,Lt()];case 1:if(d=v.sent(),!(h=d.keys.find((function(e){return e.kid===f.kid}))))return[3,6];if(delete h.alg,"ES256"!==f.alg)throw _("INVALID_ID_TOKEN",'Invalid "alg" value in ID_TOKEN');l=void 0,v.label=2;case 2:return v.trys.push([2,4,,5]),[4,Rt(h,c,u)];case 3:return l=v.sent(),[3,5];case 4:throw _("INVALID_ID_TOKEN","Failed to use Crypto API to verify ID_TOKEN: "+v.sent());case 5:if(l){if(p="https://access.line.me"!==s.iss,b=s.aud!==t,y=1e3*s.exp<Date.now(),p)throw _("INVALID_ID_TOKEN",'Invalid "iss" value in ID_TOKEN');if(b)throw _("INVALID_ID_TOKEN",'Invalid "aud" value in ID_TOKEN');if(y)throw _("INVALID_ID_TOKEN",'Invalid "exp" value in ID_TOKEN');return[2,s]}throw _("INVALID_ID_TOKEN","Invalid signature in ID_TOKEN");case 6:throw _("INVALID_ID_TOKEN",'Invalid "kid" value in ID_TOKEN');case 7:return[2]}var m}))}))}function Ft(e){var t=e.pathname,r=e.query,n="liff://"+t+(r?"?"+_e(r):"");location.href=n}var Kt=null;function zt(){return!!Boolean(S(c.IS_SUBSEQUENT_LIFF_APP))||!(!b()||Ct.parse(window.location.hash).feature_token||D())&&(A(c.IS_SUBSEQUENT_LIFF_APP,!0),!0)}function qt(){return Boolean(Kt)}function Wt(e){var t=e.msit,r=e.mstVerifier;return t&&r?le(ve("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:r})}):Promise.reject(_("INVALID_ARGUMENT","no proper argument"))}function Ht(e,t){return Object(g.__awaiter)(this,void 0,void 0,(function(){var r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:return(r=W())?[2,r]:e&&t?[4,Wt({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,n.sent().mst];case 2:return[2,null]}}))}))}function Jt(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function Vt(e){return le(ve("apps")+"/"+e+"/featureToken")}function Gt(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i,o,a,f;return Object(g.__generator)(this,(function(s){switch(s.label){case 0:return t=Ct.parse(window.location.hash),r=function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=function(t){Object.keys(t).filter((function(e){return null!==t[e]&&void 0!==t[e]})).forEach((function(r){e[r]=t[r]}))};try{for(var a=Object(g.__values)(n),f=a.next();!f.done;f=a.next())o(f.value)}catch(s){t={error:s}}finally{try{f&&!f.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return e}({access_token:C(),context_token:S(c.RAW_CONTEXT),feature_token:D(),id_token:U(),client_id:S(c.CLIENT_ID),mst_challenge:q(),mst_verifier:S(c.MST_VERIFIER),msit:S(c.MSIT)},t),qt()?J()?[4,Vt(e)]:[3,2]:[3,3];case 1:i=s.sent(),o=i.featureToken,a=i.features,n=a,r.feature_token||(r.feature_token=o),s.label=2;case 2:(f=Jt(e))&&(r.client_id=f),s.label=3;case 3:return[2,{credentials:r,features:n}]}}))}))}function Zt(e){if(e.persisted&&te("multipleLiffTransition"))if("ios"===a())window.location.reload();else{var t=O().liffId,r=D();if(!t)throw _(s,"Invalid LIFF ID.");if(!r)throw _("FORBIDDEN","Invalid featureToken for client features");Ft({pathname:"app/"+t,query:{feature_token:r}})}}function Xt(e){var t=e.mst;return t?le(ve("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject(_("INVALID_ARGUMENT","no proper argument"))}function Yt(e){return le(ve("accessTokenVerify")+"?access_token="+encodeURIComponent(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}function $t(e,t){return Object(g.__awaiter)(this,void 0,void 0,(function(){var r,n;return Object(g.__generator)(this,(function(i){switch(i.label){case 0:return[4,Yt(e)];case 1:return r=i.sent().client_id,n=Jt(t),[2,r===n]}}))}))}function Qt(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i,o,a,f,u,d,h,l,p,b;return Object(g.__generator)(this,(function(y){switch(y.label){case 0:return[4,new Promise((function(e){var t=G();if(!t||Z(t,"9.5.0")<0)e();else if(window._liff&&window._liff.features)e();else{x.debug("cannot find window._liff.features, listen to ready event");var r=function(){x.debug("ready event is fired"),oe("ready",r),e()};ie("ready",r)}}))];case 1:return y.sent(),"boolean"==typeof Kt&&x.warn("liff.init is not expected to be called more than once"),Kt=zt(),[4,Gt(e.liffId)];case 2:return t=y.sent().credentials,r=t.access_token,n=t.context_token,i=t.feature_token,o=t.id_token,a=t.client_id,f=t.mst_verifier,u=t.mst_challenge,d=t.msit,!Be()&&i&&(v=e.liffId,g=i,te("multipleLiffTransition")&&Ft({pathname:"app/"+v,query:{feature_token:g}}),qt()&&F(i)),n&&z(Bt(n)),u&&A(c.MST_CHALLENGE,u),f&&function(e){A(c.MST_VERIFIER,e)}(f),a&&T(a),d&&function(e){A(c.MSIT,e)}(d),window.addEventListener("pageshow",Zt),J()?[3,7]:i&&r?[3,5]:qt()?(h=Ne(location.href,{"liff.hback":"2"}),gr.login({redirectUri:h}),[4,new Promise((function(){}))]):[3,4];case 3:y.sent(),y.label=4;case 4:throw gr.login(),_(s,"Failed to parse feature_token or access_token");case 5:return[4,$t(r,e.liffId)];case 6:if(!y.sent())throw gr.login(),_(s,"Failed to verify access_token");F(i),B(r),y.label=7;case 7:return[4,Ht(d,f)];case 8:return(l=y.sent())?(function(e){A(c.MST,e)}(l),[4,Xt({mst:l})]):[3,10];case 9:(p=y.sent().data)&&H(JSON.stringify(p)),y.label=10;case 10:return o&&!U()&&L(o),o&&a&&!N()?[4,Dt(o,a)]:[3,12];case 11:(b=y.sent())&&R(b),y.label=12;case 12:return[2]}var v,g}))}))}function er(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i,o,a,f;return Object(g.__generator)(this,(function(u){switch(u.label){case 0:return t=ve("apps"),r=t+"/"+e+"/contextToken",n=C(),i={"Content-Type":"application/json",Accept:"application/json"},n&&(i.Authorization="Bearer "+n),[4,le(r,{headers:i})];case 1:if(o=u.sent(),!(a=o.contextToken))throw _(s,"Can not get context from server.");if(!(f=Bt(a)))throw _(s,"Invalid context token.");return[2,f]}}))}))}function tr(){return Object(g.__awaiter)(this,void 0,void 0,(function(){var e;return Object(g.__generator)(this,(function(t){switch(t.label){case 0:if(!(e=O().liffId))throw _(s,"Invalid LIFF ID.");return[4,er(e)];case 1:return z(t.sent()),[2]}}))}))}function rr(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i=this;return Object(g.__generator)(this,(function(o){switch(o.label){case 0:t=function(){return Object(g.__awaiter)(i,void 0,void 0,(function(){var t,r,n,i,o,a;return Object(g.__generator)(this,(function(f){switch(f.label){case 0:return[4,(h=O(),l=Ct.parse(window.location.search),p=P(),b={grant_type:"authorization_code",client_id:l.liffClientId,appId:h.liffId,code:l.code,code_verifier:p.codeVerifier,redirect_uri:h.redirectUri||l.liffRedirectUri,id_token_key_type:"JWK"},y=Ct.stringify(b),le(ve("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:y}))];case 1:return t=f.sent(),r=t.access_token,n=t.id_token,i=t.expires_in,T(e),B(r),s=new Date(Date.now()+1e3*i),d=O(),k.set(u+":"+c.EXPIRES+":"+d.liffId,s.getTime(),{expires:s.toUTCString(),path:"/",secure:null}),j(),n?(L(n),[4,Dt(n,e)]):[3,3];case 2:(o=f.sent())&&R(o),f.label=3;case 3:return(a=Ct.parse(location.hash).context_token)?(z(Bt(a)),[3,6]):[3,4];case 4:return[4,tr()];case 5:f.sent(),f.label=6;case 6:return[2]}var s,d,h,l,p,b,y}))}))},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t()];case 2:return o.sent(),[3,4];case 3:throw r=o.sent(),n=r,j(),n;case 4:return[2]}}))}))}function nr(e){var t,r=e.data,n=e.source,i=e.origin;if(r){var o=r.type,a=r.message;"healthCheck"===o&&(window.removeEventListener("message",nr),a&&H(a),t=i,et.setItem("mainWindowOrigin",t),n&&n.postMessage&&n.postMessage({status:"healthCheck"},i))}}function ir(e,t){return Object(g.__awaiter)(this,void 0,void 0,(function(){var r;return Object(g.__generator)(this,(function(n){switch(n.label){case 0:if(!e.liffId)throw _("INVALID_CONFIG","liffId is necessary for liff.init()");return I=e,!b()&&J()&&jt()&&V(),r=Ct.parse(window.location.search),[4,t.runHook("startInit",r)];case 1:if(n.sent(),Be()&&!b()&&(window.removeEventListener("message",nr),window.addEventListener("message",nr)),r.error&&r.liffOAuth2Error)throw f=r.error,u=r.error_description.replace(/\+/g," "),_(s,f+": "+u);return o=r.code,a=P(),Boolean(o&&!J()&&a&&a.codeVerifier)?[4,rr(r.liffClientId)]:[3,3];case 2:n.sent(),n.label=3;case 3:return b()?[4,Qt(e)]:[3,5];case 4:return n.sent(),[3,7];case 5:return J()?[3,7]:[4,tr()];case 6:n.sent(),n.label=7;case 7:return[4,t.runHook("beforeInitFinished")];case 8:return n.sent(),i=Le(window.location.href),window.history.replaceState(history.state,"",i),[2]}var i,o,a,f,u}))}))}var or=function(){function e(e,t){this.liffCore=e,this.moduleDriver=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"init"},enumerable:!0,configurable:!0}),e.prototype.install=function(){return this.init.bind(this)},e.prototype.init=function(e,t,r){return Object(g.__awaiter)(this,void 0,void 0,(function(){var i;return Object(g.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,Promise.all([Pt(this.liffCore),ir(e,this.moduleDriver)])];case 1:return o.sent(),[4,this.moduleDriver.runHook("beforeInitSuccess")];case 2:return o.sent(),Et(),"function"==typeof t&&t(),n(),[3,5];case 3:return i=o.sent(),[4,this.moduleDriver.runHook("initError",i)];case 4:throw o.sent(),"function"==typeof r&&r(i),i;case 5:return[2]}}))}))},e}(),ar=new(function(){function e(){var e=this;this.extraParams="",this.getAndValidateContext=function(){var e=K();if(!e)throw _(s,"Could not get Context from server.");if(!e.endpointUrl)throw _(s,"Could not get endpointUrl from server.");if(!e.permanentLinkPattern)throw _(s,"Could not get permanentLinkPattern from server.");return e},this.createUrl=function(){var t=e.getAndValidateContext(),r=window.location,n=r.pathname,i=r.search,o=r.hash,a=r.origin,f=new URL(t.endpointUrl);if(f.origin!==a||!e.isAncestor(f.pathname,n))throw _("INVALID_CONFIG","Current page is not under entrypoint.");var s=n.substring(f.pathname.length);s.length>0&&"/"!==s[0]&&(s="/"+s);var u=new RegExp("^"+d.join("|")),c=o.substring(1).split("&").filter((function(e){return!u.test(e)&&Boolean(e)})).join("&"),h=c===f.hash.substring(1)?"":c,l=function(e){return e.substring(1).split("&").filter((function(e){return!/liff\.state/.test(e)&&Boolean(e)}))},p=l(i),b=l(f.search);e.extraParams&&p.push(e.extraParams);for(var y=0;y<b.length;y++){var v=b[y],g=p.indexOf(v);g>-1&&p.splice(g,1)}var m=p.join("&"),w=s+(""!==m?"?"+m:"")+(h?"#"+h:"");return"https://liff.line.me/"+O().liffId+w},this.setExtraQueryParam=function(t){e.extraParams=t},this.isAncestor=function(e,t){return 0===t.indexOf(e)&&(e.endsWith("/")&&(e=e.substring(0,e.length-1)),void 0===t[e.length]||"/"===t[e.length])},this.install=function(){return{createUrl:e.createUrl,setExtraQueryParam:e.setExtraQueryParam}}}return Object.defineProperty(e.prototype,"name",{get:function(){return"permanentLink"},enumerable:!0,configurable:!0}),e}()),fr=new(function(){function e(){var e=this;this.getAndValidateContext=function(){var e=K();if(!e)throw _(s,"Could not get Context from server.");if(!e.endpointUrl)throw _(s,"Could not get endpointUrl from server.");if(!e.permanentLinkPattern)throw _(s,"Could not get permanentLinkPattern from server.");return e},this.decodeState=function(t){var r=e.getAndValidateContext(),n=t,i=new URL(r.endpointUrl),o=i.origin,a=i.pathname,f=i.search,s=n.indexOf("?"),u=n.indexOf("#",s+1),c=n.substring(0,s>=0?s:u>=0?u:n.length),d=u>-1?"#"+n.substring(u+1):"",h=s>-1?n.substring(s+1,u<0?void 0:u):"";c.length>0&&("/"===c?c="":n.startsWith("/")||(c="/"+c));var l=d.split("&").filter((function(e){return!/^context_token/.test(e)})).join("&");if(h){var p=f?f.substring(1)+"&":"";n=c+"?"+p+h+l}else n=""+c+f+l;return""+o+function(){switch(!0){case"/"===a:return"";case a.endsWith("/")&&c.startsWith("/"):return a.substring(0,a.length-1);default:return a}}()+n},this.handleLiffState=function(){return Object(g.__awaiter)(e,void 0,void 0,(function(){var e,t,r,n,i;return Object(g.__generator)(this,(function(o){switch(o.label){case 0:if(e=Ct.parse(window.location.search),"string"!=typeof(t=e["liff.state"]))return[2];o.label=1;case 1:return o.trys.push([1,4,,5]),r=location.href,(n=this.decodeState(t))===r?[3,3]:(e["liff.hback"]?location.replace(Ne(n,{"liff.hback":e["liff.hback"]})):location.replace(n),[4,new Promise((function(){}))]);case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if((i=o.sent()).code===s)throw i;return x.debug(i),[3,5];case 5:return[2]}}))}))},this.install=function(t){(0,t.addHooks)({beforeInitFinished:e.handleLiffState})}}return Object.defineProperty(e.prototype,"name",{get:function(){return"handleLiffState"},enumerable:!0,configurable:!0}),e}()),sr=r(1),ur=r.n(sr);function cr(e){return(t=ur()(e),r="",t.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach((function(e){r+=String.fromCharCode(parseInt(e))})),window.btoa(r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");var t,r}var dr,hr,lr,pr,br,yr=function(){function e(e){this.driver=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"login"},enumerable:!0,configurable:!0}),e.prototype.install=function(){return this.login.bind(this)},e.prototype.login=function(e){this.driver.runSyncHook("beforeLogin",e);var t=se(43),r=cr(t),n=O();if(!n||!n.liffId)throw _("INVALID_CONFIG","You need to define `liffId` for liff.login()");var i={app_id:n.liffId,state:se(12),response_type:"code",code_challenge_method:"S256",code_challenge:r,liff_sdk_version:"2.12.0"};e&&e.redirectUri&&(i.redirect_uri=e.redirectUri),A(c.LOGIN_TMP,{codeVerifier:t});var o=ve("authorize")+"?"+Ct.stringify(i);x.debug("[Redirect] "+o),window.location.href=o},e}(),vr={getOS:a,getVersion:f,getLanguage:function(){return navigator.language},isInClient:b,isLoggedIn:J,logout:V,getAccessToken:C,getIDToken:U,getDecodedIDToken:N,getContext:K,openWindow:function(e){if(!function(e){if(!e||"object"!=typeof e)return!1;var t=e,r=t.url,n=t.external,i=Object(g.__read)([typeof r,typeof n],2),o=i[0],a=i[1];return"string"===o&&""!==r&&("undefined"===a||"boolean"===a)}(e))throw _("INVALID_ARGUMENT","Invalid parameters for liff.openWindow()");var t,r,n,i,o,f,s,u,c,d=G();if(b())if(null!==d&&"ios"===a()&&Z(d,"9.19")>=0||!window._liff.postMessage){var h=e.url,l=e.external,p=void 0!==l&&l;window.open((t=h,r=p,n=Object(g.__read)(t.split("?"),2),i=n[0],o=n[1],f=void 0===o?"":o,s=Object(g.__read)(f.split("#"),2),u=s[0],c=s[1],i+"?is_liff_external_open_window="+!!r+(u?"&"+u.split("&").filter((function(e){return-1===e.indexOf("is_liff_external_open_window")})).join("&").concat(c?"#"+c:""):"")))}else ue("openWindow",e);else window.open(e.url,"_blank")},closeWindow:ce,getFriendship:function(){return le(ve("friendship"))},getAId:function(){return((K()||{}).d||{}).aId},getProfilePlus:function(){return(K()||{}).profilePlus},getIsVideoAutoPlay:function(){return((K()||{}).d||{}).autoplay||!1},getLineVersion:G,isApiAvailable:te,getProfile:ge,sendMessages:function(e){if(t=e,!Array.isArray(t)||!t.every(me))return we("Parameter 'messages' must be an array of { type, ... }");var t,r=e.length;return r<1||r>5?we("Number of messages should be in range 1 to 5."):le(ve("message"),{method:"POST",body:JSON.stringify({messages:e})})},shareTargetPicker:function(e){return Object(g.__awaiter)(this,void 0,void 0,(function(){var t,r,n,i,o,a;return Object(g.__generator)(this,(function(f){switch(f.label){case 0:if(function(){if(Be())throw _("FORBIDDEN","The operation is not allowed in the SubWindow");var e=((K()||{}).availability||{}).shareTargetPicker||{},t=e.permission,r=e.minVer;if(!t)throw b()?_("FORBIDDEN","Need LINE App "+r+" at least or consent on shareTargetPicker usage on LINE developer site"):_("FORBIDDEN","Need consent on shareTargetPicker usage on LINE developer site")}(),!J())throw _("UNAUTHORIZED","Need access_token for api call, Please login first");if(!e||!Array.isArray(e)||0===e.length)throw _("INVALID_ARGUMENT","no proper argument");if(e.length>5)throw _("INVALID_ARGUMENT","exceed the limit of num of messages");if(!(t=O().liffId))throw _("INVALID_CONFIG");window.liff&&(r=window.liff).analytics&&(s=r.analytics,x.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),s.sendCustom({type:"liffSdk",placeId:"liff.shareTargetPicker"})),f.label=1;case 1:return f.trys.push([1,3,,4]),n=Oe.getInstance(),i=G(),o={waitForSubwindowResult:!0},b()&&i&&Z(i,"10.11.0")<0&&(o.waitForSubwindowResult=!1),[4,n.init({messages:e,referrer:{liffId:t,url:location.origin},options:o})];case 2:return[2,f.sent()];case 3:throw(a=f.sent())instanceof w?a:_("EXCEPTION_IN_SUBWINDOW",a.message);case 4:return[2]}var s}))}))},subWindow:bt,ready:o,get id(){return O().liffId||null},_dispatchEvent:function(e){var t={};try{t=JSON.parse(e)}catch(n){throw _("INVALID_ARGUMENT",n.message)}var r=new CustomEvent("liffEvent",{detail:t});x.debug("[client dispatchEvent to js]",{type:r.type,detail:r.detail}),window.dispatchEvent(r)},_call:ue,_addListener:ie,_removeListener:oe,_postMessage:ae};lr=[new or(dr=vr,hr=new yt),new Fe(dr),new yr(hr),ar,fr,Ce],pr=new vt(hr),br=new gt(hr,{namespacePrefix:""}).install(pr).bind(dr),lr.forEach(br);var gr=vr;t.default=gr},function(e,t){e.exports=We}]).default;export{m as a,s as c,E as i,re as l,_ as r,A as s,S as t};
